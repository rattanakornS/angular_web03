"use strict";var hq=Object.defineProperty,fq=Object.defineProperties,pq=Object.getOwnPropertyDescriptors,MF=Object.getOwnPropertySymbols,mq=Object.prototype.hasOwnProperty,gq=Object.prototype.propertyIsEnumerable,kF=(it,Ce,P)=>Ce in it?hq(it,Ce,{enumerable:!0,configurable:!0,writable:!0,value:P}):it[Ce]=P,RF=(it,Ce)=>{for(var P in Ce||(Ce={}))mq.call(Ce,P)&&kF(it,P,Ce[P]);if(MF)for(var P of MF(Ce))gq.call(Ce,P)&&kF(it,P,Ce[P]);return it},OF=(it,Ce)=>fq(it,pq(Ce));(self.webpackChunkfirebase=self.webpackChunkfirebase||[]).push([[179],{2011:(it,Ce,P)=>{P.d(Ce,{Dh:()=>he,GT:()=>me,cc:()=>Te,hO:()=>Ge,on:()=>G,pX:()=>ae,xv:()=>ge});var l=P(5e3),ee=P(127),N=P(5813);it=P.hmd(it);const de=["ngOnDestroy"],ae=(De,Ke,nt,Ae={})=>new Proxy(De,{get:(ye,Ie)=>nt.runOutsideAngular(()=>{var Be;if(De[Ie])return(null===(Be=null==Ae?void 0:Ae.spy)||void 0===Be?void 0:Be.get)&&Ae.spy.get(Ie,De[Ie]),De[Ie];if(de.indexOf(Ie)>-1)return()=>{};const je=Ke.toPromise().then(W=>{const Ee=W&&W[Ie];return"function"==typeof Ee?Ee.bind(W):Ee&&Ee.then?Ee.then(Y=>nt.run(()=>Y)):nt.run(()=>Ee)});return new Proxy(()=>{},{get:(W,Ee)=>je[Ee],apply:(W,Ee,Y)=>je.then(re=>{var te;const _e=re&&re(...Y);return(null===(te=null==Ae?void 0:Ae.spy)||void 0===te?void 0:te.apply)&&Ae.spy.apply(Ie,Y,_e),_e})})})}),me=(De,Ke)=>{Ke.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(Ae=>{Object.defineProperty(De.prototype,Ae,Object.getOwnPropertyDescriptor(nt.prototype||nt,Ae))})})};class ie{constructor(Ke){return Ke}}const he=new l.OlP("angularfire2.app.options"),ge=new l.OlP("angularfire2.app.name");function G(De,Ke,nt){const ye="object"==typeof nt&&nt||{};ye.name=ye.name||"string"==typeof nt&&nt||"[DEFAULT]";const Be=ee.Z.apps.filter(je=>je&&je.name===ye.name)[0]||Ke.runOutsideAngular(()=>ee.Z.initializeApp(De,ye));try{JSON.stringify(De)!==JSON.stringify(Be.options)&&z("error",`${Be.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ie(Be)}const z=(De,...Ke)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...Ke)},ne={provide:ie,useFactory:G,deps:[he,l.R0b,[new l.FiY,ge]]};let Ge=(()=>{class De{constructor(nt){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",l.q4F.full,nt.toString())}static initializeApp(nt,Ae){return{ngModule:De,providers:[{provide:he,useValue:nt},{provide:ge,useValue:Ae}]}}}return De.\u0275fac=function(nt){return new(nt||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[ne]}),De})();function Te(De,Ke,nt,Ae,ye){const[,Ie,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===De)||[];if(Ie)return function Re(De,Ke){try{return De.toString()===Ke.toString()}catch(nt){return De===Ke}}(ye,Be)||(pe("error",`${Ke} was already initialized on the ${nt} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ye,was:Be})),Ie;{const je=Ae();return globalThis.\u0275AngularfireInstanceCache.push([De,je,ye]),je}}const He=!!it.hot,pe=(De,...Ke)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,Ce,P)=>{P.d(Ce,{q4:()=>Bt,iC:()=>Jl,fc:()=>Jd,HU:()=>ng,vb:()=>Xd,JM:()=>Ql});var l=P(5e3),ee=P(5867),N=P(5861),de=P(9681),ae=P(2090),me=P(4859),ie=P(1877),he=P(8766);const ge="@firebase/installations",G="0.5.12",ne=`w:${G}`,Ge="FIS_v2",Ke=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function Ae({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function ye(D){return{token:D.token,requestStatus:2,expiresIn:re(D.expiresIn),creationTime:Date.now()}}function Ie(D,S){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(D,S){const V=(yield S.json()).error;return Ke.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function je({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function W(D,{refreshToken:S}){const M=je(D);return M.append("Authorization",function te(D){return`${Ge} ${D}`}(S)),M}function Ee(D){return Y.apply(this,arguments)}function Y(){return(Y=(0,N.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function re(D){return Number(D.replace("s","000"))}function _e(D,S){return ce.apply(this,arguments)}function ce(){return(ce=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:M}){const V=Ae(D),Q=je(D),oe=S.getImmediate({optional:!0});if(oe){const Dt=yield oe.getHeartbeatsHeader();Dt&&Q.append("x-firebase-client",Dt)}const Ze={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:Ge,appId:D.appId,sdkVersion:ne})},ut=yield Ee(()=>fetch(V,Ze));if(ut.ok){const Dt=yield ut.json();return{fid:Dt.fid||M,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:ye(Dt.authToken)}}throw yield Ie("Create Installation",ut)})).apply(this,arguments)}function Pe(D){return new Promise(S=>{setTimeout(S,D)})}const qt=/^[cdef][\w-]{21}$/;function Je(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function tn(D){return function pt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return qt.test(M)?M:""}catch(D){return""}}function Mn(D){return`${D.appName}!${D.appId}`}const un=new Map;function Jt(D,S){const M=Mn(D);Ut(M,S),function Ds(D,S){const M=function Ei(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=D=>{Ut(D.data.key,D.data.fid)}),mr}();M&&M.postMessage({key:D,fid:S}),function er(){0===un.size&&mr&&(mr.close(),mr=null)}()}(M,S)}function Ut(D,S){const M=un.get(D);if(M)for(const V of M)V(S)}let mr=null;const tr="firebase-installations-store";let Kr=null;function wt(){return Kr||(Kr=(0,he.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(tr)}})),Kr}function nr(D,S){return kn.apply(this,arguments)}function kn(){return(kn=(0,N.Z)(function*(D,S){const M=Mn(D),Q=(yield wt()).transaction(tr,"readwrite"),oe=Q.objectStore(tr),Se=yield oe.get(M);return yield oe.put(S,M),yield Q.done,(!Se||Se.fid!==S.fid)&&Jt(D,S.fid),S})).apply(this,arguments)}function Jn(D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,N.Z)(function*(D){const S=Mn(D),V=(yield wt()).transaction(tr,"readwrite");yield V.objectStore(tr).delete(S),yield V.done})).apply(this,arguments)}function Is(D,S){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,N.Z)(function*(D,S){const M=Mn(D),Q=(yield wt()).transaction(tr,"readwrite"),oe=Q.objectStore(tr),Se=yield oe.get(M),Ze=S(Se);return void 0===Ze?yield oe.delete(M):yield oe.put(Ze,M),yield Q.done,Ze&&(!Se||Se.fid!==Ze.fid)&&Jt(D,Ze.fid),Ze})).apply(this,arguments)}function Hn(D){return Or.apply(this,arguments)}function Or(){return(Or=(0,N.Z)(function*(D){let S;const M=yield Is(D.appConfig,V=>{const Q=sa(V),oe=Zt(D,Q);return S=oe.registrationPromise,oe.installationEntry});return""===M.fid?{installationEntry:yield S}:{installationEntry:M,registrationPromise:S}})).apply(this,arguments)}function sa(D){return Zs(D||{fid:Je(),registrationStatus:0})}function Zt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ke.create("app-offline"))};const M={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(D,S){return It.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Di(D)}:{installationEntry:S}}function It(){return(It=(0,N.Z)(function*(D,S){try{const M=yield _e(D,S);return nr(D.appConfig,M)}catch(M){throw nt(M)&&409===M.customData.serverCode?yield Jn(D.appConfig):yield nr(D.appConfig,{fid:S.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Di(D){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(D){let S=yield Gt(D.appConfig);for(;1===S.registrationStatus;)yield Pe(100),S=yield Gt(D.appConfig);if(0===S.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield Hn(D);return V||M}return S})).apply(this,arguments)}function Gt(D){return Is(D,S=>{if(!S)throw Ke.create("installation-not-found");return Zs(S)})}function Zs(D){return function Ii(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Vi(D,S){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},M){const V=Ws(D,M),Q=W(D,M),oe=S.getImmediate({optional:!0});if(oe){const Dt=yield oe.getHeartbeatsHeader();Dt&&Q.append("x-firebase-client",Dt)}const Ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:ne,appId:D.appId}})},ut=yield Ee(()=>fetch(V,Ze));if(ut.ok)return ye(yield ut.json());throw yield Ie("Generate Auth Token",ut)})).apply(this,arguments)}function Ws(D,{fid:S}){return`${Ae(D)}/${S}/authTokens:generate`}function j(D){return Z.apply(this,arguments)}function Z(){return(Z=(0,N.Z)(function*(D,S=!1){let M;const V=yield Is(D.appConfig,oe=>{if(!ht(oe))throw Ke.create("not-registered");const Se=oe.authToken;if(!S&&sn(Se))return oe;if(1===Se.requestStatus)return M=H(D,S),oe;{if(!navigator.onLine)throw Ke.create("app-offline");const Ze=ai(oe);return M=xe(D,Ze),Ze}});return M?yield M:V.authToken})).apply(this,arguments)}function H(D,S){return $.apply(this,arguments)}function $(){return($=(0,N.Z)(function*(D,S){let M=yield q(D.appConfig);for(;1===M.authToken.requestStatus;)yield Pe(100),M=yield q(D.appConfig);const V=M.authToken;return 0===V.requestStatus?j(D,S):V})).apply(this,arguments)}function q(D){return Is(D,S=>{if(!ht(S))throw Ke.create("not-registered");return function Vt(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function xe(D,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*(D,S){try{const M=yield Vi(D,S),V=Object.assign(Object.assign({},S),{authToken:M});return yield nr(D.appConfig,V),M}catch(M){if(!nt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield nr(D.appConfig,V)}else yield Jn(D.appConfig);throw M}})).apply(this,arguments)}function ht(D){return void 0!==D&&2===D.registrationStatus}function sn(D){return 2===D.requestStatus&&!function Wt(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function ai(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function Qr(){return(Qr=(0,N.Z)(function*(D){const S=D,{installationEntry:M,registrationPromise:V}=yield Hn(S);return V?V.catch(console.error):j(S).catch(console.error),M.fid})).apply(this,arguments)}function Va(){return(Va=(0,N.Z)(function*(D,S=!1){const M=D;return yield ei(M),(yield j(M,S)).token})).apply(this,arguments)}function ei(D){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,N.Z)(function*(D){const{registrationPromise:S}=yield Hn(D);S&&(yield S)})).apply(this,arguments)}function aa(D){return Ke.create("missing-app-config-values",{valueName:D})}const rr="installations",ft=D=>{const S=D.getProvider("app").getImmediate(),M=function mi(D){if(!D||!D.options)throw aa("App Configuration");if(!D.name)throw aa("App Name");const S=["projectId","apiKey","appId"];for(const M of S)if(!D.options[M])throw aa(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:M,heartbeatServiceProvider:(0,de._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},on=D=>{const S=D.getProvider("app").getImmediate(),M=(0,de._getProvider)(S,rr).getImmediate();return{getId:()=>function _r(D){return Qr.apply(this,arguments)}(M),getToken:Q=>function oa(D){return Va.apply(this,arguments)}(M,Q)}};(function sr(){(0,de._registerComponent)(new me.wA(rr,ft,"PUBLIC")),(0,de._registerComponent)(new me.wA("installations-internal",on,"PRIVATE"))})(),(0,de.registerVersion)(ge,G),(0,de.registerVersion)(ge,G,"esm2017");const Xr="@firebase/remote-config",On=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zm{constructor(S,M,V,Q){this.client=S,this.storage=M,this.storageCache=V,this.logger=Q}isCachedDataFresh(S,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,Q=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var M=this;return(0,N.Z)(function*(){const[V,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(S.cacheMaxAgeMillis,V))return Q;S.eTag=Q&&Q.eTag;const oe=yield M.client.fetch(S),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Se),oe})()}}function Id(D=navigator){return D.languages&&D.languages[0]||D.language}class Ti{constructor(S,M,V,Q,oe,Se){this.firebaseInstallations=S,this.sdkVersion=M,this.namespace=V,this.projectId=Q,this.apiKey=oe,this.appId=Se}fetch(S){var M=this;return(0,N.Z)(function*(){var V,Q,oe;const[Se,Ze]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},lt={sdk_version:M.sdkVersion,app_instance_id:Se,app_instance_id_token:Ze,app_id:M.appId,language_code:Id()},qn={method:"POST",headers:xt,body:JSON.stringify(lt)},Zn=fetch(Dt,qn),po=new Promise((ds,Br)=>{S.signal.addEventListener(()=>{const Da=new Error("The operation was aborted.");Da.name="AbortError",Br(Da)})});let mo;try{yield Promise.race([Zn,po]),mo=yield Zn}catch(ds){let Br="fetch-client-network";throw"AbortError"===(null===(V=ds)||void 0===V?void 0:V.name)&&(Br="fetch-timeout"),On.create(Br,{originalErrorMessage:null===(Q=ds)||void 0===Q?void 0:Q.message})}let us=mo.status;const nc=mo.headers.get("ETag")||void 0;let rl,Uo;if(200===mo.status){let ds;try{ds=yield mo.json()}catch(Br){throw On.create("fetch-client-parse",{originalErrorMessage:null===(oe=Br)||void 0===oe?void 0:oe.message})}rl=ds.entries,Uo=ds.state}if("INSTANCE_STATE_UNSPECIFIED"===Uo?us=500:"NO_CHANGE"===Uo?us=304:("NO_TEMPLATE"===Uo||"EMPTY_CONFIG"===Uo)&&(rl={}),304!==us&&200!==us)throw On.create("fetch-status",{httpStatus:us});return{status:us,eTag:nc,config:rl}})()}}class Wm{constructor(S,M){this.client=S,this.storage=M}fetch(S){var M=this;return(0,N.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:M,backoffCount:V}){var Q=this;return(0,N.Z)(function*(){yield function Xs(D,S){return new Promise((M,V)=>{const Q=Math.max(S-Date.now(),0),oe=setTimeout(M,Q);D.addEventListener(()=>{clearTimeout(oe),V(On.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,M);try{const oe=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Sd(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(oe))throw oe;const Se={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Se),Q.attemptFetch(S,Se)}})()}}class Td{constructor(S,M,V,Q,oe){this.app=S,this._client=M,this._storageCache=V,this._storage=Q,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function iu(D,S){var M;const V=D.target.error||void 0;return On.create(S,{originalErrorMessage:V&&(null===(M=V)||void 0===M?void 0:M.message)})}const Js="app_namespace_store";class Qm{constructor(S,M,V,Q=function Ym(){return new Promise((D,S)=>{var M;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=Q=>{S(iu(Q,"storage-open"))},V.onsuccess=Q=>{D(Q.target.result)},V.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(V){S(On.create("storage-open",{originalErrorMessage:null===(M=V)||void 0===M?void 0:M.message}))}})}()){this.appId=S,this.appName=M,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var M=this;return(0,N.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Q,oe)=>{var Se;const ut=V.transaction([Js],"readonly").objectStore(Js),Dt=M.createCompositeKey(S);try{const xt=ut.get(Dt);xt.onerror=lt=>{oe(iu(lt,"storage-get"))},xt.onsuccess=lt=>{const qn=lt.target.result;Q(qn?qn.value:void 0)}}catch(xt){oe(On.create("storage-get",{originalErrorMessage:null===(Se=xt)||void 0===Se?void 0:Se.message}))}})})()}set(S,M){var V=this;return(0,N.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((oe,Se)=>{var Ze;const Dt=Q.transaction([Js],"readwrite").objectStore(Js),xt=V.createCompositeKey(S);try{const lt=Dt.put({compositeKey:xt,value:M});lt.onerror=qn=>{Se(iu(qn,"storage-set"))},lt.onsuccess=()=>{oe()}}catch(lt){Se(On.create("storage-set",{originalErrorMessage:null===(Ze=lt)||void 0===Ze?void 0:Ze.message}))}})})()}delete(S){var M=this;return(0,N.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Q,oe)=>{var Se;const ut=V.transaction([Js],"readwrite").objectStore(Js),Dt=M.createCompositeKey(S);try{const xt=ut.delete(Dt);xt.onerror=lt=>{oe(iu(lt,"storage-delete"))},xt.onsuccess=()=>{Q()}}catch(xt){oe(On.create("storage-delete",{originalErrorMessage:null===(Se=xt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class xd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,N.Z)(function*(){const M=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),oe=yield M;oe&&(S.lastFetchStatus=oe);const Se=yield V;Se&&(S.lastSuccessfulFetchTimestampMillis=Se);const Ze=yield Q;Ze&&(S.activeConfig=Ze)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Fl(){return Md.apply(this,arguments)}function Md(){return(Md=(0,N.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}!function la(){(0,de._registerComponent)(new me.wA("remote-config",function D(S,{instanceIdentifier:M}){const V=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,ae.hl)())throw On.create("indexed-db-unavailable");const{projectId:oe,apiKey:Se,appId:Ze}=V.options;if(!oe)throw On.create("registration-project-id");if(!Se)throw On.create("registration-api-key");if(!Ze)throw On.create("registration-app-id");const ut=new Qm(Ze,V.name,M=M||"firebase"),Dt=new xd(ut),xt=new ie.Yd(Xr);xt.logLevel=ie.in.ERROR;const lt=new Ti(Q,de.SDK_VERSION,M,oe,Se,Ze),qn=new Wm(lt,ut),Zn=new Zm(qn,ut,Dt,xt),po=new Td(V,Zn,Dt,ut,xt);return function dn(D){const S=(0,ae.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Xr,"0.3.11"),(0,de.registerVersion)(Xr,"0.3.11","esm2017")}();const kd="/firebase-messaging-sw.js",Ai="/firebase-cloud-messaging-push-scope",Io="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ca="google.c.a.c_id",Rd="google.c.a.c_l",Rf="google.c.a.ts",So="google.c.a.e";var ua=(()=>{return(D=ua||(ua={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ua;var D})();function Ui(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Od(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),Q=new Uint8Array(V.length);for(let oe=0;oe<V.length;++oe)Q[oe]=V.charCodeAt(oe);return Q}const li="fcm_token_details_db",vr="fcm_token_object_Store";function ru(D){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(li))return null;let S=null;return(yield(0,he.X3)(li,5,{upgrade:(V=(0,N.Z)(function*(Q,oe,Se,Ze){var ut;if(oe<2||!Q.objectStoreNames.contains(vr))return;const Dt=Ze.objectStore(vr),xt=yield Dt.index("fcmSenderId").get(D);if(yield Dt.clear(),xt)if(2===oe){const lt=xt;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;S={token:lt.fcmToken,createTime:null!==(ut=lt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:Ui(lt.vapidKey)}}}else if(3===oe){const lt=xt;S={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Ui(lt.auth),p256dh:Ui(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Ui(lt.vapidKey)}}}else if(4===oe){const lt=xt;S={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Ui(lt.auth),p256dh:Ui(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Ui(lt.vapidKey)}}}}),function(oe,Se,Ze,ut){return V.apply(this,arguments)})})).close(),yield(0,he.Lj)(li),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),su(S)?S:null;var V}),Pd.apply(this,arguments)}function su(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const is="firebase-messaging-store";let Of=null;function hn(){return Of||(Of=(0,he.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(is)}})),Of}function $a(D){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*(D){const S=gi(D),V=yield(yield hn()).transaction(is).objectStore(is).get(S);if(V)return V;{const Q=yield ru(D.appConfig.senderId);if(Q)return yield en(D,Q),Q}})).apply(this,arguments)}function en(D,S){return za.apply(this,arguments)}function za(){return(za=(0,N.Z)(function*(D,S){const M=gi(D),Q=(yield hn()).transaction(is,"readwrite");return yield Q.objectStore(is).put(S,M),yield Q.done,S})).apply(this,arguments)}function Ll(D){return eo.apply(this,arguments)}function eo(){return(eo=(0,N.Z)(function*(D){const S=gi(D),V=(yield hn()).transaction(is,"readwrite");yield V.objectStore(is).delete(S),yield V.done})).apply(this,arguments)}function gi({appConfig:D}){return D.appId}const Dn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rs(D,S){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(D,S){var M;const V=yield fa(D),Q=to(S),oe={method:"POST",headers:V,body:JSON.stringify(Q)};let Se;try{Se=yield(yield fetch(ss(D.appConfig),oe)).json()}catch(Ze){throw Dn.create("token-subscribe-failed",{errorInfo:null===(M=Ze)||void 0===M?void 0:M.toString()})}if(Se.error)throw Dn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw Dn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function xo(D,S){return xs.apply(this,arguments)}function xs(){return(xs=(0,N.Z)(function*(D,S){var M;const V=yield fa(D),Q=to(S.subscriptionOptions),oe={method:"PATCH",headers:V,body:JSON.stringify(Q)};let Se;try{Se=yield(yield fetch(`${ss(D.appConfig)}/${S.token}`,oe)).json()}catch(Ze){throw Dn.create("token-update-failed",{errorInfo:null===(M=Ze)||void 0===M?void 0:M.toString()})}if(Se.error)throw Dn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw Dn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function qa(D,S){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,N.Z)(function*(D,S){var M;const Q={method:"DELETE",headers:yield fa(D)};try{const Se=yield(yield fetch(`${ss(D.appConfig)}/${S}`,Q)).json();if(Se.error)throw Dn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(oe){throw Dn.create("token-unsubscribe-failed",{errorInfo:null===(M=oe)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function ss({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function fa(D){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,N.Z)(function*({appConfig:D,installations:S}){const M=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function to({p256dh:D,auth:S,endpoint:M,vapidKey:V}){const Q={web:{endpoint:M,auth:S,p256dh:D}};return V!==Io&&(Q.web.applicationPubKey=V),Q}const lu=6048e5;function Za(D){return cu.apply(this,arguments)}function cu(){return(cu=(0,N.Z)(function*(D){const S=yield Mo(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Ui(S.getKey("auth")),p256dh:Ui(S.getKey("p256dh"))},V=yield $a(D.firebaseDependencies);if(V){if(Ul(V.subscriptionOptions,M))return Date.now()>=V.createTime+lu?uu(D,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield qa(D.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Me(D.firebaseDependencies,M)}return Me(D.firebaseDependencies,M)})).apply(this,arguments)}function Vl(D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(D){const S=yield $a(D.firebaseDependencies);S&&(yield qa(D.firebaseDependencies,S.token),yield Ll(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function uu(D,S){return pa.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(D,S){try{const M=yield xo(D.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:M,createTime:Date.now()});return yield en(D.firebaseDependencies,V),M}catch(M){throw yield Vl(D),M}})).apply(this,arguments)}function Me(D,S){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,N.Z)(function*(D,S){const V={token:yield rs(D,S),createTime:Date.now(),subscriptionOptions:S};return yield en(D,V),V.token})).apply(this,arguments)}function Mo(D,S){return bn.apply(this,arguments)}function bn(){return(bn=(0,N.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Od(S)})})).apply(this,arguments)}function Ul(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function ko(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function br(D,S){if(!S.notification)return;D.notification={};const M=S.notification.title;M&&(D.notification.title=M);const V=S.notification.body;V&&(D.notification.body=V);const Q=S.notification.image;Q&&(D.notification.image=Q)}(S,D),function du(D,S){!S.data||(D.data=S.data)}(S,D),function hu(D,S){var M,V,Q,oe,Se;if(!S.fcmOptions&&!(null===(M=S.notification)||void 0===M?void 0:M.click_action))return;D.fcmOptions={};const Ze=null!==(Q=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(oe=S.notification)||void 0===oe?void 0:oe.click_action;Ze&&(D.fcmOptions.link=Ze);const ut=null===(Se=S.fcmOptions)||void 0===Se?void 0:Se.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(S,D),S}function fu(D){return"object"==typeof D&&!!D&&ca in D}function Nd(D,S){const M=[];for(let V=0;V<D.length;V++)M.push(D.charAt(V)),V<S.length&&M.push(S.charAt(V));return M.join("")}function Ms(D){return Dn.create("missing-app-config-values",{valueName:D})}Nd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xi{constructor(S,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Xm(D){if(!D||!D.options)throw Ms("App Configuration Object");if(!D.name)throw Ms("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const V of S)if(!M[V])throw Ms(V);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function wr(D){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,N.Z)(function*(D){var S;try{D.swRegistration=yield navigator.serviceWorker.register(kd,{scope:Ai}),D.swRegistration.update().catch(()=>{})}catch(M){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=M)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function no(D,S){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,N.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield wr(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function pu(D,S){return jl.apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=Io)})).apply(this,arguments)}function mu(){return(mu=(0,N.Z)(function*(D,S){if(!navigator)throw Dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dn.create("permission-blocked");return yield pu(D,null==S?void 0:S.vapidKey),yield no(D,null==S?void 0:S.serviceWorkerRegistration),Za(D)})).apply(this,arguments)}function ma(D,S,M){return $l.apply(this,arguments)}function $l(){return($l=(0,N.Z)(function*(D,S,M){const V=zl(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[ca],message_name:M[Rd],message_time:M[Rf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zl(D){switch(D){case ua.NOTIFICATION_CLICKED:return"notification_open";case ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ld(){return(Ld=(0,N.Z)(function*(D,S){const M=S.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===ua.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ko(M)):D.onMessageHandler.next(ko(M)));const V=M.data;fu(V)&&"1"===V[So]&&(yield ma(D,M.messageType,V))})).apply(this,arguments)}const ql="@firebase/messaging",Vd=D=>{const S=new xi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Fd(D,S){return Ld.apply(this,arguments)}(S,M)),S},ga=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:V=>function Gl(D,S){return mu.apply(this,arguments)}(S,V)}};function Zl(){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(){try{yield(0,ae.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bd(){(0,de._registerComponent)(new me.wA("messaging",Vd,"PUBLIC")),(0,de._registerComponent)(new me.wA("messaging-internal",ga,"PRIVATE")),(0,de.registerVersion)(ql,"0.9.16"),(0,de.registerVersion)(ql,"0.9.16","esm2017")}();const Ud="analytics",Jm="firebase_id",ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Po="https://www.googletagmanager.com/gtag/js",ii=new ie.Yd("@firebase/analytics");function Hd(D){return Promise.all(D.map(S=>S.catch(M=>M)))}function eg(D,S){const M=document.createElement("script");M.src=`${Po}?l=${D}&id=${S}`,M.async=!0,document.head.appendChild(M)}function _a(D,S,M,V,Q,oe){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,N.Z)(function*(D,S,M,V,Q,oe){const Se=V[Q];try{if(Se)yield S[Se];else{const ut=(yield Hd(M)).find(Dt=>Dt.measurementId===Q);ut&&(yield S[ut.appId])}}catch(Ze){ii.error(Ze)}D("config",Q,oe)})).apply(this,arguments)}function _u(D,S,M,V,Q){return os.apply(this,arguments)}function os(){return(os=(0,N.Z)(function*(D,S,M,V,Q){try{let oe=[];if(Q&&Q.send_to){let Se=Q.send_to;Array.isArray(Se)||(Se=[Se]);const Ze=yield Hd(M);for(const ut of Se){const Dt=Ze.find(lt=>lt.measurementId===ut),xt=Dt&&S[Dt.appId];if(!xt){oe=[];break}oe.push(xt)}}0===oe.length&&(oe=Object.values(S)),yield Promise.all(oe),D("event",V,Q||{})}catch(oe){ii.error(oe)}})).apply(this,arguments)}function an(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(Po))return S;return null}const Xe=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qa=new class nn{constructor(S={},M=1e3){this.throttleMetadata=S,this.intervalMillis=M}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,M){this.throttleMetadata[S]=M}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function jd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function ya(D){return io.apply(this,arguments)}function io(){return(io=(0,N.Z)(function*(D){var S;const{appId:M,apiKey:V}=D,Q={method:"GET",headers:jd(V)},oe=ks.replace("{app-id}",M),Se=yield fetch(oe,Q);if(200!==Se.status&&304!==Se.status){let Ze="";try{const ut=yield Se.json();(null===(S=ut.error)||void 0===S?void 0:S.message)&&(Ze=ut.error.message)}catch(ut){}throw Xe.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ze})}return Se.json()})).apply(this,arguments)}function Pn(D){return ro.apply(this,arguments)}function ro(){return(ro=(0,N.Z)(function*(D,S=Qa,M){const{appId:V,apiKey:Q,measurementId:oe}=D.options;if(!V)throw Xe.create("no-app-id");if(!Q){if(oe)return{measurementId:oe,appId:V};throw Xe.create("no-api-key")}const Se=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Kl;return setTimeout((0,N.Z)(function*(){Ze.abort()}),void 0!==M?M:6e4),as({appId:V,apiKey:Q,measurementId:oe},Se,Ze,S)})).apply(this,arguments)}function as(D,S,M){return tt.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:M},V,Q=Qa){var oe,Se;const{appId:Ze,measurementId:ut}=D;try{yield Gd(V,S)}catch(Dt){if(ut)return ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(oe=Dt)||void 0===oe?void 0:oe.message}]`),{appId:Ze,measurementId:ut};throw Dt}try{const Dt=yield ya(D);return Q.deleteThrottleMetadata(Ze),Dt}catch(Dt){const xt=Dt;if(!$d(xt)){if(Q.deleteThrottleMetadata(Ze),ut)return ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null==xt?void 0:xt.message}]`),{appId:Ze,measurementId:ut};throw Dt}const lt=503===Number(null===(Se=null==xt?void 0:xt.customData)||void 0===Se?void 0:Se.httpStatus)?(0,ae.$s)(M,Q.intervalMillis,30):(0,ae.$s)(M,Q.intervalMillis),qn={throttleEndTimeMillis:Date.now()+lt,backoffCount:M+1};return Q.setThrottleMetadata(Ze,qn),ii.debug(`Calling attemptFetch again in ${lt} millis`),as(D,qn,V,Q)}})).apply(this,arguments)}function Gd(D,S){return new Promise((M,V)=>{const Q=Math.max(S-Date.now(),0),oe=setTimeout(M,Q);D.addEventListener(()=>{clearTimeout(oe),V(Xe.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function $d(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Kl{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Xa,va;function ls(){return(ls=(0,N.Z)(function*(D,S,M,V,Q){if(Q&&Q.global)D("event",M,V);else{const oe=yield S;D("event",M,Object.assign(Object.assign({},V),{send_to:oe}))}})).apply(this,arguments)}function ao(D){va=D}function Os(D){Xa=D}function lo(){return lr.apply(this,arguments)}function lr(){return(lr=(0,N.Z)(function*(){var D;if(!(0,ae.hl)())return ii.warn(Xe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(S){return ii.warn(Xe.create("indexeddb-unavailable",{errorInfo:null===(D=S)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function wn(){return(wn=(0,N.Z)(function*(D,S,M,V,Q,oe,Se){var Ze;const ut=Pn(D);ut.then(Zn=>{M[Zn.measurementId]=Zn.appId,D.options.measurementId&&Zn.measurementId!==D.options.measurementId&&ii.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>ii.error(Zn)),S.push(ut);const Dt=lo().then(Zn=>{if(Zn)return V.getId()}),[xt,lt]=yield Promise.all([ut,Dt]);an()||eg(oe,xt.measurementId),va&&(Q("consent","default",va),ao(void 0)),Q("js",new Date);const qn=null!==(Ze=null==Se?void 0:Se.config)&&void 0!==Ze?Ze:{};return qn.origin="firebase",qn.update=!0,null!=lt&&(qn[Jm]=lt),Q("config",xt.measurementId,qn),Xa&&(Q("set",Xa),Os(void 0)),xt.measurementId})).apply(this,arguments)}class yu{constructor(S){this.app=S}_delete(){return delete Mi[this.app.options.appId],Promise.resolve()}}let Mi={},ln=[];const fn={};let Lr,Ft,Nn="dataLayer",ki=!1;function zd(D,S,M){!function Vr(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),M=Xe.create("invalid-analytics-context",{errorInfo:S});ii.warn(M.message)}}();const V=D.options.appId;if(!V)throw Xe.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Xe.create("no-api-key");ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mi[V])throw Xe.create("already-exists",{id:V});if(!ki){!function No(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Nn);const{wrappedGtag:oe,gtagCore:Se}=function tg(D,S,M,V,Q){let oe=function(...Se){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(oe=window[Q]),window[Q]=function Ka(D,S,M,V){function oe(){return(oe=(0,N.Z)(function*(Se,Ze,ut){try{"event"===Se?yield _u(D,S,M,Ze,ut):"config"===Se?yield _a(D,S,M,V,Ze,ut):"consent"===Se?D("consent","update",ut):D("set",Ze)}catch(Dt){ii.error(Dt)}})).apply(this,arguments)}return function Q(Se,Ze,ut){return oe.apply(this,arguments)}}(oe,D,S,M),{gtagCore:oe,wrappedGtag:window[Q]}}(Mi,ln,fn,Nn,"gtag");Ft=oe,Lr=Se,ki=!0}return Mi[V]=function yi(D,S,M,V,Q,oe,Se){return wn.apply(this,arguments)}(D,ln,fn,S,Lr,Nn,M),new yu(D)}function qd(){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,N.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const Fn="@firebase/analytics";!function nl(){(0,de._registerComponent)(new me.wA(Ud,(S,{options:M})=>zd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,de._registerComponent)(new me.wA("analytics-internal",function D(S){try{const M=S.getProvider(Ud).getImmediate();return{logEvent:(V,Q,oe)=>function Ps(D,S,M,V){D=(0,ae.m9)(D),function Tn(D,S,M,V,Q){return ls.apply(this,arguments)}(Ft,Mi[D.app.options.appId],S,M,V).catch(Q=>ii.error(Q))}(M,V,Q,oe)}}catch(M){throw Xe.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,de.registerVersion)(Fn,"0.8.0"),(0,de.registerVersion)(Fn,"0.8.0","esm2017")}();var Kd=P(4408),Hi=P(7565);const il=new class ji extends Hi.v{}(class Vf extends Kd.o{constructor(S,M){super(S,M),this.scheduler=S,this.work=M}schedule(S,M=0){return M>0?super.schedule(S,M):(this.delay=M,this.state=S,this.scheduler.flush(this),this)}execute(S,M){return M>0||this.closed?super.execute(S,M):this._execute(S,M)}requestAsyncId(S,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,M,V):S.flush(this)}});var Bo=P(4986),wa=P(8505),uo=P(5363),Yl=P(9468);const Bt=new l.GfV("7.4.1"),Yd="__angularfire_symbol__analyticsIsSupportedValue",Ns="__angularfire_symbol__analyticsIsSupported",ri="__angularfire_symbol__remoteConfigIsSupportedValue",ho="__angularfire_symbol__remoteConfigIsSupported",fo="__angularfire_symbol__messagingIsSupportedValue",Qd="__angularfire_symbol__messagingIsSupported";function Ql(D,S,M){if(S){if(1===S.length)return S[0];const oe=S.filter(Se=>Se.app===M);if(1===oe.length)return oe[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ns]||(globalThis[Ns]=qd().then(D=>globalThis[Yd]=D).catch(()=>globalThis[Yd]=!1)),globalThis[Qd]||(globalThis[Qd]=Zl().then(D=>globalThis[fo]=D).catch(()=>globalThis[fo]=!1)),globalThis[ho]||(globalThis[ho]=Fl().then(D=>globalThis[ri]=D).catch(()=>globalThis[ri]=!1));const Xd=(D,S)=>{const M=S?[S]:(0,ee.C6)(),V=[];return M.forEach(Q=>{Q.container.getProvider(D).instances.forEach(Se=>{V.includes(Se)||V.push(Se)})}),V};function Cn(){}class ui{constructor(S,M=il){this.zone=S,this.delegate=M}now(){return this.delegate.now()}schedule(S,M,V){const Q=this.zone;return this.delegate.schedule(function(Se){Q.runGuarded(()=>{S.apply(this,[Se])})},M,V)}}class Xl{constructor(S){this.zone=S,this.task=null}call(S,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cn,{},Cn,Cn)),M.pipe((0,wa.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ng=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new ui(Zone.current)),this.insideAngular=M.run(()=>new ui(Zone.current,Bo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Gi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Jd(D){return D.pipe((0,uo.Q)(Gi().outsideAngular))}function Jl(D){return Gi(),function ec(D){return function(M){return(M=M.lift(new Xl(D.ngZone))).pipe((0,Yl.R)(D.outsideAngular),(0,uo.Q)(D.insideAngular))}}(Gi())(D)}},2090:(it,Ce,P)=>{P.d(Ce,{$s:()=>Ii,BH:()=>Ge,G6:()=>je,L:()=>he,LL:()=>ce,Mn:()=>Ie,Sg:()=>Te,UG:()=>pe,US:()=>me,ZB:()=>z,ZR:()=>_e,b$:()=>nt,d:()=>Ae,eu:()=>Ee,hl:()=>W,jU:()=>De,m9:()=>Ws,ne:()=>wt,pd:()=>tr,r3:()=>Li,ru:()=>Ke,tV:()=>ge,uI:()=>He,vZ:()=>mr,w1:()=>ye,xO:()=>Wr,xb:()=>Ut,z$:()=>Re,zI:()=>Y,zd:()=>qs});const de=function(j){const Z=[];let H=0;for(let $=0;$<j.length;$++){let q=j.charCodeAt($);q<128?Z[H++]=q:q<2048?(Z[H++]=q>>6|192,Z[H++]=63&q|128):55296==(64512&q)&&$+1<j.length&&56320==(64512&j.charCodeAt($+1))?(q=65536+((1023&q)<<10)+(1023&j.charCodeAt(++$)),Z[H++]=q>>18|240,Z[H++]=q>>12&63|128,Z[H++]=q>>6&63|128,Z[H++]=63&q|128):(Z[H++]=q>>12|224,Z[H++]=q>>6&63|128,Z[H++]=63&q|128)}return Z},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,Z){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let q=0;q<j.length;q+=3){const xe=j[q],Ve=q+1<j.length,ht=Ve?j[q+1]:0,sn=q+2<j.length,Wt=sn?j[q+2]:0;let _r=(15&ht)<<2|Wt>>6,Qr=63&Wt;sn||(Qr=64,Ve||(_r=64)),$.push(H[xe>>2],H[(3&xe)<<4|ht>>4],H[_r],H[Qr])}return $.join("")},encodeString(j,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(j):this.encodeByteArray(de(j),Z)},decodeString(j,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(j):function(j){const Z=[];let H=0,$=0;for(;H<j.length;){const q=j[H++];if(q<128)Z[$++]=String.fromCharCode(q);else if(q>191&&q<224){const xe=j[H++];Z[$++]=String.fromCharCode((31&q)<<6|63&xe)}else if(q>239&&q<365){const sn=((7&q)<<18|(63&j[H++])<<12|(63&j[H++])<<6|63&j[H++])-65536;Z[$++]=String.fromCharCode(55296+(sn>>10)),Z[$++]=String.fromCharCode(56320+(1023&sn))}else{const xe=j[H++],Ve=j[H++];Z[$++]=String.fromCharCode((15&q)<<12|(63&xe)<<6|63&Ve)}}return Z.join("")}(this.decodeStringToByteArray(j,Z))},decodeStringToByteArray(j,Z){this.init_();const H=Z?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let q=0;q<j.length;){const xe=H[j.charAt(q++)],ht=q<j.length?H[j.charAt(q)]:0;++q;const Wt=q<j.length?H[j.charAt(q)]:64;++q;const Vt=q<j.length?H[j.charAt(q)]:64;if(++q,null==xe||null==ht||null==Wt||null==Vt)throw Error();$.push(xe<<2|ht>>4),64!==Wt&&($.push(ht<<4&240|Wt>>2),64!==Vt&&$.push(Wt<<6&192|Vt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},he=function(j){return function(j){const Z=de(j);return me.encodeByteArray(Z,!0)}(j).replace(/\./g,"")},ge=function(j){try{return me.decodeString(j,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function z(j,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return Z}for(const H in Z)!Z.hasOwnProperty(H)||!ne(H)||(j[H]=z(j[H],Z[H]));return j}function ne(j){return"__proto__"!==j}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,H)=>{this.resolve=Z,this.reject=H})}wrapCallback(Z){return(H,$)=>{H?this.reject(H):this.resolve($),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(H):Z(H,$))}}}function Te(j,Z){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=Z||"demo-project",q=j.iat||0,xe=j.sub||j.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:q,exp:q+3600,auth_time:q,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ve)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function De(){return"object"==typeof self&&self.self===self}function Ke(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Re().indexOf("Electron/")>=0}function ye(){const j=Re();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ie(){return Re().indexOf("MSAppHost/")>=0}function je(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function Ee(){return new Promise((j,Z)=>{try{let H=!0;const $="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open($);q.onsuccess=()=>{q.result.close(),H||self.indexedDB.deleteDatabase($),j(!0)},q.onupgradeneeded=()=>{H=!1},q.onerror=()=>{var xe;Z((null===(xe=q.error)||void 0===xe?void 0:xe.message)||"")}}catch(H){Z(H)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(Z,H,$){super(H),this.code=Z,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(Z,H,$){this.service=Z,this.serviceName=H,this.errors=$}create(Z,...H){const $=H[0]||{},q=`${this.service}/${Z}`,xe=this.errors[Z],Ve=xe?function Pe(j,Z){return j.replace(pt,(H,$)=>{const q=Z[$];return null!=q?String(q):`<${$}?>`})}(xe,$):"Error";return new _e(q,`${this.serviceName}: ${Ve} (${q}).`,$)}}const pt=/\{\$([^}]+)}/g;function Li(j,Z){return Object.prototype.hasOwnProperty.call(j,Z)}function Ut(j){for(const Z in j)if(Object.prototype.hasOwnProperty.call(j,Z))return!1;return!0}function mr(j,Z){if(j===Z)return!0;const H=Object.keys(j),$=Object.keys(Z);for(const q of H){if(!$.includes(q))return!1;const xe=j[q],Ve=Z[q];if(Ei(xe)&&Ei(Ve)){if(!mr(xe,Ve))return!1}else if(xe!==Ve)return!1}for(const q of $)if(!H.includes(q))return!1;return!0}function Ei(j){return null!==j&&"object"==typeof j}function Wr(j){const Z=[];for(const[H,$]of Object.entries(j))Array.isArray($)?$.forEach(q=>{Z.push(encodeURIComponent(H)+"="+encodeURIComponent(q))}):Z.push(encodeURIComponent(H)+"="+encodeURIComponent($));return Z.length?"&"+Z.join("&"):""}function qs(j){const Z={};return j.replace(/^\?/,"").split("&").forEach($=>{if($){const[q,xe]=$.split("=");Z[decodeURIComponent(q)]=decodeURIComponent(xe)}}),Z}function tr(j){const Z=j.indexOf("?");if(!Z)return"";const H=j.indexOf("#",Z);return j.substring(Z,H>0?H:void 0)}function wt(j,Z){const H=new nr(j,Z);return H.subscribe.bind(H)}class nr{constructor(Z,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Z(this)}).catch($=>{this.error($)})}next(Z){this.forEachObserver(H=>{H.next(Z)})}error(Z){this.forEachObserver(H=>{H.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,H,$){let q;if(void 0===Z&&void 0===H&&void 0===$)throw new Error("Missing Observer.");q=function Jn(j,Z){if("object"!=typeof j||null===j)return!1;for(const H of Z)if(H in j&&"function"==typeof j[H])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:H,complete:$},void 0===q.next&&(q.next=Yr),void 0===q.error&&(q.error=Yr),void 0===q.complete&&(q.complete=Yr);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Ve){}}),this.observers.push(q),xe}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Z)}sendOne(Z,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{H(this.observers[Z])}catch($){"undefined"!=typeof console&&console.error&&console.error($)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function Ii(j,Z=1e3,H=2){const $=Z*Math.pow(H,j),q=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+q)}function Ws(j){return j&&j._delegate?j._delegate:j}},8417:(it,Ce,P)=>{var l=P(5e3);let ee=null;function N(){return ee}const ie=new l.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ge(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const G=new l.OlP("Location Initialized");let z=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new z((0,l.LFG)(ie))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Te(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(n){const e=(0,l.LFG)(ie).location;return new nt((0,l.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ke=new l.OlP("appBaseHref");let nt=(()=>{class n extends pe{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Te(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+He(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+He(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(he),l.LFG(Ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends pe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Te(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+He(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+He(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(he),l.LFG(Ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(t,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(je(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+He(i))}normalize(t){return n.stripTrailingSlash(function Be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=Te,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(he))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ie(){return new ye((0,l.LFG)(pe),(0,l.LFG)(he))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}let Ts=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ys{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ni=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ys(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const h=i.get(a);i.move(h,u),Do(h,r)}});for(let r=0,a=i.length;r<a;r++){const h=i.get(r).context;h.index=r,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Do(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Do(n,e){n.context.$implicit=e.item}let En=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Nl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Nl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function Nl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Ha{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Si=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),yr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ha(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Si,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ja=(()=>{class n{constructor(t,i,r){r._addDefault(new Ha(t,i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Si,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class Xs{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Sd{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Wm=new Sd,As=new Xs;let nu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return Wm;if((0,l.F4k)(t))return As;throw function Ti(n,e){return new l.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),So=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const To="browser";function li(n){return n===To}function da(n){return"server"===n}let su=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ha((0,l.LFG)(ie),window)}),n})();class ha{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function is(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ou(this.window.history)||ou(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ou(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ao extends class $a extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){ee||(ee=n)}(new Ao)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function za(){return en=en||document.querySelector("base"),en?en.getAttribute("href"):null}();return null==t?null:function eo(n){Ll=Ll||document.createElement("a"),Ll.setAttribute("href",n);const e=Ll.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){en=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ua(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ll,en=null;const gi=new l.OlP("TRANSITION_ID"),Dn=[{provide:l.ip1,useFactory:function au(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[gi,ie,l.zs3],multi:!0}];class rs{static init(){(0,l.VLi)(new rs)}addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const h=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let _i=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const xo=new l.OlP("EventManagerPlugins");let xs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Nr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ss=(()=>{class n extends Nr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(fa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fa))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function fa(n){N().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},to=/%COMP%/g;function pa(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?pa(n,r,t):(r=r.replace(to,n),t.push(r))}return t}function Me(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mo=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new bn(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new br(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new du(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=pa(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xs),l.LFG(ss),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class bn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Ct[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ct[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Me(i)):this.eventManager.addEventListener(e,t,Me(i))}}class br extends bn{constructor(e,t,i,r){super(e),this.component=i;const a=pa(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Bl(n){return"_ngcontent-%COMP%".replace(to,n)}(r+"-"+i.id),this.hostAttr=function uu(n){return"_nghost-%COMP%".replace(to,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class du extends bn{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=pa(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hu=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const fu=["alt","control","meta","shift"],Xm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ms={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wr=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(fu.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(t){let i="",r=function Hl(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ms.hasOwnProperty(e)&&(e=Ms[e]))}return Xm[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),fu.forEach(a=>{a!=r&&xi[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Gl=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:To},{provide:l.g9A,useValue:function no(){Ao.makeCurrent(),rs.init()},multi:!0},{provide:ie,useFactory:function pu(){return(0,l.RDi)(document),document},deps:[]}]),mu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Fr(){return new l.qLn},deps:[]},{provide:xo,useClass:hu,multi:!0,deps:[ie,l.R0b,l.Lbi]},{provide:xo,useClass:wr,multi:!0,deps:[ie]},{provide:Mo,useClass:Mo,deps:[xs,ss,l.AFp]},{provide:l.FYo,useExisting:Mo},{provide:Nr,useExisting:ss},{provide:ss,useClass:ss,deps:[ie]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:xs,useClass:xs,deps:[xo,l.R0b]},{provide:class hn{},useClass:_i,deps:[]}];let ma=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:gi,useExisting:l.AFp},Dn]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:mu,imports:[So,l.hGG]}),n})();"undefined"!=typeof window&&window;let _u=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Ka),i},providedIn:"root"}),n})(),Ka=(()=>{class n extends _u{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function os(n){return new Ka(n.get(ie))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var an=P(8996),Ya=P(3269);function Xe(...n){const e=(0,Ya.yG)(n);return(0,an.D)(n,e)}var _t=P(7579);class ar extends _t.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var nn=P(8306);const{isArray:Qa}=Array,{getPrototypeOf:jd,prototype:ya,keys:io}=Object;function Pn(n){if(1===n.length){const e=n[0];if(Qa(e))return{args:e,keys:null};if(function ro(n){return n&&"object"==typeof n&&jd(n)===ya}(e)){const t=io(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var as=P(4671),tt=P(4004);const{isArray:Gd}=Array;function Kl(n){return(0,tt.U)(e=>function $d(n,e){return Gd(e)?n(...e):n(e)}(n,e))}function Xa(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Tn=P(5403),ls=P(9672);function Ja(...n){const e=(0,Ya.yG)(n),t=(0,Ya.jO)(n),{args:i,keys:r}=Pn(n);if(0===i.length)return(0,an.D)([],e);const a=new nn.y(function Rs(n,e,t=as.y){return i=>{so(e,()=>{const{length:r}=n,a=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)so(e,()=>{const b=(0,an.D)(n[_],e);let E=!1;b.subscribe((0,Tn.x)(i,T=>{a[_]=T,E||(E=!0,h--),h||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Xa(r,u):as.y));return t?a.pipe(Kl(t)):a}function so(n,e,t){n?(0,ls.f)(t,n,e):e()}var $n=P(576);function oo(n,e){const t=(0,$n.m)(n)?n:()=>n,i=r=>r.error(t());return new nn.y(e?r=>e.schedule(i,0,r):i)}const Fo=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Lo=P(8189);function ao(...n){return function va(){return(0,Lo.J)(1)}()((0,an.D)(n,(0,Ya.yG)(n)))}var Os=P(8421);function lo(n){return new nn.y(e=>{(0,Os.Xf)(n()).subscribe(e)})}var lr=P(515),yi=P(727),wn=P(4482);function yu(){return(0,wn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Tn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Mi extends nn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,wn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Tn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yi.w0.EMPTY)}return e}refCount(){return yu()(this)}}function ln(n,e){return(0,wn.e)((t,i)=>{let r=null,a=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,Tn.x)(i,_=>{null==r||r.unsubscribe();let b=0;const E=a++;(0,Os.Xf)(n(_,E)).subscribe(r=(0,Tn.x)(i,T=>i.next(e?e(_,T,E,b++):T),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function fn(n){return n<=0?()=>lr.E:(0,wn.e)((e,t)=>{let i=0;e.subscribe((0,Tn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Nn(...n){const e=(0,Ya.yG)(n);return(0,wn.e)((t,i)=>{(e?ao(n,t,e):ao(n,t)).subscribe(i)})}function co(n,e,t,i,r){return(a,u)=>{let h=t,_=e,b=0;a.subscribe((0,Tn.x)(u,E=>{const T=b++;_=h?n(_,E,T):(h=!0,E),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function Lr(n,e){return(0,wn.e)(co(n,e,arguments.length>=2,!0))}function Ft(n,e){return(0,wn.e)((t,i)=>{let r=0;t.subscribe((0,Tn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}function ki(n){return(0,wn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Tn.x)(t,void 0,void 0,u=>{a=(0,Os.Xf)(n(u,ki(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}var zn=P(5577);function Vr(n,e){return(0,$n.m)(e)?(0,zn.z)(n,e,1):(0,zn.z)(n,1)}function zd(n){return n<=0?()=>lr.E:(0,wn.e)((e,t)=>{let i=[];e.subscribe((0,Tn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function vu(n=In){return(0,wn.e)((e,t)=>{let i=!1;e.subscribe((0,Tn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function In(){return new Fo}function qd(n){return(0,wn.e)((e,t)=>{let i=!1;e.subscribe((0,Tn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function tl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ft((r,a)=>n(r,a,i)):as.y,fn(1),t?qd(e):vu(()=>new Fo))}var vi=P(8505);function Ff(n){return(0,wn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Vo{constructor(e,t){this.id=e,this.url=t}}class Lf extends Vo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends Vo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wd extends Vo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fn extends Vo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ba extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nl extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kd extends Vo{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vf extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class il{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yl{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class Yd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ns(n){return new Yd(n)}const ri="ngNavigationCancelingError";function ho(n){const e=Error("NavigationCancelingError: "+n);return e[ri]=!0,e}function Qd(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],h=n[a];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!wu(n[r],e[r]))return!1;return!0}function wu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Bf(n){return Array.prototype.concat.apply([],n)}function Ql(n){return n.length>0?n[n.length-1]:null}function Cn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ui(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,an.D)(Promise.resolve(n)):Xe(n)}const ng={exact:function Jd(n,e,t){if(!V(n.segments,e.segments)||!tc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Jd(n.children[i],e.children[i],t))return!1;return!0},subset:Jl},Gi={exact:function Cr(n,e){return Fs(n,e)},subset:function eh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wu(n[t],e[t]))},ignored:()=>!0};function Ea(n,e,t){return ng[t.paths](n.root,e.root,t.matrixParams)&&Gi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Jl(n,e,t){return ec(n,e,e.segments,t)}function ec(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!V(r,t)||e.hasChildren()||!tc(r,t,i))}if(n.segments.length===t.length){if(!V(n.segments,t)||!tc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Jl(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(V(n.segments,r)&&tc(n.segments,r,i)&&n.children[Bt])&&ec(n.children[Bt],e,a,i)}}function tc(n,e,t){return e.every((i,r)=>Gi[t](n[r].parameters,i.parameters))}class cs{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return Ze.serialize(this)}}class D{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Cn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ut(this)}}class S{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ns(this.parameters)),this._parameterMap}toString(){return us(this)}}function V(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class oe{}class Se{parse(e){const t=new ig(e);return new cs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Dt(e.root,!0)}`,i=function rl(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${lt(t)}=${lt(r)}`).join("&"):`${lt(t)}=${lt(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function qn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ze=new Se;function ut(n){return n.segments.map(e=>us(e)).join("/")}function Dt(n,e){if(!n.hasChildren())return ut(n);if(e){const t=n.children[Bt]?Dt(n.children[Bt],!1):"",i=[];return Cn(n.children,(r,a)=>{a!==Bt&&i.push(`${a}:${Dt(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Q(n,e){let t=[];return Cn(n.children,(i,r)=>{r===Bt&&(t=t.concat(e(i,r)))}),Cn(n.children,(i,r)=>{r!==Bt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Bt?[Dt(n.children[Bt],!1)]:[`${r}:${Dt(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${ut(n)}/${t[0]}`:`${ut(n)}/(${t.join("//")})`}}function xt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lt(n){return xt(n).replace(/%3B/gi,";")}function Zn(n){return xt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function po(n){return decodeURIComponent(n)}function mo(n){return po(n.replace(/\+/g,"%20"))}function us(n){return`${Zn(n.path)}${function nc(n){return Object.keys(n).map(e=>`;${Zn(e)}=${Zn(n[e])}`).join("")}(n.parameters)}`}const Uo=/^[^\/()?;=#]+/;function ds(n){const e=n.match(Uo);return e?e[0]:""}const Br=/^[^=?&#]+/,Uf=/^[^&#]+/;class ig{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new D([],{}):new D([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Bt]=new D(e,t)),i}parseSegment(){const e=ds(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new S(po(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ds(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ds(this.remaining);r&&(i=r,this.capture(i))}e[po(t)]=po(i)}parseQueryParam(e){const t=function Da(n){const e=n.match(Br);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function b0(n){const e=n.match(Uf);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=mo(t),a=mo(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ds(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Bt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Bt]:new D([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Hf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=rg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ic(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ic(e,this._root).map(t=>t.value)}}function rg(n,e){if(n===e.value)return e;for(const t of e.children){const i=rg(n,t);if(i)return i}return null}function ic(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ic(n,t);if(i.length)return i.unshift(e),i}return[]}class Ho{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function rc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cu extends Hf{constructor(e,t){super(e),this.snapshot=t,ih(this,e)}toString(){return this.snapshot.toString()}}function th(n,e){const t=function sc(n,e){const u=new jo([],{},{},"",{},Bt,e,null,n.root,-1,{});return new nh("",new Ho(u,[]))}(n,e),i=new ar([new S("",{})]),r=new ar({}),a=new ar({}),u=new ar({}),h=new ar(""),_=new oc(i,r,u,h,a,Bt,e,t.root);return _.snapshot=t.root,new Cu(new Ho(_,[]),t)}class oc{constructor(e,t,i,r,a,u,h,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(e=>Ns(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(e=>Ns(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sg(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function w0(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class jo{constructor(e,t,i,r,a,u,h,_,b,E,T){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=E,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nh extends Hf{constructor(e,t){super(t),this.url=e,ih(this,t)}toString(){return jf(this._root)}}function ih(n,e){e.value._routerState=n,e.children.forEach(t=>ih(n,t))}function jf(n){const e=n.children.length>0?` { ${n.children.map(jf).join(", ")} } `:"";return`${n.value}${e}`}function rh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fs(e.params,t.params)||n.params.next(t.params),function Ca(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Go(n,e){const t=Fs(n.params,e.params)&&function M(n,e){return V(n,e)&&n.every((t,i)=>Fs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Go(n.parent,e.parent))}function Eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Ey(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Eu(n,i,r);return Eu(n,i)})}(n,e,t);return new Ho(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Eu(n,h)),u}}const i=function Dy(n){return new oc(new ar(n.url),new ar(n.params),new ar(n.queryParams),new ar(n.fragment),new ar(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Eu(n,a));return new Ho(i,r)}}function Er(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function go(n){return"object"==typeof n&&null!=n&&n.outlets}function ac(n,e,t,i,r){let a={};if(i&&Cn(i,(h,_)=>{a[_]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),n===e)return new cs(t,a,r);const u=ag(n,e,t);return new cs(u,a,r)}function ag(n,e,t){const i={};return Cn(n.children,(r,a)=>{i[a]=r===e?t:ag(r,e,t)}),new D(n.segments,i)}class Gf{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Er(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(go);if(r&&r!==Ql(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Du{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function cg(n,e,t){if(n||(n=new D([],{})),0===n.segments.length&&n.hasChildren())return sh(n,e,t);const i=function Ay(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],h=t[i];if(go(h))break;const _=`${h}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!zf(_,b,u))return a;i+=2}else{if(!zf(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new D(n.segments.slice(0,i.pathIndex),{});return a.children[Bt]=new D(n.segments.slice(i.pathIndex),n.children),sh(a,0,r)}return i.match&&0===r.length?new D(n.segments,{}):i.match&&!n.hasChildren()?xy(n,e,t):i.match?sh(n,0,r):xy(n,e,t)}function sh(n,e,t){if(0===t.length)return new D(n.segments,{});{const i=function lg(n){return go(n[0])?n[0].outlets:{[Bt]:n}}(t),r={};return Cn(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=cg(n.children[u],e,a))}),Cn(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new D(n.segments,r)}}function xy(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(go(a)){const _=sl(a.outlets);return new D(i,_)}if(0===r&&Er(t[0])){i.push(new S(n.segments[e].path,lc(t[0]))),r++;continue}const u=go(a)?a.outlets[Bt]:`${a}`,h=r<t.length-1?t[r+1]:null;u&&h&&Er(h)?(i.push(new S(u,lc(h))),r+=2):(i.push(new S(u,{})),r++)}return new D(i,{})}function sl(n){const e={};return Cn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=xy(new D([],{}),0,t))}),e}function lc(n){const e={};return Cn(n,(t,i)=>e[i]=`${t}`),e}function zf(n,e,t){return n==t.path&&Fs(e,t.parameters)}class Iu{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),rh(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=rc(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),Cn(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=rc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=rc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=rc(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new uo(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Bo(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(rh(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),rh(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=function oh(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),_=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class ah{constructor(e,t){this.routes=e,this.module=t}}function $o(n){return"function"==typeof n}function cc(n){return n instanceof cs}const lh=Symbol("INITIAL_VALUE");function ch(){return ln(n=>Ja(n.map(e=>e.pipe(fn(1),Nn(lh)))).pipe(Lr((e,t)=>{let i=!1;return t.reduce((r,a,u)=>r!==lh?r:(a===lh&&(i=!0),i||!1!==a&&u!==t.length-1&&!cc(a)?r:a),e)},lh),Ft(e=>e!==lh),(0,tt.U)(e=>cc(e)?e:!0===e),fn(1)))}class dg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new uc,this.attachRef=null}}class uc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new dg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Tu=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=a||Bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,_=new My(t,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uc),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class My{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===oc?this.route:e===uc?this.childContexts:this.parent.get(e,t)}}let hg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[Tu],encapsulation:2}),n})();function Au(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];dc(i,fg(e,i))}}function dc(n,e){n.children&&Au(n.children,e)}function fg(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function xu(n){const e=n.children&&n.children.map(xu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=hg),t}function cr(n){return n.outlet||Bt}function Ln(n,e){const t=n.filter(i=>cr(i)===e);return t.push(...n.filter(i=>cr(i)!==e)),t}const pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uh(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},pg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Qd)(t,n,e);if(!a)return Object.assign({},pg);const u={};Cn(a.posParams,(_,b)=>{u[b]=_.path});const h=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:h,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function ol(n,e,t,i,r="corrected"){if(t.length>0&&function Ry(n,e,t){return t.some(i=>Ia(n,e,i)&&cr(i)!==Bt)}(n,t,i)){const u=new D(e,function ky(n,e,t,i){const r={};r[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&cr(a)!==Bt){const u=new D([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[cr(a)]=u}return r}(n,e,i,new D(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Oy(n,e,t){return t.some(i=>Ia(n,e,i))}(n,t,i)){const u=new D(n.segments,function mg(n,e,t,i,r,a){const u={};for(const h of i)if(Ia(n,t,h)&&!r[cr(h)]){const _=new D([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[cr(h)]=_}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new D(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Ia(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gg(n,e,t,i){return!!(cr(n)===i||i!==Bt&&Ia(e,t,n))&&("**"===n.path||uh(e,n,t).matched)}function _g(n,e,t){return 0===e.length&&!n.children[t]}class Wf{constructor(e){this.segmentGroup=e||null}}class hc{constructor(e){this.urlTree=e}}function di(n){return oo(new Wf(n))}function dh(n){return oo(new hc(n))}class fc{constructor(e,t,i,r,a){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=ol(this.urlTree.root,[],[],this.config).segmentGroup,t=new D(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Bt).pipe((0,tt.U)(a=>this.createUrlTree(Mu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ki(a=>{if(a instanceof hc)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Wf?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Bt).pipe((0,tt.U)(r=>this.createUrlTree(Mu(r),e.queryParams,e.fragment))).pipe(ki(r=>{throw r instanceof Wf?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new D([],{[Bt]:e}):e;return new cs(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,tt.U)(a=>new D([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,an.D)(r).pipe(Vr(a=>{const u=i.children[a],h=Ln(t,a);return this.expandSegmentGroup(e,h,u,a).pipe((0,tt.U)(_=>({segment:_,outlet:a})))}),Lr((a,u)=>(a[u.outlet]=u.segment,a),{}),function Zd(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ft((r,a)=>n(r,a,i)):as.y,zd(1),t?qd(e):vu(()=>new Fo))}())}expandSegment(e,t,i,r,a,u){return(0,an.D)(i).pipe(Vr(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,a,u).pipe(ki(b=>{if(b instanceof Wf)return Xe(null);throw b}))),tl(h=>!!h),ki((h,_)=>{if(h instanceof Fo||"EmptyError"===h.name)return _g(t,r,a)?Xe(new D([],{})):di(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,a,u,h){return gg(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):di(t):di(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dh(a):this.lineralizeSegments(i,a).pipe((0,zn.z)(u=>{const h=new D(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:E}=uh(t,r,a);if(!h)return di(t);const T=this.applyRedirectCommands(_,r.redirectTo,E);return r.redirectTo.startsWith("/")?dh(T):this.lineralizeSegments(r,T).pipe((0,zn.z)(O=>this.expandSegment(e,t,i,O.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Xe(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,tt.U)(T=>(i._loadedConfig=T,new D(r,{})))):Xe(new D(r,{}));const{matched:u,consumedSegments:h,remainingSegments:_}=uh(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,zn.z)(E=>{const T=E.module,O=E.routes,{segmentGroup:L,slicedSegments:U}=ol(t,h,_,O),X=new D(L.segments,L.children);if(0===U.length&&X.hasChildren())return this.expandChildren(T,O,X).pipe((0,tt.U)(ze=>new D(h,ze)));if(0===O.length&&0===U.length)return Xe(new D(h,{}));const le=cr(i)===a;return this.expandSegment(T,X,O,U,le?Bt:a,!0).pipe((0,tt.U)(Ye=>new D(h.concat(Ye.segments),Ye.children)))})):di(t)}getChildConfig(e,t,i){return t.children?Xe(new ah(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Xe(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,zn.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,tt.U)(a=>(t._loadedConfig=a,a))):function hh(n){return oo(ho(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Xe(new ah([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?Xe(r.map(u=>{const h=e.get(u);let _;if(function C0(n){return n&&$o(n.canLoad)}(h))_=h.canLoad(t,i);else{if(!$o(h))throw new Error("Invalid CanLoad guard");_=h(t,i)}return ui(_)})).pipe(ch(),(0,vi.b)(u=>{if(!cc(u))return;const h=ho(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,tt.U)(u=>!0===u)):Xe(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[Bt])return oo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Bt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new cs(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Cn(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[a]=t[h]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return Cn(t.children,(h,_)=>{u[_]=this.createSegmentGroup(e,h,i,r)}),new D(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Mu(n){const e={};for(const i of Object.keys(n.children)){const a=Mu(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Yf(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new D(n.segments.concat(e.segments),e.children)}return n}(new D(n.segments,e))}class ur{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sa{constructor(e,t){this.component=e,this.route=t}}function Qf(n,e,t){const i=n._root;return ku(i,e?e._root:null,t,[i.value])}function al(n,e,t){const i=function Xf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function ku(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=rc(e);return n.children.forEach(u=>{(function fh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function Fy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!V(n.url,e.url);case"pathParamsOrQueryParamsChange":return!V(n.url,e.url)||!Fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Go(n,e)||!Fs(n.queryParams,e.queryParams);default:return!Go(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new ur(i)):(a.data=u.data,a._resolvedData=u._resolvedData),ku(n,e,a.component?h?h.children:null:t,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Sa(h.outlet.component,u))}else u&&fs(e,h,r),r.canActivateChecks.push(new ur(i)),ku(n,null,a.component?h?h.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),Cn(a,(u,h)=>fs(u,t.getContext(h),r)),r}function fs(n,e,t){const i=rc(n),r=n.value;Cn(i,(a,u)=>{fs(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Sa(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class By{}function Ls(n){return new nn.y(e=>e.error(n))}class vg{constructor(e,t,i,r,a,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=ol(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Bt);if(null===t)return null;const i=new jo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ho(i,t),a=new nh(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=sg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const u=t.children[a],h=Ln(e,a),_=this.processSegmentGroup(h,u,a);if(null===_)return null;i.push(..._)}const r=wg(i);return function bg(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,i,r);if(null!==u)return u}return _g(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!gg(e,t,i,r))return null;let a,u=[],h=[];if("**"===e.path){const L=i.length>0?Ql(i).parameters:{};a=new jo(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),cr(e),e.component,e,Cg(t),ll(t)+i.length,p(e))}else{const L=uh(t,e,i);if(!L.matched)return null;u=L.consumedSegments,h=L.remainingSegments,a=new jo(u,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),cr(e),e.component,e,Cg(t),ll(t)+u.length,p(e))}const _=function Uy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:E}=ol(t,u,h,_.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===E.length&&b.hasChildren()){const L=this.processChildren(_,b);return null===L?null:[new Ho(a,L)]}if(0===_.length&&0===E.length)return[new Ho(a,[])];const T=cr(e)===r,O=this.processSegment(_,b,E,T?Bt:r);return null===O?null:[new Ho(a,O)]}}function tp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wg(n){const e=[],t=new Set;for(const i of n){if(!tp(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=wg(i.children);e.push(new Ho(i.value,r))}return e.filter(i=>!t.has(i))}function Cg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ll(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function K(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Fe(n){return ln(e=>{const t=n(e);return t?(0,an.D)(t).pipe((0,tt.U)(()=>e)):Xe(e)})}class gt extends class yt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vn=new l.OlP("ROUTES");class Ir{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,tt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new ah(Bf(u.injector.get(Vn,void 0,l.XFs.Self|l.XFs.Optional)).map(xu),u)}),ki(a=>{throw t._loader$=void 0,a}));return t._loader$=new Mi(r,()=>new _t.x).pipe(yu()),t._loader$}loadModuleFactory(e){return ui(e()).pipe((0,zn.z)(t=>t instanceof l.YKP?Xe(t):(0,an.D)(this.compiler.compileModuleAsync(t))))}}class np{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Eg(n){throw n}function cl(n,e,t){return e.parse("/")}function Ou(n,e){return Xe(null)}const gh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class n{constructor(t,i,r,a,u,h,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _t.x,this.errorHandler=Eg,this.malformedUriErrorHandler=cl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ou,afterPreactivation:Ou},this.urlHandlingStrategy=new np,this.routeReuseStrategy=new gt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const T=u.get(l.R0b);this.isNgZoneEnabled=T instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Xl(){return new cs(new D([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ir(u,h,O=>this.triggerEvent(new ji(O)),O=>this.triggerEvent(new il(O))),this.routerState=th(this.currentUrlTree,this.rootComponentType),this.transitions=new ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ft(r=>0!==r.id),(0,tt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ln(r=>{let a=!1,u=!1;return Xe(r).pipe((0,vi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ln(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return rp(h.source)&&(this.browserUrlTree=h.extractedUrl),Xe(h).pipe(ln(T=>{const O=this.transitions.getValue();return i.next(new Lf(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),O!==this.transitions.getValue()?lr.E:Promise.resolve(T)}),function Py(n,e,t,i){return ln(r=>function bi(n,e,t,i,r){return new fc(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,tt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vi.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function m(n,e,t,i,r){return(0,zn.z)(a=>function Ru(n,e,t,i,r="emptyOnly",a="legacy"){try{const u=new vg(n,e,t,i,r,a).recognize();return null===u?Ls(new By):Xe(u)}catch(u){return Ls(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,tt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vi.b)(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(L,T)}this.browserUrlTree=T.urlAfterRedirects}const O=new ba(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:L,source:U,restoredState:X,extras:le}=h,$e=new Lf(O,this.serializeUrl(L),U,X);i.next($e);const Ye=th(L,this.rootComponentType).snapshot;return Xe(Object.assign(Object.assign({},h),{targetSnapshot:Ye,urlAfterRedirects:L,extras:Object.assign(Object.assign({},le),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),lr.E}),Fe(h=>{const{targetSnapshot:_,id:b,extractedUrl:E,rawUrl:T,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:E,rawUrlTree:T,skipLocationChange:!!O,replaceUrl:!!L})}),(0,vi.b)(h=>{const _=new nl(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,tt.U)(h=>Object.assign(Object.assign({},h),{guards:Qf(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function ph(n,e){return(0,zn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?Xe(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ly(n,e,t,i){return(0,an.D)(n).pipe((0,zn.z)(r=>function ep(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Xe(a.map(h=>{const _=al(h,e,r);let b;if(function Zf(n){return n&&$o(n.canDeactivate)}(_))b=ui(_.canDeactivate(n,e,t,i));else{if(!$o(_))throw new Error("Invalid CanDeactivate guard");b=ui(_(n,e,t,i))}return b.pipe(tl())})).pipe(ch()):Xe(!0)}(r.component,r.route,t,e,i)),tl(r=>!0!==r,!0))}(u,i,r,n).pipe((0,zn.z)(h=>h&&function ug(n){return"boolean"==typeof n}(h)?function Vy(n,e,t,i){return(0,an.D)(e).pipe(Vr(r=>ao(function yg(n,e){return null!==n&&e&&e(new bu(n)),Xe(!0)}(r.route.parent,i),function mh(n,e){return null!==n&&e&&e(new wa(n)),Xe(!0)}(r.route,i),function Jf(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Ny(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>lo(()=>Xe(u.guards.map(_=>{const b=al(_,u.node,t);let E;if(function qf(n){return n&&$o(n.canActivateChild)}(b))E=ui(b.canActivateChild(i,n));else{if(!$o(b))throw new Error("Invalid CanActivateChild guard");E=ui(b(i,n))}return E.pipe(tl())})).pipe(ch())));return Xe(a).pipe(ch())}(n,r.path,t),function Dr(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(a=>lo(()=>{const u=al(a,e,t);let h;if(function Su(n){return n&&$o(n.canActivate)}(u))h=ui(u.canActivate(e,n));else{if(!$o(u))throw new Error("Invalid CanActivate guard");h=ui(u(e,n))}return h.pipe(tl())}));return Xe(r).pipe(ch())}(n,r.route,t))),tl(r=>!0!==r,!0))}(i,a,n,e):Xe(h)),(0,tt.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,vi.b)(h=>{if(cc(h.guardsResult)){const b=ho(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw b.url=h.guardsResult,b}const _=new Kd(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),Ft(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Fe(h=>{if(h.guards.canActivateChecks.length)return Xe(h).pipe((0,vi.b)(_=>{const b=new Vf(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),ln(_=>{let b=!1;return Xe(_).pipe(function w(n,e){return(0,zn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Xe(t);let a=0;return(0,an.D)(r).pipe(Vr(u=>function A(n,e,t,i){return function R(n,e,t,i){const r=K(n);if(0===r.length)return Xe({});const a={};return(0,an.D)(r).pipe((0,zn.z)(u=>function ue(n,e,t,i){const r=al(n,e,i);return ui(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe((0,vi.b)(h=>{a[u]=h}))),zd(1),(0,zn.z)(()=>K(a).length===r.length?Xe(a):lr.E))}(n._resolve,n,e,i).pipe((0,tt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),sg(n,t).resolve),null)))}(u.route,i,n,e)),(0,vi.b)(()=>a++),zd(1),(0,zn.z)(u=>a===r.length?Xe(t):lr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,vi.b)(_=>{const b=new Hi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),Fe(h=>{const{targetSnapshot:_,id:b,extractedUrl:E,rawUrl:T,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:E,rawUrlTree:T,skipLocationChange:!!O,replaceUrl:!!L})}),(0,tt.U)(h=>{const _=function og(n,e,t){const i=Eu(n,e._root,t?t._root:void 0);return new Cu(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:_})}),(0,vi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,tt.U)(i=>(new Iu(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,vi.b)({next(){a=!0},complete(){a=!0}}),Ff(()=>{var h;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),ki(h=>{if(u=!0,function fo(n){return n&&n[ri]}(h)){const _=cc(h.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new Wd(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(b),_?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rp(r.source)};this.scheduleNavigation(E,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Fn(r.id,this.serializeUrl(r.extractedUrl),h);i.next(_);try{r.resolve(this.errorHandler(h))}catch(b){r.reject(b)}}return lr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Au(t),this.config=t.map(xu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,b=r||this.routerState.root,E=_?this.currentUrlTree.fragment:u;let T=null;switch(h){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),function Iy(n,e,t,i,r){if(0===t.length)return ac(e.root,e.root,e.root,i,r);const a=function Sy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gf(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Cn(a.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,a]},[]);return new Gf(t,e,i)}(t);if(a.toRoot())return ac(e.root,e.root,new D([],{}),i,r);const u=function Ty(n,e,t){if(n.isAbsolute)return new Du(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Du(a,a===e.root,0)}const i=Er(n.commands[0])?0:1;return function $f(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Du(i,!1,r-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,e,n),h=u.processChildren?sh(u.segmentGroup,u.index,a.commands):cg(u.segmentGroup,u.index,a.commands);return ac(e.root,u.segmentGroup,h,i,r)}(b,this.currentUrlTree,t,T,null!=E?E:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=cc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ip(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},gh):!1===i?Object.assign({},Dg):i,cc(t))return Ea(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Ea(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ps(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){var h,_;if(this.disposed)return Promise.resolve(!1);let b,E,T;u?(b=u.resolve,E=u.reject,T=u.promise):T=new Promise((U,X)=>{b=U,E=X});const O=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),L=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):L=0,this.setTransition({id:O,targetPageId:L,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:E,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(U=>Promise.reject(U))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Wd(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function rp(n){return"imperative"!==n}let mc=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new _t.x,this.subscription=t.events.subscribe(a=>{a instanceof Ps&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){if(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:gc(this.skipLocationChange),replaceUrl:gc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i),l.Y36(oc),l.Y36(pe))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function gc(n){return""===n||!!n}class Ig{}class Sg{preload(e,t){return Xe(null)}}let S0=(()=>{class n{constructor(t,i,r,a){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new Ir(r,i,_=>t.triggerEvent(new ji(_)),_=>t.triggerEvent(new il(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ft(t=>t instanceof Ps),Vr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children));return(0,an.D)(r).pipe((0,Lo.J)(),(0,tt.U)(a=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Xe(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,zn.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($i),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Ig))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hy=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Lf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ps&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Yl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=new l.OlP("ROUTER_CONFIGURATION"),yc=new l.OlP("ROUTER_FORROOT_GUARD"),T0=[ye,{provide:oe,useClass:Se},{provide:$i,useFactory:function k0(n,e,t,i,r,a,u={},h,_){const b=new $i(null,n,e,t,i,r,Bf(a));return h&&(b.urlHandlingStrategy=h),_&&(b.routeReuseStrategy=_),function Gy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(E=>{var T,O;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(O=console.groupEnd)||void 0===O||O.call(console)}),b},deps:[oe,uc,ye,l.zs3,l.Sil,Vn,_c,[class pc{},new l.FiY],[class rt{},new l.FiY]]},uc,{provide:oc,useFactory:function R0(n){return n.routerState.root},deps:[$i]},S0,Sg,class I0{preload(e,t){return t().pipe(ki(()=>Xe(null)))}},{provide:_c,useValue:{enableTracing:!1}}];function A0(){return new l.PXZ("Router",$i)}let x0=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[T0,jy(t),{provide:yc,useFactory:M0,deps:[[$i,new l.FiY,new l.tp0]]},{provide:_c,useValue:i||{}},{provide:pe,useFactory:jS,deps:[he,[new l.tBr(Ke),new l.FiY],_c]},{provide:Hy,useFactory:Tg,deps:[$i,su,_c]},{provide:Ig,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Sg},{provide:l.PXZ,multi:!0,useFactory:A0},[_h,{provide:l.ip1,multi:!0,useFactory:Ag,deps:[_h]},{provide:xg,useFactory:O0,deps:[_h]},{provide:l.tb,multi:!0,useExisting:xg}]]}}static forChild(t){return{ngModule:n,providers:[jy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yc,8),l.LFG($i,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Tg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Hy(n,e,t)}function jS(n,e,t={}){return t.useHash?new Ae(n,e):new nt(n,e)}function M0(n){return"guarded"}function jy(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Vn,multi:!0,useValue:n}]}let _h=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _t.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),a=this.injector.get($i),u=this.injector.get(_c);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?Xe(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(_c),r=this.injector.get(S0),a=this.injector.get(Hy),u=this.injector.get($i),h=this.injector.get(l.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ag(n){return n.appInitializer.bind(n)}function O0(n){return n.bootstrapListener.bind(n)}const xg=new l.OlP("Router Initializer");var ul=P(4986),Wn=P(5813);function Mg(){return(0,wn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Tn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function kg(n,e=as.y){return n=null!=n?n:GS,(0,wn.e)((t,i)=>{let r,a=!0;t.subscribe((0,Tn.x)(i,u=>{const h=e(u);(a||!n(r,h))&&(a=!1,r=h,i.next(u))}))})}function GS(n,e){return n===e}var ot,Sr=P(2011),$y=(P(2274),P(3942)),ve=P(5861),_o=P(9681),yh=P(4859),dl=P(1877),Mt=P(2090),$S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ri={},Rg=Rg||{},Pt=$S||self;function Og(){}function zy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function op(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qy="closure_uid_"+(1e9*Math.random()>>>0),zS=0;function qS(n,e,t){return n.call.apply(n.bind,arguments)}function Lt(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function zi(n,e,t){return(zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qS:Lt).apply(null,arguments)}function ap(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function qi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function zo(){this.s=this.s,this.o=this.o}var V0={};zo.prototype.s=!1,zo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function L0(n){return Object.prototype.hasOwnProperty.call(n,qy)&&n[qy]||(n[qy]=++zS)}(this);delete V0[n]}},zo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Pg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function Ng(n){return Array.prototype.concat.apply([],arguments)}function Fg(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function vh(n){return/^[\s\xa0]*$/.test(n)}var Zi,ZS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Tr(n,e){return-1!=n.indexOf(e)}function U0(n,e){return n<e?-1:n>e?1:0}e:{var lp=Pt.navigator;if(lp){var Lg=lp.userAgent;if(Lg){Zi=Lg;break e}}Zi=""}function cp(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Vg(n){const e={};for(const t in n)e[t]=n[t];return e}var WS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<WS.length;a++)t=WS[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Zy(n){return Zy[" "](n),n}Zy[" "]=Og;var Bg,n,YS=Tr(Zi,"Opera"),Pu=Tr(Zi,"Trident")||Tr(Zi,"MSIE"),QS=Tr(Zi,"Edge"),Wy=QS||Pu,XS=Tr(Zi,"Gecko")&&!(Tr(Zi.toLowerCase(),"webkit")&&!Tr(Zi,"Edge"))&&!(Tr(Zi,"Trident")||Tr(Zi,"MSIE"))&&!Tr(Zi,"Edge"),j0=Tr(Zi.toLowerCase(),"webkit")&&!Tr(Zi,"Edge");function Ky(){var n=Pt.document;return n?n.documentMode:void 0}e:{var up="",G0=(n=Zi,XS?/rv:([^\);]+)(\)|;)/.exec(n):QS?/Edge\/([\d\.]+)/.exec(n):Pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):j0?/WebKit\/(\S+)/.exec(n):YS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(G0&&(up=G0?G0[1]:""),Pu){var $0=Ky();if(null!=$0&&$0>parseFloat(up)){Bg=String($0);break e}}Bg=up}var ik={};var sk=Pt.document&&Pu&&(Ky()||parseInt(Bg,10))||void 0,ok=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",Og,e),Pt.removeEventListener("test",Og,e)}catch(t){}return n}();function Ur(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ug(n,e){if(Ur.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XS){e:{try{Zy(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ug.Z.h.call(this)}}Ur.prototype.h=function(){this.defaultPrevented=!0},qi(Ug,Ur);var vc={2:"touch",3:"pen",4:"mouse"};Ug.prototype.h=function(){Ug.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nu="closure_listenable_"+(1e6*Math.random()|0),eT=0;function q0(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++eT,this.ca=this.fa=!1}function bh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function dp(n){this.src=n,this.g={},this.h=0}function hp(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=B0(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(bh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yy(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}dp.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Yy(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new q0(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var Ta="closure_lm_"+(1e6*Math.random()|0),Hg={};function Z0(n,e,t,i,r){if(i&&i.once)return Qy(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Z0(n,e[a],t,i,r);return null}return t=Fu(t),n&&n[Nu]?n.N(e,t,op(i)?!!i.capture:!!i,r):jg(n,e,t,!1,i,r)}function jg(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=op(r)?!!r.capture:!!r,h=fp(n);if(h||(n[Ta]=h=new dp(n)),(t=h.add(e,t,i,u,a)).proxy)return t;if(i=function tT(){var e=Ch;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ok||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(wh(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Qy(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Qy(n,e[a],t,i,r);return null}return t=Fu(t),n&&n[Nu]?n.O(e,t,op(i)?!!i.capture:!!i,r):jg(n,e,t,!0,i,r)}function W0(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)W0(n,e[a],t,i,r);else i=op(i)?!!i.capture:!!i,t=Fu(t),n&&n[Nu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yy(a=n.g[e],t,i,r))&&(bh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=fp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yy(e,t,i,r)),(t=-1<n?e[n]:null)&&Xy(t))}function Xy(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Nu])hp(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(wh(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=fp(e))?(hp(t,n),0==t.h&&(t.src=null,e[Ta]=null)):bh(n)}}}function wh(n){return n in Hg?Hg[n]:Hg[n]="on"+n}function Ch(n,e){if(n.ca)n=!0;else{e=new Ug(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Xy(n),n=t.call(i,e)}return n}function fp(n){return(n=n[Ta])instanceof dp?n:null}var bc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(n){return"function"==typeof n?n:(n[bc]||(n[bc]=function(e){return n.handleEvent(e)}),n[bc])}function Kn(){zo.call(this),this.i=new dp(this),this.P=this,this.I=null}function dr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ur(e,n);else if(e instanceof Ur)e.target=e.target||n;else{var r=e;H0(e=new Ur(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=pp(u,i,!0,e)&&r}if(r=pp(u=e.g=n,i,!0,e)&&r,r=pp(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=pp(u=e.g=t[a],i,!1,e)&&r}function pp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var h=u.listener,_=u.ia||u.src;u.fa&&hp(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}qi(Kn,zo),Kn.prototype[Nu]=!0,Kn.prototype.removeEventListener=function(n,e,t,i){W0(this,n,e,t,i)},Kn.prototype.M=function(){if(Kn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)bh(t[i]);delete n.g[e],n.h--}}this.I=null},Kn.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Kn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Gg=Pt.JSON.stringify;function Jy(){var n=Q0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var K0,tv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $g,n=>n.reset());class $g{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nT(n){Pt.setTimeout(()=>{throw n},0)}function zg(n,e){K0||function Y0(){var n=Pt.Promise.resolve(void 0);K0=function(){n.then(X0)}}(),qg||(K0(),qg=!0),Q0.add(n,e)}var qg=!1,Q0=new class ev{constructor(){this.h=this.g=null}add(e,t){const i=tv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function X0(){for(var n;n=Jy();){try{n.h.call(n.g)}catch(t){nT(t)}var e=tv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qg=!1}function Zg(n,e){Kn.call(this),this.h=n||1,this.g=e||Pt,this.j=zi(this.kb,this),this.l=Date.now()}function nv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Hr(n,e,t){if("function"==typeof n)t&&(n=zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pt.setTimeout(n,e||0)}function J0(n){n.g=Hr(()=>{n.g=null,n.i&&(n.i=!1,J0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qi(Zg,Kn),(ot=Zg.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dr(this,"tick"),this.da&&(nv(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){Zg.Z.M.call(this),nv(this),delete this.g};class iT extends zo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:J0(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wg(n){zo.call(this),this.h=n,this.g={}}qi(Wg,zo);var rT=[];function iv(n,e,t,i){Array.isArray(t)||(t&&(rT[0]=t.toString()),t=rT);for(var r=0;r<t.length;r++){var a=Z0(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function sT(n){cp(n.g,function(e,t){this.g.hasOwnProperty(t)&&Xy(e)},n),n.g={}}function Kg(){this.g=!0}function Eh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Gg(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}Wg.prototype.M=function(){Wg.Z.M.call(this),sT(this)},Wg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kg.prototype.Aa=function(){this.g=!1},Kg.prototype.info=function(){};var wc={},tC=null;function mp(){return tC=tC||new Kn}function nC(n){Ur.call(this,wc.Ma,n)}function gp(n){const e=mp();dr(e,new nC(e,n))}function sv(n,e){Ur.call(this,wc.STAT_EVENT,n),this.stat=e}function Ar(n){const e=mp();dr(e,new sv(e,n))}function iC(n,e){Ur.call(this,wc.Na,n),this.size=e}function ps(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},e)}wc.Ma="serverreachability",qi(nC,Ur),wc.STAT_EVENT="statevent",qi(sv,Ur),wc.Na="timingevent",qi(iC,Ur);var Dh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ov(){}function av(){}ov.prototype.h=null;var yp,_p={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lv(){Ur.call(this,"d")}function cv(){Ur.call(this,"c")}function Yg(){}function vp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Wg(this),this.P=uv,this.W=new Zg(n=Wy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bp}function bp(){this.i=null,this.g="",this.h=!1}qi(lv,Ur),qi(cv,Ur),qi(Yg,ov),Yg.prototype.g=function(){return new XMLHttpRequest},Yg.prototype.i=function(){return{}},yp=new Yg;var uv=45e3,dv={},Ih={};function wp(n,e,t){n.K=1,n.v=Ep(Wo(e)),n.s=t,n.U=!0,hv(n,null)}function hv(n,e){n.F=Date.now(),Qg(n),n.A=Wo(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Ko(t.h,"t",i),n.C=0,t=n.l.H,n.h=new bp,n.g=$u(n.l,t?e:null,!n.s),0<n.O&&(n.L=new iT(zi(n.Ia,n,n.g),n.O)),iv(n.V,n.g,"readystatechange",n.gb),e=n.H?Vg(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),gp(1),function rv(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var E=b[0];b=b[1];var T=E.split("_");u=2<=T.length&&"type"==T[1]?u+(E+"=")+b+"&":u+(E+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function cT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function uT(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=fv(n,t),r==Ih){4==e&&(n.o=4,Ar(14),i=!1),Eh(n.j,n.m,null,"[Incomplete Response]");break}if(r==dv){n.o=4,Ar(15),Eh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Eh(n.j,n.m,r,null),Xg(n,r)}cT(n)&&r!=Ih&&r!=dv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ar(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ms(e),e.L=!0,Ar(11))):(Eh(n.j,n.m,t,"[Invalid Chunked Response]"),Cc(n),Sh(n))}function fv(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ih:(t=Number(e.substring(t,i)),isNaN(t)?dv:(i+=1)+t>e.length?Ih:(e=e.substr(i,t),n.C=i+t,e))}function Qg(n){n.Y=Date.now()+n.P,sC(n,n.P)}function sC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ps(zi(n.eb,n),e)}function Cp(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function Sh(n){0==n.l.G||n.I||Uu(n.l,n)}function Cc(n){Cp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,nv(n.W),sT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Xg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||vv(t.i,n)))if(t.I=n.N,!n.J&&vv(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=ps(zi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;gl(t),s_(t)}kh(t),Ar(18)}if(1>=mC(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else yo(t,11)}else if((n.J||t.g==n)&&gl(t),!vh(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const E=b[3];null!=E&&(t.ma=E,t.h.info("VER="+t.ma));const T=b[4];null!=T&&(t.za=T,t.h.info("SVER="+t.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(t.K=i=1.5*O,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const L=n.g;if(L){const U=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=i.i;!a.g&&(Tr(U,"spdy")||Tr(U,"quic")||Tr(U,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(bv(a,a.h),a.h=null))}if(i.D){const X=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.sa=X,An(i.F,i.D,X))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=Gu(i,i.H?i.la:null,i.W),u.J){wv(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(Cp(h),Qg(h)),i.g=u}else Ac(i);0<t.l.length&&o_(t)}else"stop"!=b[0]&&"close"!=b[0]||yo(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?yo(t,7):Tc(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}gp(4)}catch(b){}}function Zo(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zy(n)||"string"==typeof n)Pg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(zy(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function oC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(zy(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function fl(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof fl)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function pv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Lu(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Lu(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Lu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=vp.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==pl(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const E=pl(this.g);var e=this.g.Da();const T=this.g.ba();if(!(3>E)&&(3!=E||Wy||this.g&&(this.h.h||this.g.ga()||bC(this.g)))){this.I||4!=E||7==e||gp(8==e||0>=T?3:2),Cp(this);var t=this.g.ba();this.N=t;t:if(cT(this)){var i=bC(this.g);n="";var r=i.length,a=4==pl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Cc(this),Sh(this);var u="";break t}this.h.i=new Pt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function eC(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,E,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vh(h)){var b=h;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ar(12),Cc(this),Sh(this);break e}Eh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xg(this,t)}this.U?(uT(this,E,u),Wy&&this.i&&3==E&&(iv(this.V,this.W,"tick",this.fb),this.W.start())):(Eh(this.j,this.m,u,null),Xg(this,u)),4==E&&Cc(this),this.i&&!this.I&&(4==E?Uu(this.l,this):(this.i=!1,Qg(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),Cc(this),Sh(this)}}}catch(E){}},ot.fb=function(){if(this.g){var n=pl(this.g),e=this.g.ga();this.C<e.length&&(Cp(this),uT(this,n,e),this.i&&4!=n&&Qg(this))}},ot.cancel=function(){this.I=!0,Cc(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function oT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(gp(3),Ar(17)),Cc(this),this.o=2,Sh(this)):sC(this,this.Y-n)},(ot=fl.prototype).R=function(){pv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return pv(this),this.g.concat()},ot.get=function(n,e){return Lu(this.h,n)?this.h[n]:e},ot.set=function(n,e){Lu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var dT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ec(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ec){this.g=void 0!==e?e:n.g,Dc(this,n.j),this.s=n.s,Jg(this,n.i),Th(this,n.m),this.l=n.l,e=n.h;var t=new Sp;t.i=e.i,e.g&&(t.g=new fl(e.g),t.h=e.h),gv(this,t),this.o=n.o}else n&&(t=String(n).match(dT))?(this.g=!!e,Dc(this,t[1]||"",!0),this.s=Dp(t[2]||""),Jg(this,t[3]||"",!0),Th(this,t[4]),this.l=Dp(t[5]||"",!0),gv(this,t[6]||"",!0),this.o=Dp(t[7]||"")):(this.g=!!e,this.h=new Sp(null,this.g))}function Wo(n){return new Ec(n)}function Dc(n,e,t){n.j=t?Dp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jg(n,e,t){n.i=t?Dp(e,!0):e}function Th(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gv(n,e,t){e instanceof Sp?(n.h=e,function dC(n,e){e&&!n.j&&(Ic(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(cC(this,i),Ko(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ip(e,pT)),n.h=new Sp(e,n.g))}function An(n,e,t){n.h.set(e,t)}function Ep(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ip(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,aC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ec.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ip(e,Vu,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ip(e,Vu,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ip(t,"/"==t.charAt(0)?fT:lC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ip(t,Ah)),n.join("")};var Vu=/[#\/\?@]/g,lC=/[#\?:]/g,fT=/[#\?]/g,pT=/[#\?@]/g,Ah=/#/g;function Sp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ic(n){n.g||(n.g=new fl,n.h=0,n.i&&function mv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cC(n,e){Ic(n),e=Sc(n,e),Lu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Lu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&pv(n)))}function uC(n,e){return Ic(n),e=Sc(n,e),Lu(n.g.h,e)}function Ko(n,e,t){cC(n,e),0<t.length&&(n.i=null,n.g.set(Sc(n,e),Fg(t)),n.h+=t.length)}function Sc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function yv(n){this.l=n||fC,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=Sp.prototype).add=function(n,e){Ic(this),this.i=null,n=Sc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){Ic(this),this.g.forEach(function(t,i){Pg(t,function(r){n.call(e,r,i,this)},this)},this)},ot.T=function(){Ic(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},ot.R=function(n){Ic(this);var e=[];if("string"==typeof n)uC(this,n)&&(e=Ng(e,this.g.get(Sc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ng(e,n[t])}return e},ot.set=function(n,e){return Ic(this),this.i=null,uC(this,n=Sc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var fC=10;function pC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mC(n){return n.h?1:n.g?n.g.size:0}function vv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bv(n,e){n.g?n.g.add(e):n.h=e}function wv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fg(n.i)}function e_(){}function gT(){this.g=new e_}function _T(n,e,t){const i=t||"";try{Zo(n,function(r,a){let u=r;op(r)&&(u=Gg(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Cv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function Bu(n){this.l=n.$b||null,this.j=n.ib||!1}function t_(n,e){Kn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=n_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yv.prototype.cancel=function(){if(this.i=mT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},e_.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},e_.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},qi(Bu,ov),Bu.prototype.g=function(){return new t_(this.l,this.j)},Bu.prototype.i=function(n){return function(){return n}}({}),qi(t_,Kn);var n_=0;function Ev(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function i_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jr(n)}function jr(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=t_.prototype).open=function(n,e){if(this.readyState!=n_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jr(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,i_(this)),this.readyState=n_},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ev(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?i_(this):jr(this),3==this.readyState&&Ev(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,i_(this))},ot.Ta=function(n){this.g&&(this.response=n,i_(this))},ot.ha=function(){this.g&&i_(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(t_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lk=Pt.JSON.parse;function Oi(n){Kn.call(this),this.headers=new fl,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dv,this.K=this.L=!1}qi(Oi,Kn);var Dv="",gC=/^https?$/i,_C=["POST","PUT"];function ck(n){return"content-type"==n.toLowerCase()}function Iv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,r_(n),xh(n)}function r_(n){n.D||(n.D=!0,dr(n,"complete"),dr(n,"error"))}function yC(n){if(n.h&&void 0!==Rg&&(!n.C[1]||4!=pl(n)||2!=n.ba()))if(n.v&&4==pl(n))Hr(n.Fa,0,n);else if(dr(n,"readystatechange"),4==pl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(dT)[1]||null;if(!r&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;r=a.substr(0,a.length-1)}i=!gC.test(r?r.toLowerCase():"")}t=i}if(t)dr(n,"complete"),dr(n,"success");else{n.m=6;try{var u=2<pl(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",r_(n)}}finally{xh(n)}}}function xh(n,e){if(n.g){vC(n);const t=n.g,i=n.C[0]?Og:null;n.g=null,n.C=null,e||dr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function vC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function pl(n){return n.g?n.g.readyState:0}function bC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Dv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Sv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function vT(n){let e="";return cp(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function Tp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ap(n){this.za=0,this.l=[],this.h=new Kg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tp("baseRetryDelayMs",5e3,n),this.$a=Tp("retryDelaySeedMs",1e4,n),this.Ya=Tp("forwardChannelMaxRetries",2,n),this.ra=Tp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new yv(n&&n.concurrentRequestLimit),this.Ca=new gT,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Tc(n){if(Mh(n),3==n.G){var e=n.V++,t=Wo(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),ml(n,t),(e=new vp(n,n.h,e,void 0)).K=2,e.v=Ep(Wo(t)),t=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(t=Pt.navigator.sendBeacon(e.v.toString(),"")),!t&&Pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$u(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Qg(e)}ju(n)}function s_(n){n.g&&(ms(n),n.g.cancel(),n.g=null)}function Mh(n){s_(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),gl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function Tv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&o_(n)}function o_(n){pC(n.i)||n.m||(n.m=!0,zg(n.Ha,n),n.C=0)}function Yo(n,e){var t;t=e?e.m:n.V++;const i=Wo(n.F);An(i,"SID",n.J),An(i,"RID",t),An(i,"AID",n.U),ml(n,i),n.o&&n.s&&Sv(i,n.o,n.s),t=new vp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=hr(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),bv(n.i,t),wp(t,i,e)}function ml(n,e){n.j&&Zo({},function(t,i){An(e,i,t)})}function hr(n,e,t){t=Math.min(n.l.length,t);var i=n.j?zi(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let _=0;_<t;_++){let b=r[_].h;const E=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),h=!1;else try{_T(E,u,"req"+b+"_")}catch(T){i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Ac(n){n.g||n.u||(n.Y=1,zg(n.Ga,n),n.A=0)}function kh(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ps(zi(n.Ga,n),Hu(n,n.A)),n.A++,0))}function ms(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function a_(n){n.g=new vp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Wo(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),ml(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&Sv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ep(Wo(e)),t.s=null,t.U=!0,hv(t,n)}function gl(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function Uu(n,e){var t=null;if(n.g==e){gl(n),ms(n),n.g=null;var i=2}else{if(!vv(n.i,e))return;t=e.D,wv(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;dr(i=mp(),new iC(i,t,e,r)),o_(n)}else Ac(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function Av(n,e){return!(mC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ps(zi(n.Ha,n,e),Hu(n,n.C)),n.C++,0)))}(n,e)||2==i&&kh(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:yo(n,5);break;case 4:yo(n,10);break;case 3:yo(n,6);break;default:yo(n,2)}}function Hu(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function yo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=zi(n.jb,n);t||(t=new Ec("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||Dc(t,"https"),Ep(t)),function ak(n,e){const t=new Kg;if(Pt.Image){const i=new Image;i.onload=ap(Cv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ap(Cv,t,i,"TestLoadImage: error",!1,e),i.onabort=ap(Cv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ap(Cv,t,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ar(2);n.G=0,n.j&&n.j.va(e),ju(n),Mh(n)}function ju(n){n.G=0,n.I=-1,n.j&&((0!=mT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Fg(n.l),n.l.length=0),n.j.ua())}function Gu(n,e,t){let i=function hT(n){return n instanceof Ec?Wo(n):new Ec(n,void 0)}(t);if(""!=i.i)e&&Jg(i,e+"."+i.i),Th(i,i.m);else{const r=Pt.location;i=function _v(n,e,t,i){var r=new Ec(null,void 0);return n&&Dc(r,n),e&&Jg(r,e),t&&Th(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&cp(n.aa,function(r,a){An(i,a,r)}),t=n.sa,(e=n.D)&&t&&An(i,e,t),An(i,"VER",n.ma),ml(n,i),i}function $u(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Oi(t&&n.Ba&&!n.qa?new Bu({ib:!0}):n.qa)).L=n.H,e}function zu(){}function _l(){if(Pu&&!(10<=Number(sk)))throw Error("Environmental error: no available transport.")}function gs(n,e){Kn.call(this),this.g=new Ap(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!vh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qu(this)}function xv(n){lv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Mv(){cv.call(this),this.status=1}function qu(n){this.g=n}(ot=Oi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yp.g(),this.C=function lT(n){return n.h||(n.h=n.i())}(this.u?this.u:yp),this.g.onreadystatechange=zi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Iv(this,a)}n=t||"";const r=new fl(this.headers);i&&Zo(i,function(a,u){r.set(u,a)}),i=function hl(n){e:{var e=ck;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Pt.FormData&&n instanceof Pt.FormData,!(0<=B0(_C,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vC(this),0<this.B&&((this.K=function yT(n){return Pu&&function rk(){return function KS(n){var e=ik;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ZS(String(Bg)).split("."),t=ZS("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=U0(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||U0(0==r[2].length,0==a[2].length)||U0(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zi(this.pa,this)):this.A=Hr(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Iv(this,a)}},ot.pa=function(){void 0!==Rg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,dr(this,"complete"),dr(this,"abort"),xh(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xh(this,!0)),Oi.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?yC(this):this.cb())},ot.cb=function(){yC(this)},ot.ba=function(){try{return 2<pl(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lk(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=Ap.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new vp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Vg(a),H0(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hr(this,r,e),An(t=Wo(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),ml(this,t),this.o&&a&&Sv(t,this.o,a),bv(this.i,r),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),r.$=!0,wp(r,t,null)):wp(r,t,e),this.G=2}}else 3==this.G&&(n?Yo(this,n):0==this.l.length||pC(this.i)||Yo(this))},ot.Ga=function(){if(this.u=null,a_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ps(zi(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ar(10),s_(this),a_(this))},ot.ab=function(){null!=this.v&&(this.v=null,s_(this),kh(this),Ar(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ar(2)):(this.h.info("Failed to ping google.com"),Ar(1))},(ot=zu.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},_l.prototype.g=function(n,e){return new gs(n,e)},qi(gs,Kn),gs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),zg(zi(n.hb,n,e))),Ar(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Gu(n,null,n.W),o_(n)},gs.prototype.close=function(){Tc(this.g)},gs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Tv(this.g,e)}else this.v?((e={}).__data__=Gg(n),Tv(this.g,e)):Tv(this.g,n)},gs.prototype.M=function(){this.g.j=null,delete this.j,Tc(this.g),delete this.g,gs.Z.M.call(this)},qi(xv,lv),qi(Mv,cv),qi(qu,zu),qu.prototype.xa=function(){dr(this.g,"a")},qu.prototype.wa=function(n){dr(this.g,new xv(n))},qu.prototype.va=function(n){dr(this.g,new Mv(n))},qu.prototype.ua=function(){dr(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,gs.prototype.send=gs.prototype.u,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,rC.COMPLETE="complete",av.EventType=_p,_p.OPEN="a",_p.CLOSE="b",_p.ERROR="c",_p.MESSAGE="d",Kn.prototype.listen=Kn.prototype.N,Oi.prototype.listenOnce=Oi.prototype.O,Oi.prototype.getLastError=Oi.prototype.La,Oi.prototype.getLastErrorCode=Oi.prototype.Da,Oi.prototype.getStatus=Oi.prototype.ba,Oi.prototype.getResponseJson=Oi.prototype.Qa,Oi.prototype.getResponseText=Oi.prototype.ga,Oi.prototype.send=Oi.prototype.ea;var wC=Ri.createWebChannelTransport=function(){return new _l},CC=Ri.getStatEventTarget=function(){return mp()},l_=Ri.ErrorCode=Dh,EC=Ri.EventType=rC,DC=Ri.Event=wc,IC=Ri.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},SC=Ri.FetchXmlHttpFactory=Bu,c_=Ri.WebChannel=av,TC=Ri.XhrIo=Oi;const kv="@firebase/firestore";class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Rh="9.9.4";const yl=new dl.Yd("@firebase/firestore");function Rv(){return yl.logLevel}function Oe(n,...e){if(yl.logLevel<=dl.in.DEBUG){const t=e.map(Ov);yl.debug(`Firestore (${Rh}): ${n}`,...t)}}function hi(n,...e){if(yl.logLevel<=dl.in.ERROR){const t=e.map(Ov);yl.error(`Firestore (${Rh}): ${n}`,...t)}}function Oh(n,...e){if(yl.logLevel<=dl.in.WARN){const t=e.map(Ov);yl.warn(`Firestore (${Rh}): ${n}`,...t)}}function Ov(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Tt(n,e){n||st()}function et(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Pv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class wT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ph{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const b=u;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new Pv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Wi(e)}}class CT{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class xC{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new CT(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.A=t.token,new MC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ET(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Fv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=ET(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Nt(n,e){return n<e?-1:n>e?1:0}function Nh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function RC(n){return n+"\0"}class Bn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Bn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Bn(0,0))}static max(){return new At(new Bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fh{constructor(e,t,i){void 0===t?t=0:t>e.length&&st(),void 0===i?i=e.length-t:i>e.length-t&&st(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Fh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Fh{construct(e,t,i){return new Qt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const OC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Fh{construct(e,t,i){return new Yn(e,t,i)}static isValidIdentifier(e){return OC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new ke(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new ke(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(t)}static emptyPath(){return new Yn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Qt.fromString(e))}static fromName(e){return new qe(Qt.fromString(e).popFirst(5))}static empty(){return new qe(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Qt(e.slice()))}}class Lv{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function xp(n){return n.fields.find(e=>2===e.kind)}function Zu(n){return n.fields.filter(e=>2!==e.kind)}Lv.UNKNOWN_ID=-1;class xc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wu(0,xr.min())}}function u_(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new Bn(t+1,0):new Bn(t,i));return new xr(r,qe.empty(),e)}function NC(n){return new xr(n.readTime,n.key,-1)}class xr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xr(At.min(),qe.empty(),-1)}static max(){return new xr(At.max(),qe.empty(),-1)}}function Lh(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const d_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mc(n){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,ve.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==d_)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),Vh.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let h=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(E=>{u[b]=E,++h,h===a&&i(u)},E=>r(E))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Bh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ki,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Uh(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=h_(i.target.error);this.P.reject(new Uh(e,r))}}static open(e,t,i,r){try{return new Bh(t,e.transaction(r,i))}catch(a){throw new Uh(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bv(t)}}class vo{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===vo.D((0,Mt.z$)())&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),bl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Mt.hl)())return!1;if(vo.N())return!0;const e=(0,Mt.z$)(),t=vo.D(e),i=0<t&&t<10,r=vo.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Uh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new ke(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Uh(e,h))},a.onupgradeneeded=u=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ve.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const _=Bh.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(E=>(_.V(),E)).catch(E=>(_.abort(E),se.reject(E))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,E="FirebaseError"!==b.name&&h<3;if(Oe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),a.close(),!E)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vv{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return bl(this.U.delete())}}class Uh extends ke{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vl(n){return"IndexedDbTransactionError"===n.name}class Bv{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),bl(i)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),bl(this.store.add(e))}get(e){return bl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),bl(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),bl(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,h)=>{a.push(h)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,h)=>h.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=h_(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new Vv(h),b=t(h.primaryKey,h.value,_);if(b instanceof se){const E=b.catch(T=>(_.done(),se.reject(T)));i.push(E)}_.isDone?r():null===_.G?h.continue():h.continue(_.G)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bl(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=h_(i.target.error);t(r)}})}let FC=!1;function h_(n){const e=vo.D((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FC||(FC=!0,setTimeout(()=>{throw i},0)),i}}return n}class LC{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){vl(i)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Mc(i)}yield t.nt(1)}))}}class Uv{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Oe("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(h=>{r-=h,i.add(u)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,a)).next(h=>(Oe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=NC(a);Lh(u,i)>0&&(i=u)}),new xr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Gr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function VC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Hv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Gr.at=-1;class Un{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:Yi.RED,this.left=null!=r?r:Yi.EMPTY,this.right=null!=a?a:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Yi(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ku(n){return n.hasNext()?n.getNext():void 0}class _s{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new _s([])}unionWith(e){let t=new _n(Yn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new _s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const UC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=UC.exec(n);if(Tt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:si(n.seconds),nanos:si(n.nanos)}}function si(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qu(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function f_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HC(n){const e=n.mapValue.fields.__previous_value__;return f_(e)?HC(e):e}function Qn(n){const e=Yu(n.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}class jC{constructor(e,t,i,r,a,u,h,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Rc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}function Mp(n){return null==n}function jh(n){return 0===n&&1/n==-1/0}function GC(n){return"number"==typeof n&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kp={nullValue:"NULL_VALUE"};function bo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f_(n)?4:wo(n)?9007199254740991:10:st()}function Aa(n,e){if(n===e)return!0;const t=bo(n);if(t!==bo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qn(n).isEqual(Qn(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Yu(i.timestampValue),u=Yu(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Qu(n.bytesValue).isEqual(Qu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return si(i.geoPointValue.latitude)===si(r.geoPointValue.latitude)&&si(i.geoPointValue.longitude)===si(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return si(i.integerValue)===si(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=si(i.doubleValue),u=si(r.doubleValue);return a===u?jh(a)===jh(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Nh(n.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(VC(a)!==VC(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!Aa(a[h],u[h])))return!1;return!0}(n,e);default:return st()}var r}function Rp(n,e){return void 0!==(n.values||[]).find(t=>Aa(t,e))}function Cl(n,e){if(n===e)return 0;const t=bo(n),i=bo(e);if(t!==i)return Nt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=si(r.integerValue||r.doubleValue),h=si(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return $C(n.timestampValue,e.timestampValue);case 4:return $C(Qn(n),Qn(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Qu(r),h=Qu(a);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),h=a.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Nt(u[_],h[_]);if(0!==b)return b}return Nt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Nt(si(r.latitude),si(a.latitude));return 0!==u?u:Nt(si(r.longitude),si(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],h=a.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=Cl(u[_],h[_]);if(b)return b}return Nt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===wl.mapValue&&a===wl.mapValue)return 0;if(r===wl.mapValue)return 1;if(a===wl.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=a.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let E=0;E<h.length&&E<b.length;++E){const T=Nt(h[E],b[E]);if(0!==T)return T;const O=Cl(u[h[E]],_[b[E]]);if(0!==O)return O}return Nt(h.length,b.length)}(n.mapValue,e.mapValue);default:throw st()}}function $C(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Yu(n),i=Yu(e),r=Nt(t.seconds,i.seconds);return 0!==r?r:Nt(t.nanos,i.nanos)}function Xu(n){return zC(n)}function zC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Yu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qu(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=zC(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const h of r)u?u=!1:a+=",",a+=`${h}:${zC(i.fields[h])}`;return a+"}"}(n.mapValue):st();var e}function El(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Op(n){return!!n&&"integerValue"in n}function ys(n){return!!n&&"arrayValue"in n}function qC(n){return!!n&&"nullValue"in n}function ZC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vs(n){return!!n&&"mapValue"in n}function $r(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$r(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$r(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wo(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WC(n){return"nullValue"in n?kp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?El(Rc.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function KC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?El(Rc.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wl:st()}function YC(n,e){const t=Cl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function QC(n,e){const t=Cl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$r(t)}setAll(e){let t=Yn.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=$r(u):r.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Vs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Vs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){kc(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new fr($r(this.value))}}function XC(n){const e=[];return kc(n.fields,(t,i)=>{const r=new Yn([t]);if(Vs(i)){const a=XC(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new _s(e)}class vn{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new vn(e,0,At.min(),At.min(),fr.empty(),0)}static newFoundDocument(e,t,i){return new vn(e,1,t,At.min(),i,0)}static newNoDocument(e,t){return new vn(e,2,t,At.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,At.min(),fr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pp{constructor(e,t=null,i=[],r=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.ht=null}}function JC(n,e=null,t=[],i=[],r=null,a=null,u=null){return new Pp(n,e,t,i,r,a,u)}function Oc(n){const e=et(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Xu(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Mp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xu(i)).join(",")),e.ht=t}return e.ht}function Gh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!oE(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Aa(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lE(n.startAt,e.startAt)&&lE(n.endAt,e.endAt)}function Np(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ju(n,e){return n.filters.filter(t=>t instanceof Qi&&t.field.isEqual(e))}function eE(n,e,t){let i=kp,r=!0;for(const a of Ju(n,e)){let u=kp,h=!0;switch(a.op){case"<":case"<=":u=WC(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=kp}YC({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];YC({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function Gv(n,e,t){let i=wl,r=!0;for(const a of Ju(n,e)){let u=wl,h=!0;switch(a.op){case">=":case">":u=KC(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=wl}QC({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];QC({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Qi extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new $v(e,t,i):"array-contains"===t?new nE(e,i):"in"===t?new iE(e,i):"not-in"===t?new rE(e,i):"array-contains-any"===t?new sE(e,i):new Qi(e,t,i)}static lt(e,t,i){return"in"===t?new p_(e,i):new tE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Cl(t,this.value)):null!==t&&bo(this.value)===bo(t)&&this.ft(Cl(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $v extends Qi{constructor(e,t,i){super(e,t,i),this.key=qe.fromName(i.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.ft(t)}}class p_ extends Qi{constructor(e,t){super(e,"in",t),this.keys=zv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tE extends Qi{constructor(e,t){super(e,"not-in",t),this.keys=zv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>qe.fromName(i.referenceValue))}class nE extends Qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ys(t)&&Rp(t.arrayValue,this.value)}}class iE extends Qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rp(this.value.arrayValue,t)}}class rE extends Qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rp(this.value.arrayValue,t)}}class sE extends Qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ys(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Rp(this.value.arrayValue,i))}}class Dl{constructor(e,t){this.position=e,this.inclusive=t}}class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function oE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function aE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?qe.comparator(qe.fromName(u.referenceValue),t.key):Cl(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function lE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Aa(n.position[t],e.position[t]))return!1;return!0}class Il{constructor(e,t=null,i=[],r=[],a=null,u="F",h=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=_,this._t=null,this.wt=null}}function cE(n,e,t,i,r,a,u,h){return new Il(n,e,t,i,r,a,u,h)}function $h(n){return new Il(n)}function uE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zv(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Wv(n){return null!==n.collectionGroup}function zh(n){const e=et(n);if(null===e._t){e._t=[];const t=Zv(e),i=qv(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new ed(t)),e._t.push(new ed(Yn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ed(Yn.keyField(),a))}}}return e._t}function vs(n){const e=et(n);if(!e.wt)if("F"===e.limitType)e.wt=JC(e.path,e.collectionGroup,zh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of zh(e))t.push(new ed(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Dl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Dl(e.startAt.position,e.startAt.inclusive):null;e.wt=JC(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function m_(n,e,t){return new Il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fp(n,e){return Gh(vs(n),vs(e))&&n.limitType===e.limitType}function dE(n){return`${Oc(vs(n))}|lt:${n.limitType}`}function Kv(n){return`Query(target=${function IT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Xu(i.value)}`;var i}).join(", ")}]`),Mp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Xu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Xu(t)).join(",")),`Target(${e})`}(vs(n))}; limitType=${n.limitType})`}function Yv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const h=aE(r,a,u);return r.inclusive?h<=0:h<0}(t.startAt,zh(t),i)||t.endAt&&!function(r,a,u){const h=aE(r,a,u);return r.inclusive?h>=0:h>0}(t.endAt,zh(t),i)));var t,i}function hE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Qv(n){return(e,t)=>{let i=!1;for(const r of zh(n)){const a=fE(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function fE(n,e,t){const i=n.field.isKeyField()?qe.comparator(e.key,t.key):function(r,a,u){const h=a.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Cl(h,_):st()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}function Xv(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function Jv(n){return{integerValue:""+n}}function eb(n,e){return GC(e)?Jv(e):Xv(n,e)}class Lp{constructor(){this._=void 0}}function pE(n,e,t){return n instanceof Pc?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Sl?Nc(n,e):n instanceof td?gE(n,e):function(i,r){const a=tb(i,r),u=ST(a)+ST(i.yt);return Op(a)&&Op(i.yt)?Jv(u):Xv(i.It,u)}(n,e)}function mE(n,e,t){return n instanceof Sl?Nc(n,e):n instanceof td?gE(n,e):t}function tb(n,e){return n instanceof Qo?Op(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Pc extends Lp{}class Sl extends Lp{constructor(e){super(),this.elements=e}}function Nc(n,e){const t=g_(e);for(const i of n.elements)t.some(r=>Aa(r,i))||t.push(i);return{arrayValue:{values:t}}}class td extends Lp{constructor(e){super(),this.elements=e}}function gE(n,e){let t=g_(e);for(const i of n.elements)t=t.filter(r=>!Aa(r,i));return{arrayValue:{values:t}}}class Qo extends Lp{constructor(e,t){super(),this.It=e,this.yt=t}}function ST(n){return si(n.integerValue||n.doubleValue)}function g_(n){return ys(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class __{constructor(e,t){this.field=e,this.transform=t}}class yE{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bt(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class y_{}function vE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qh(n.key,Xn.none()):new Tl(n.key,n.data,Xn.none());{const t=n.data,i=fr.empty();let r=new _n(Yn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new pn(n.key,i,new _s(r.toArray()),Xn.none())}}function TT(n,e,t){n instanceof Tl?function(i,r,a){const u=i.value.clone(),h=nb(i.fieldTransforms,r,a.transformResults);u.setAll(h),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof pn?function(i,r,a){if(!bt(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=nb(i.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(xT(i)),h.setAll(u),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fc(n,e,t,i){return n instanceof Tl?function(r,a,u,h){if(!bt(r.precondition,a))return u;const _=r.value.clone(),b=bE(r.fieldTransforms,h,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof pn?function(r,a,u,h){if(!bt(r.precondition,a))return u;const _=bE(r.fieldTransforms,h,a),b=a.data;return b.setAll(xT(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,e,t,i):(u=t,bt(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function AT(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=tb(i.transform,r||null);null!=a&&(null===t&&(t=fr.empty()),t.set(i.field,a))}return t||null}function Vp(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Nh(t,i,(r,a)=>function _E(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Sl&&i instanceof Sl||t instanceof td&&i instanceof td?Nh(t.elements,i.elements,Aa):t instanceof Qo&&i instanceof Qo?Aa(t.yt,i.yt):t instanceof Pc&&i instanceof Pc);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Tl extends y_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pn extends y_{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function nb(n,e,t){const i=new Map;Tt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,h=e.data.field(a.field);i.set(a.field,mE(u,h,t[r]))}return i}function bE(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,pE(a,u,e))}return i}class qh extends y_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v_ extends y_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wE{constructor(e){this.count=e}}var fi,Yt;function CE(n){switch(n){default:return st();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function EE(n){if(void 0===n)return hi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case fi.OK:return fe.OK;case fi.CANCELLED:return fe.CANCELLED;case fi.UNKNOWN:return fe.UNKNOWN;case fi.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case fi.INTERNAL:return fe.INTERNAL;case fi.UNAVAILABLE:return fe.UNAVAILABLE;case fi.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case fi.NOT_FOUND:return fe.NOT_FOUND;case fi.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case fi.ABORTED:return fe.ABORTED;case fi.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case fi.DATA_LOSS:return fe.DATA_LOSS;default:return st()}}(Yt=fi||(fi={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class Lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Hv(this.inner)}size(){return this.innerSize}}const Bp=new Un(qe.comparator);function bs(){return Bp}const DE=new Un(qe.comparator);function Up(...n){let e=DE;for(const t of n)e=e.insert(t.key,t);return e}function Hp(n){let e=DE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Xo(){return Zh()}function ib(){return Zh()}function Zh(){return new Lc(n=>n.toString(),(n,e)=>n.isEqual(e))}const MT=new Un(qe.comparator),jp=new _n(qe.comparator);function Rt(...n){let e=jp;for(const t of n)e=e.add(t);return e}const kT=new _n(Nt);function b_(){return kT}class Gp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Gp(At.min(),i,b_(),bs(),Rt())}}class Wh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Wh(wi.EMPTY_BYTE_STRING,t,Rt(),Rt(),Rt())}}class $p{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class rb{constructor(e,t){this.targetId=e,this.At=t}}class IE{constructor(e,t,i=wi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class sb{constructor(){this.Rt=0,this.bt=OT(),this.Pt=wi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rt(),t=Rt(),i=Rt();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:st()}}),new Wh(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=OT()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class RT{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=bs(),this.qt=SE(),this.Kt=new _n(Nt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(Np(a))if(0===i){const u=new qe(a.path);this.jt(t,u,vn.newNoDocument(u,At.min()))}else Tt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const h=this.Xt(u);if(h){if(a.current&&Np(h.target)){const _=new qe(h.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,vn.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let i=Rt();this.qt.forEach((a,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const r=new Gp(e,t,this.Kt,this.Ut,i);return this.Ut=bs(),this.qt=SE(),this.Kt=new _n(Nt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new sb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new _n(Nt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new sb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function SE(){return new Un(qe.comparator)}function OT(){return new Un(qe.comparator)}const hk={asc:"ASCENDING",desc:"DESCENDING"},fk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pk{constructor(e,t){this.databaseId=e,this.gt=t}}function Kh(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zp(n,e){return n.gt?e.toBase64():e.toUint8Array()}function PT(n,e){return Kh(n,e.toTimestamp())}function Xi(n){return Tt(!!n),At.fromTimestamp(function(e){const t=Yu(e);return new Bn(t.seconds,t.nanos)}(n))}function w_(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Yh(n){const e=Qt.fromString(n);return Tt(hb(e)),e}function qp(n,e){return w_(n.databaseId,e.path)}function xa(n,e){const t=Yh(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(ab(t))}function ob(n,e){return w_(n.databaseId,e)}function TE(n){const e=Yh(n);return 4===e.length?Qt.emptyPath():ab(e)}function Zp(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ab(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function AE(n,e,t){return{name:qp(n,e),fields:t.value.mapValue.fields}}function xE(n,e,t){const i=xa(n,e.name),r=Xi(e.updateTime),a=new fr({mapValue:{fields:e.fields}}),u=vn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Xh(n,e){let t;if(e instanceof Tl)t={update:AE(n,e.key,e.value)};else if(e instanceof qh)t={delete:qp(n,e.key)};else if(e instanceof pn)t={update:AE(n,e.key,e.data),updateMask:LT(e.fieldMask)};else{if(!(e instanceof v_))return st();t={verify:qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Pc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Sl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof td)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qo)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw st()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:PT(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),t;var r}function lb(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Xn.updateTime(Xi(r.updateTime)):void 0!==r.exists?Xn.exists(r.exists):Xn.none():Xn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let h=null;"setToServerValue"in u?(Tt("REQUEST_TIME"===u.setToServerValue),h=new Pc):"appendMissingElements"in u?h=new Sl(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new td(u.removeAllFromArray.values||[]):"increment"in u?h=new Qo(a,u.increment):st();const _=Yn.fromServerFormat(u.fieldPath);return new __(_,h)}(n,r)):[];var r;if(e.update){const r=xa(n,e.update.name),a=new fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new _s((e.updateMask.fieldPaths||[]).map(b=>Yn.fromServerFormat(b)));return new pn(r,a,u,t,i)}return new Tl(r,a,t,i)}if(e.delete){const r=xa(n,e.delete);return new qh(r,t)}if(e.verify){const r=xa(n,e.verify);return new v_(r,t)}return st()}function kE(n,e){return{documents:[ob(n,e.path)]}}function cb(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=ob(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ob(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(E=>function(T){if("=="===T.op){if(ZC(T.value))return{unaryFilter:{field:Jh(T.field),op:"IS_NAN"}};if(qC(T.value))return{unaryFilter:{field:Jh(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(ZC(T.value))return{unaryFilter:{field:Jh(T.field),op:"IS_NOT_NAN"}};if(qC(T.value))return{unaryFilter:{field:Jh(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jh(T.field),op:NE(T.op),value:T.value}}}(E));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Jh((E=b).field),direction:PE(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.gt||Mp(b)?b:{value:b});var b,h,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function RE(n){let e=TE(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Tt(1===i);const E=t.from[0];E.allDescendants?r=E.collectionId:e=e.child(E.collectionId)}let a=[];t.where&&(a=OE(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(E=>{return new ed(ef((T=E).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(E){let T;return T="object"==typeof E?E.value:E,Mp(T)?null:T}(t.limit));let _=null;var E;t.startAt&&(_=new Dl((E=t.startAt).values||[],!!E.before));let b=null;return t.endAt&&(b=function(E){return new Dl(E.values||[],!E.before)}(t.endAt)),cE(e,r,u,a,h,"F",_,b)}function OE(n){return n?void 0!==n.unaryFilter?[db(n)]:void 0!==n.fieldFilter?[FT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>OE(e)).reduce((e,t)=>e.concat(t)):st():[]}function PE(n){return hk[n]}function NE(n){return fk[n]}function Jh(n){return{fieldPath:n.canonicalString()}}function ef(n){return Yn.fromServerFormat(n.fieldPath)}function FT(n){return Qi.create(ef(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function db(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ef(n.unaryFilter.field);return Qi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ef(n.unaryFilter.field);return Qi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ef(n.unaryFilter.field);return Qi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ef(n.unaryFilter.field);return Qi.create(r,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function LT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function zr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FE(e)),e=VT(n.get(t),e);return FE(e)}function VT(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function FE(n){return n+"\x01\x01"}function Ma(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&st(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:st()}a=u+2}return new Qt(i)}const LE=["userId","batchId"];function C_(n,e){return[n,zr(e)]}function VE(n,e,t){return[n,zr(e),t]}const BT={},BE=["prefixPath","collectionGroup","readTime","documentId"],UE=["prefixPath","collectionGroup","documentId"],UT=["collectionGroup","readTime","prefixPath","documentId"],HT=["canonicalId","targetId"],HE=["targetId","path"],jT=["path","targetId"],GT=["collectionId","parent"],$T=["indexId","uid"],fb=["uid","sequenceNumber"],pb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jE=["indexId","uid","orderedDocumentKey"],mb=["userId","collectionPath","documentId"],zT=["userId","collectionPath","largestBatchId"],qT=["userId","collectionGroup","largestBatchId"],E_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZT=[...E_,"documentOverlays"],gb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GE=gb,$E=[...GE,"indexConfiguration","indexState","indexEntries"];class _b extends DT{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=et(n);return vo.O(t.ie,e)}class zE{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&TT(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Fc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Fc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ib();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(r.key)?null:h;const _=vE(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(t,i)=>Vp(t,i))&&Nh(this.baseMutations,e.baseMutations,(t,i)=>Vp(t,i))}}class yb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Tt(e.mutations.length===i.length);let r=MT;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new yb(e,t,i,r)}}class tf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vc{constructor(e,t,i,r,a=At.min(),u=At.min(),h=wi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new Vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nd{constructor(e){this.re=e}}function qE(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:qp(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Kh(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return st();i.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var r,a;return i}function vb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function id(n){const e=new Bn(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function rd(n,e){const t=(e.baseMutations||[]).map(a=>lb(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>lb(n.re,a)),r=Bn.fromMillis(e.localWriteTimeMs);return new zE(e.batchId,r,t,i)}function Kp(n){const e=id(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?id(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(Tt(1===(r=n.query).documents.length),i=vs($h(TE(r.documents[0])))):i=vs(RE(n.query)),new Vc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,wi.fromBase64String(n.resumeToken))}function ZE(n,e){const t=Bc(e.snapshotVersion),i=Bc(e.lastLimboFreeSnapshotVersion);let r;r=Np(e.target)?kE(n.re,e.target):cb(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function D_(n){const e=RE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?m_(e,e.limit,"L"):e}function I_(n,e){return new tf(e.largestBatchId,lb(n.re,e.overlayMutation))}function S_(n,e){const t=e.path.lastSegment();return[n,zr(e.path.popLast()),t]}function Yp(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Bc(i.readTime),documentKey:zr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Qp{getBundleMetadata(e,t){return WE(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:id(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return WE(e).put({bundleId:(i=t).id,createTime:Bc(Xi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return bb(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:D_(r.bundledQuery),readTime:id(r.readTime)};var r})}saveNamedQuery(e,t){return bb(e).put({name:(i=t).name,readTime:Bc(Xi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function WE(n){return Pi(n,"bundles")}function bb(n){return Pi(n,"namedQueries")}class Xp{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Xp(e,t.uid||"")}getOverlay(e,t){return Jp(e).get(S_(this.userId,t)).next(i=>i?I_(this.It,i):null)}getOverlays(e,t){const i=Xo();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const h=new tf(t,u);r.push(this.ue(e,h))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(zr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Jp(e).Y("collectionPathOverlayIndex",h))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Xo(),a=zr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Jp(e).W("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=I_(this.It,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Xo();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jp(e).Z({index:"collectionGroupOverlayIndex",range:h},(_,b,E)=>{const T=I_(this.It,b);a.size()<r||T.largestBatchId===u?(a.set(T.getKey(),T),u=T.largestBatchId):E.done()}).next(()=>a)}ue(e,t){return Jp(e).put(function(i,r,a){const[u,h,_]=S_(r,a.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Xh(i.re,a.mutation)}}(this.It,this.userId,t))}}function Jp(n){return Pi(n,"documentOverlays")}class sd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(si(e.integerValue));else if("doubleValue"in e){const i=si(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),jh(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Qu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?wo(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):st()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),qe.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function wb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function KE(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=wb(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}sd.Te=new sd;class mk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=KE(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=KE(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class WT{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class KT{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class ka{constructor(){this.Be=new mk,this.Le=new WT(this.Be),this.Ue=new KT(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Uc{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Uc(this.indexId,this.documentKey,this.arrayValue,i)}}function Co(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YT(n.arrayValue,e.arrayValue),0!==t?t:(t=YT(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function YT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class YE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=xp(e);if(void 0!==t&&!this.ze(t))return!1;const i=Zu(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class QT{constructor(){this.Ye=new QE}addToCollectionParentIndex(e,t){return this.Ye.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(xr.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class QE{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new _n(Qt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new _n(Qt.comparator)).toArray()}}const em=new Uint8Array(0);class gk{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new QE,this.Ze=new Lc(i=>Oc(i),(i,r)=>Gh(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:zr(r)};return Cb(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[RC(t),""],!1,!0);return Cb(e).W(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Ma(u.parent))}return i})}addFieldIndex(e,t){const i=tm(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=nm(e);return a.next(h=>{u.put(Yp(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=tm(e),r=nm(e),a=od(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=od(e);let r=!0;const a=new Map;return se.forEach(this.tn(t),u=>this.en(e,u).next(h=>{r&&(r=!!h),a.set(u,h)})).next(()=>{if(r){let u=Rt();const h=[];return se.forEach(a,(_,b)=>{var E;Oe("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${Oc(t)}`);const T=function(ze,Ue){const vt=xp(Ue);if(void 0===vt)return null;for(const Et of Ju(ze,vt.fieldPath))switch(Et.op){case"array-contains-any":return Et.value.arrayValue.values||[];case"array-contains":return[Et.value]}return null}(b,_),O=function(ze,Ue){const vt=new Map;for(const Et of Zu(Ue))for(const zt of Ju(ze,Et.fieldPath))switch(zt.op){case"==":case"in":vt.set(Et.fieldPath.canonicalString(),zt.value);break;case"not-in":case"!=":return vt.set(Et.fieldPath.canonicalString(),zt.value),Array.from(vt.values())}return null}(b,_),L=function(ze,Ue){const vt=[];let Et=!0;for(const zt of Zu(Ue)){const Fi=0===zt.kind?eE(ze,zt.fieldPath,ze.startAt):Gv(ze,zt.fieldPath,ze.startAt);vt.push(Fi.value),Et&&(Et=Fi.inclusive)}return new Dl(vt,Et)}(b,_),U=function(ze,Ue){const vt=[];let Et=!0;for(const zt of Zu(Ue)){const Fi=0===zt.kind?Gv(ze,zt.fieldPath,ze.endAt):eE(ze,zt.fieldPath,ze.endAt);vt.push(Fi.value),Et&&(Et=Fi.inclusive)}return new Dl(vt,Et)}(b,_),X=this.nn(_,b,L),le=this.nn(_,b,U),$e=this.sn(_,b,O),Ye=this.rn(_.indexId,T,X,L.inclusive,le,U.inclusive,$e);return se.forEach(Ye,ze=>i.J(ze,t.limit).next(Ue=>{Ue.forEach(vt=>{const Et=qe.fromSegments(vt.documentKey);u.has(Et)||(u=u.add(Et),h.push(Et))})}))}).next(()=>h)}return se.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,u,h){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),E=[];for(let T=0;T<_;++T){const O=t?this.on(t[T/b]):em,L=this.un(e,O,i[T%b],r),U=this.cn(e,O,a[T%b],u),X=h.map(le=>this.un(e,O,le,!0));E.push(...this.createRange(L,U,X))}return E}un(e,t,i,r){const a=new Uc(e,qe.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new Uc(e,qe.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new YE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const h of a)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;return se.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new _n(Yn.comparator),_=!1;for(const b of u.filters){const E=b;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?_=!0:h=h.add(E.field))}for(const b of u.orderBy)b.field.isKeyField()||(h=h.add(b.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new ka;for(const r of Zu(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);sd.Te.ce(a,u)}return i.$e()}on(e){const t=new ka;return sd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new ka;return sd.Te.ce(El(this.databaseId,t),i.qe(function(r){const a=Zu(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new ka);let a=0;for(const u of Zu(e)){const h=i[a++];for(const _ of r)if(this.ln(t,u.fieldPath)&&ys(h))r=this.fn(r,u,h);else{const b=_.qe(u.kind);sd.Te.ce(h,b)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new ka;_.seed(h.$e()),sd.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof Qi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=tm(e),r=nm(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const u=[];return se.forEach(a,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(b,E){const T=E?new Wu(E.sequenceNumber,new xr(id(E.readTime),new qe(Ma(E.documentKey)),E.largestBatchId)):Wu.empty(),O=b.fields.map(([L,U])=>new xc(Yn.fromServerFormat(L),U));return new Lv(b.indexId,b.collectionGroup,O,T)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Nt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=tm(e),a=nm(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>se.forEach(h,_=>a.put(Yp(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),se.forEach(h,_=>this.wn(e,r,_).next(b=>{const E=this.mn(a,_);return b.isEqual(E)?se.resolve():this.gn(e,a,_,b,E)}))))})}yn(e,t,i,r){return od(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return od(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=od(e);let a=new _n(Co);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,h)=>{a=a.add(new Uc(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}mn(e,t){let i=new _n(Co);const r=this.an(t,e);if(null==r)return i;const a=xp(t);if(null!=a){const u=e.data.field(a.fieldPath);if(ys(u))for(const h of u.arrayValue.values||[])i=i.add(new Uc(t.indexId,e.key,this.on(h),r))}else i=i.add(new Uc(t.indexId,e.key,em,r));return i}gn(e,t,i,r,a){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,_,b,E,T){const O=h.getIterator(),L=_.getIterator();let U=Ku(O),X=Ku(L);for(;U||X;){let le=!1,$e=!1;if(U&&X){const Ye=b(U,X);Ye<0?$e=!0:Ye>0&&(le=!0)}else null!=U?$e=!0:le=!0;le?(E(X),X=Ku(L)):$e?(T(U),U=Ku(O)):(U=Ku(O),X=Ku(L))}}(r,a,Co,h=>{u.push(this.yn(e,t,i,h))},h=>{u.push(this.pn(e,t,i,h))}),se.waitFor(u)}_n(e){let t=1;return nm(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>Co(u,h)).filter((u,h,_)=>!h||0!==Co(u,_[h-1]));const r=[];r.push(e);for(const u of i){const h=Co(u,e),_=Co(u,t);if(0===h)r[0]=e.Ke();else if(h>0&&_<0)r.push(u),r.push(u.Ke());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,em,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,em,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XE)}getMinOffset(e,t){return se.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||st())).next(XE)}}function Cb(n){return Pi(n,"collectionParents")}function od(n){return Pi(n,"indexEntries")}function tm(n){return Pi(n,"indexConfiguration")}function nm(n){return Pi(n,"indexState")}function XE(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Lh(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function eD(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let h=0;const _=i.Z({range:u},(E,T,O)=>(h++,O.delete()));a.push(_.next(()=>{Tt(1===h)}));const b=[];for(const E of t.mutations){const T=VE(e,E.key.path,t.batchId);a.push(r.delete(T)),b.push(E.key)}return se.waitFor(a).next(()=>b)}function T_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class A_{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Tt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new A_(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Ra(e),u=Hc(e);return u.add({}).next(h=>{Tt("number"==typeof h);const _=new zE(h,t,i,r),b=function(O,L,U){const X=U.baseMutations.map($e=>Xh(O.re,$e)),le=U.mutations.map($e=>Xh(O.re,$e));return{userId:L,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:X,mutations:le}}(this.It,this.userId,_),E=[];let T=new _n((O,L)=>Nt(O.canonicalString(),L.canonicalString()));for(const O of r){const L=VE(this.userId,O.key.path,h);T=T.add(O.key.path.popLast()),E.push(u.put(b)),E.push(a.put(L,BT))}return T.forEach(O=>{E.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.In[h]=_.keys()}),se.waitFor(E).next(()=>_)})}lookupMutationBatch(e,t){return Hc(e).get(t).next(i=>i?(Tt(i.userId===this.userId),rd(this.It,i)):null)}Tn(e,t){return this.In[t]?se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Hc(e).Z({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(Tt(h.batchId>=i),a=rd(this.It,h)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Hc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).W("userMutationsIndex",t).next(i=>i.map(r=>rd(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=C_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Ra(e).Z({range:r},(u,h,_)=>{const[b,E,T]=u,O=Ma(E);if(b===this.userId&&t.path.isEqual(O))return Hc(e).get(T).next(L=>{if(!L)throw st();Tt(L.userId===this.userId),a.push(rd(this.It,L))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _n(Nt);const r=[];return t.forEach(a=>{const u=C_(this.userId,a.path),h=IDBKeyRange.lowerBound(u),_=Ra(e).Z({range:h},(b,E,T)=>{const[O,L,U]=b,X=Ma(L);O===this.userId&&a.path.isEqual(X)?i=i.add(U):T.done()});r.push(_)}),se.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=C_(this.userId,i),u=IDBKeyRange.lowerBound(a);let h=new _n(Nt);return Ra(e).Z({range:u},(_,b,E)=>{const[T,O,L]=_,U=Ma(O);T===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(L)):E.done()}).next(()=>this.En(e,h))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Hc(e).get(a).next(u=>{if(null===u)throw st();Tt(u.userId===this.userId),i.push(rd(this.It,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return eD(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ra(e).Z({range:i},(a,u,h)=>{if(a[0]===this.userId){const _=Ma(a[1]);r.push(_)}else h.done()}).next(()=>{Tt(0===r.length)})})}containsKey(e,t){return tD(e,this.userId,t)}Rn(e){return Eb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tD(n,e,t){const i=C_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Ra(n).Z({range:a,X:!0},(h,_,b)=>{const[E,T,O]=h;E===e&&T===r&&(u=!0),b.done()}).next(()=>u)}function Hc(n){return Pi(n,"mutations")}function Ra(n){return Pi(n,"documentMutations")}function Eb(n){return Pi(n,"mutationQueues")}class jc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new jc(0)}static vn(){return new jc(-1)}}class nD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new jc(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>At.fromTimestamp(new Bn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ad(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return ad(e).Z((u,h)=>{const _=Kp(h);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return ad(e).Z((i,r)=>{const a=Kp(r);t(a)})}Vn(e){return Db(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}Sn(e,t){return Db(e).put("targetGlobalKey",t)}Dn(e,t){return ad(e).put(ZE(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Oc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return ad(e).Z({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const b=Kp(h);Gh(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Al(e);return t.forEach(u=>{const h=zr(u.path);r.push(a.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Al(e);return se.forEach(t,a=>{const u=zr(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Al(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Al(e);let a=Rt();return r.Z({range:i,X:!0},(u,h,_)=>{const b=Ma(u[1]),E=new qe(b);a=a.add(E)}).next(()=>a)}containsKey(e,t){const i=zr(t.path),r=IDBKeyRange.bound([i],[RC(i)],!1,!0);let a=0;return Al(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}se(e,t){return ad(e).get(t).next(i=>i?Kp(i):null)}}function ad(n){return Pi(n,"targets")}function Db(n){return Pi(n,"targetGlobal")}function Al(n){return Pi(n,"targetDocuments")}function iD([n,e],[t,i]){const r=Nt(n,t);return 0===r?Nt(e,i):r}class rD{constructor(e){this.xn=e,this.buffer=new _n(iD),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();iD(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XT{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){vl(i)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Mc(i)}yield t.Fn(3e5)}))}}class JT{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Gr.at);const i=new rD(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(JE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,u,h,_,b;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,u=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(b=Date.now(),Rv()<=dl.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(_-h)+`ms\n\tRemoved ${T} documents in `+(b-_)+`ms\nTotal Duration: ${b-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:T})))}}class eA{constructor(e,t){this.db=e,this.garbageCollector=new JT(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return x_(e,i)}removeReference(e,t,i){return x_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return x_(e,t)}Gn(e,t){return function(i,r){let a=!1;return Eb(i).tt(u=>tD(i,u,r).next(h=>(h&&(a=!0),se.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(u,h)=>{if(h<=t){const _=this.Gn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,At.min()),Al(e).delete([0,zr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return x_(e,t)}Kn(e,t){const i=Al(e);let r,a=Gr.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(a!==Gr.at&&t(new qe(Ma(r)),a),a=b,r=_):a=Gr.at}).next(()=>{a!==Gr.at&&t(new qe(Ma(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function x_(n,e){return Al(n).put((i=n.currentSequenceNumber,{targetId:0,path:zr(e.path),sequenceNumber:i}));var i}class nf{constructor(){this.changes=new Lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tA{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Pa(e).put(i)}removeEntry(e,t,i){return Pa(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],vb(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=vn.newInvalidDocument(t);return Pa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xl(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:vn.newInvalidDocument(t)};return Pa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xl(t))},(r,a)=>{i={document:this.jn(t,a),size:T_(a)}}).next(()=>i)}getEntries(e,t){let i=bs();return this.zn(e,t,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=bs(),r=new Un(qe.comparator);return this.zn(e,t,(a,u)=>{const h=this.jn(a,u);i=i.insert(a,h),r=r.insert(a,T_(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return se.resolve();let r=new _n(aD);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(xl(r.first()),xl(r.last())),u=r.getIterator();let h=u.getNext();return Pa(e).Z({index:"documentKeyIndex",range:a},(_,b,E)=>{const T=qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&aD(h,T)<0;)i(h,null),h=u.getNext();h&&h.isEqual(T)&&(i(h,b),h=u.hasNext()?u.getNext():null),h?E.j(xl(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),vb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pa(e).W(IDBKeyRange.bound(r,a,!0)).next(u=>{let h=bs();for(const _ of u){const b=this.jn(qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(b.key,b)}return h})}getAllFromCollectionGroup(e,t,i,r){let a=bs();const u=oD(t,i),h=oD(t,xr.max());return Pa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,E)=>{const T=this.jn(qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(T.key,T),a.size===r&&E.done()}).next(()=>a)}newChangeBuffer(e){return new Oa(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sD(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Qn(e,t){return sD(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function Wp(n,e){let t;if(e.document)t=xE(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=qe.fromSegments(e.noDocument.path),r=id(e.noDocument.readTime);t=vn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const i=qe.fromSegments(e.unknownDocument.path),r=id(e.unknownDocument.version);t=vn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Bn(i[0],i[1]);return At.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return vn.newInvalidDocument(e)}}function M_(n){return new tA(n)}class Oa extends nf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Lc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new _n((a,u)=>Nt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),u.isValidDocument()){const _=qE(this.Yn.It,u);r=r.add(a.path.popLast()),i+=T_(_)-h.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=h.size,this.trackRemovals){const _=qE(this.Yn.It,u.convertToNoDocument(At.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function sD(n){return Pi(n,"remoteDocumentGlobal")}function Pa(n){return Pi(n,"remoteDocumentsV14")}function xl(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oD(n,e){const t=e.documentKey.path.toArray();return[n,vb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aD(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Nt(t[a],i[a]),r)return r;return r=Nt(t.length,i.length),r||(r=Nt(t[t.length-2],i[i.length-2]),r||Nt(t[t.length-1],i[i.length-1]))}class nA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class im{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Fc(i.mutation,r,_s.empty(),Bn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Rt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Rt()){const r=Xo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=Up();return a.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Xo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Rt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let a=bs();const u=Zh(),h=Zh();return t.forEach((_,b)=>{const E=i.get(b.key);r.has(b.key)&&(void 0===E||E.mutation instanceof pn)?a=a.insert(b.key,b):void 0!==E&&(u.set(b.key,E.mutation.getFieldMask()),Fc(E.mutation,b,E.mutation.getFieldMask(),Bn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,E)=>u.set(b,E)),t.forEach((b,E)=>{var T;return h.set(b,new nA(E,null!==(T=u.get(b))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Zh();let r=new Un((u,h)=>u-h),a=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let E=i.get(_)||_s.empty();E=h.applyToLocalView(b,E),i.set(_,E);const T=(r.get(h.batchId)||Rt()).add(_);r=r.insert(h.batchId,T)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,E=_.value,T=ib();E.forEach(O=>{if(!a.has(O)){const L=vE(t.get(O),i.get(O));null!==L&&T.set(O,L),a=a.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,T))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Xo());let h=-1,_=a;return u.next(b=>se.forEach(b,(E,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(E)?se.resolve():this.getBaseDocument(e,E,T).next(O=>{_=_.insert(E,O)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,Rt())).next(E=>({batchId:h,changes:Hp(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(i=>{let r=Up();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Up();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,h=>{const _=(b=t,E=h.child(r),new Il(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,E;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((E,T)=>{a=a.insert(E,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((h,_)=>{const b=_.getKey();null===r.get(b)&&(r=r.insert(b,vn.newInvalidDocument(b)))});let u=Up();return r.forEach((h,_)=>{const b=a.get(h);void 0!==b&&Fc(b.mutation,_,_s.empty(),Bn.now()),Yv(t,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):se.resolve(vn.newInvalidDocument(t))}}class k_{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Xi(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:D_(i.bundledQuery),readTime:Xi(i.readTime)}),se.resolve();var i}}class iA{constructor(){this.overlays=new Un(qe.comparator),this.es=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xo();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Xo(),a=t.length+1,u=new qe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Un((b,E)=>b-E);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let E=a.get(b.largestBatchId);null===E&&(E=Xo(),a=a.insert(b.largestBatchId,E)),E.set(b.getKey(),b)}}const h=Xo(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,E)=>h.set(b,E)),!(h.size()>=r)););return se.resolve(h)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new tf(t,i));let a=this.es.get(t);void 0===a&&(a=Rt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class Ib{constructor(){this.ns=new _n(Ni.ss),this.rs=new _n(Ni.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Ni(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Ni(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new qe(new Qt([])),i=new Ni(t,e),r=new Ni(t,e+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new Qt([])),i=new Ni(t,e),r=new Ni(t,e+1);let a=Rt();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ni(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ni{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Nt(e._s,t._s)}static os(e,t){return Nt(e._s,t._s)||qe.comparator(e.key,t.key)}}class lD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new _n(Ni.ss)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new zE(a,t,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new Ni(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ni(t,0),r=new Ni(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);a.push(h)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _n(Nt);return t.forEach(r=>{const a=new Ni(r,0),u=new Ni(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],h=>{i=i.add(h._s)})}),se.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;qe.isDocumentKey(a)||(a=a.child(""));const u=new Ni(new qe(a),0);let h=new _n(Nt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(_._s)),!0)},u),se.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Tt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return se.forEach(t.mutations,r=>{const a=new Ni(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Ni(t,0),r=this.gs.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sb{constructor(e){this.Es=e,this.docs=new Un(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let i=bs();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():vn.newInvalidDocument(r))}),se.resolve(i)}getAllFromCollection(e,t,i){let r=bs();const a=new qe(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||Lh(NC(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(e,t,i,r){st()}As(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cD(this)}getSize(e){return se.resolve(this.size)}}class cD extends nf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class rA{constructor(e){this.persistence=e,this.Rs=new Lc(t=>Oc(t),Gh),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ib,this.targetCount=0,this.vs=jc.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Dn(t),se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ps.containsKey(t))}}class uD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Gr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new rA(this),this.indexManager=new QT,this.remoteDocumentCache=new Sb(i=>this.referenceDelegate.xs(i)),this.It=new nd(t),this.Ns=new k_(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new lD(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Oe("MemoryPersistence","Starting transaction:",e);const r=new _k(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return se.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class _k extends DT{constructor(e){super(),this.currentSequenceNumber=e}}class rf{constructor(e){this.persistence=e,this.Fs=new Ib,this.$s=null}static Bs(e){return new rf(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ls,i=>{const r=qe.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,At.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return se.or([()=>se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Tb{constructor(e){this.It=e}$(e,t,i,r){const a=new Bh("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LE,{unique:!0}),h.createObjectStore("documentMutations"),Ab(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),Ab(e)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").W().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LE,{unique:!0});const E=_.store("mutations"),T=b.map(O=>E.put(O));return se.waitFor(T)})}(e,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:mb});_.createIndex("collectionPathOverlayIndex",zT,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",qT,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:BE});_.createIndex("documentKeyIndex",UE),_.createIndex("collectionGroupIndex",UT)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:$T}).createIndex("sequenceNumberIndex",fb,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:pb}).createIndex("documentKeyIndex",jE,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=T_(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>se.forEach(h,_=>{Tt(_.userId===a.userId);const b=rd(this.It,_);return eD(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,h)=>{const _=new Qt(u),b=[0,zr(_)];a.push(t.get(b).next(E=>E?se.resolve():t.put({targetId:0,path:zr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:GT});const i=t.store("collectionParents"),r=new QE,a=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:zr(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const _=new Qt(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,_],b)=>{const E=Ma(h);return a(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=Kp(r),u=ZE(this.It,a);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const h=t.store("remoteDocumentsV14"),_=(b=u,b.document?new qe(Qt.fromString(b.document.name).popFirst(5)):b.noDocument?qe.fromSegments(b.noDocument.path):b.unknownDocument?qe.fromSegments(b.unknownDocument.path):st()).path.toArray();var b;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>se.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=M_(this.It),a=new uD(rf.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(_=>{var b;let E=null!==(b=h.get(_.userId))&&void 0!==b?b:Rt();rd(this.It,_).keys().forEach(T=>E=E.add(T)),h.set(_.userId,E)}),se.forEach(h,(_,b)=>{const E=new Wi(b),T=Xp.oe(this.It,E),O=a.getIndexManager(E),L=A_.oe(E,this.It,O,a.referenceDelegate);return new im(r,L,T,O).recalculateAndSaveOverlaysForDocumentKeys(new _b(t,Gr.at),_).next()})})}}function Ab(n){n.createObjectStore("targetDocuments",{keyPath:HE}).createIndex("documentTargetsIndex",jT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HT,{unique:!0}),n.createObjectStore("targetGlobal")}const rm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sm{constructor(e,t,i,r,a,u,h,_,b,E,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=u,this.document=h,this.Js=b,this.Ys=E,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!sm.C())throw new ke(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eA(this,r),this.ii=t+"main",this.It=new nd(_),this.ri=new vo(this.ii,this.Xs,new Tb(this.It)),this.Cs=new nD(this.referenceDelegate,this.It),this.remoteDocumentCache=M_(this.It),this.Ns=new Qp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,rm);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Gr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,ve.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>R_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(vl(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return om(e).get("owner").next(t=>se.resolve(this.mi(t)))}gi(e){return R_(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pi(i,"clientMetadata");return r.W().next(a=>{const u=e.Ii(a,18e5),h=a.filter(_=>-1===u.indexOf(_));return se.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?se.resolve(!0):om(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,rm);return!1}}return!(!this.networkEnabled||!this.inForeground)||R_(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new _b(t,Gr.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>R_(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return A_.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gk(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Xp.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Oe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?$E:14===u?GE:13===u?gb:12===u?ZT:11===u?E_:void st();var u;let h;return this.ri.runTransaction(e,r,a,_=>(h=new _b(_,this.Ss?this.Ss.next():Gr.at),"readwrite-primary"===t?this.fi(h).next(b=>!!b||this.di(h)).next(b=>{if(!b)throw hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(fe.FAILED_PRECONDITION,d_);return i(h)}).next(b=>this.wi(h).next(()=>b)):this.Vi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Vi(e){return om(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(fe.FAILED_PRECONDITION,rm)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return om(e).put("owner",t)}static C(){return vo.C()}_i(e){const t=om(e);return t.get("owner").next(i=>this.mi(i)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(hi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Mt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){hi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function om(n){return Pi(n,"owner")}function R_(n){return Pi(n,"clientMetadata")}function xb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Mb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Rt(),r=Rt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Mb(e,t.fromCache,i,r)}}class kb{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(uE(t))return se.resolve(null);let i=vs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=m_(t,null,"F"),i=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Rt(...a);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.Fi(t,h);return this.$i(t,b,u,_.readTime)?this.ki(e,m_(t,null,"F")):this.Bi(e,b,t,_)}))})))}Mi(e,t,i,r){return uE(t)||r.isEqual(At.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,i,r)?this.Oi(e,t):(Rv()<=dl.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kv(t)),this.Bi(e,u,t,u_(r,-1)))})}Fi(e,t){let i=new _n(Qv(e));return t.forEach((r,a)=>{Yv(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return Rv()<=dl.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Kv(t)),this.Ni.getDocumentsMatchingQuery(e,t,xr.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class Rb{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Un(Nt),this.qi=new Lc(a=>Oc(a),Gh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new im(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Ob(n,e,t,i){return new Rb(n,e,t,i)}function Pb(n,e){return O_.apply(this,arguments)}function O_(){return O_=(0,ve.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let _=Rt();for(const b of r){u.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}for(const b of a){h.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}return t.localDocuments.getDocuments(i,_).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:h}))})})}),O_.apply(this,arguments)}function dD(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const E=_.batch,T=E.keys();let O=se.resolve();return T.forEach(L=>{O=O.next(()=>b.getEntry(h,L)).next(U=>{const X=_.docVersions.get(L);Tt(null!==X),U.version.compareTo(X)<0&&(E.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Rt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function hD(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function fD(n,e){const t=et(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const h=[];e.targetChanges.forEach((E,T)=>{const O=r.get(T);if(!O)return;h.push(t.Cs.removeMatchingKeys(a,E.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(a,E.addedDocuments,T)));let L=O.withSequenceNumber(a.currentSequenceNumber);var U,X,le;e.targetMismatches.has(T)?L=L.withResumeToken(wi.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,i)),r=r.insert(T,L),X=L,le=E,(0===(U=O).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,L))});let _=bs(),b=Rt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),h.push(Nb(a,u,e.documentUpdates).next(E=>{_=E.Wi,b=E.zi})),!i.isEqual(At.min())){const E=t.Cs.getLastRemoteSnapshotVersion(a).next(T=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(E)}return se.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ui=r,a))}function Nb(n,e,t){let i=Rt(),r=Rt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=bs();return t.forEach((h,_)=>{const b=a.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(At.min())?(e.removeEntry(h,_.readTime),u=u.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(h,_)):Oe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function sA(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ld(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new Vc(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function sf(n,e,t){return pr.apply(this,arguments)}function pr(){return pr=(0,ve.Z)(function*(n,e,t){const i=et(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!vl(u))throw u;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),pr.apply(this,arguments)}function Ml(n,e,t){const i=et(n);let r=At.min(),a=Rt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const E=et(h),T=E.qi.get(b);return void 0!==T?se.resolve(E.Ui.get(T)):E.Cs.getTargetData(_,b)}(i,u,vs(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:At.min(),t?a:Rt())).next(h=>(oA(i,hE(e),h),{documents:h,Hi:a})))}function pD(n,e){const t=et(n),i=et(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(u=>u?u.target:null))}function mD(n,e){const t=et(n),i=t.Ki.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,u_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(oA(t,e,r),r))}function oA(n,e,t){let i=At.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function Fb(){return Fb=(0,ve.Z)(function*(n,e,t,i){const r=et(n);let a=Rt(),u=bs();for(const b of t){const E=e.Ji(b.metadata.name);b.document&&(a=a.add(E));const T=e.Yi(b);T.setReadTime(e.Xi(b.metadata.readTime)),u=u.insert(E,T)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield ld(r,(b=i,vs($h(Qt.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>Nb(b,h,u).next(E=>(h.apply(b),E)).next(E=>r.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,E.Wi,E.zi)).next(()=>E.Wi)))}),Fb.apply(this,arguments)}function Lb(n,e){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,ve.Z)(function*(n,e,t=Rt()){const i=yield ld(n,vs(D_(e.bundledQuery))),r=et(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Xi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,e);const h=i.withResumeToken(wi.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(a,h).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),Vb.apply(this,arguments)}function Bb(n,e){return`firestore_clients_${n}_${e}`}function gD(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Ub(n,e){return`firestore_targets_${n}_${e}`}class af{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new ke(r.error.code,r.error.message))),u?new af(e,t,r.state,a):(hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new ke(i.error.code,i.error.message))),a?new lf(e,i.state,r):(hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=b_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=GC(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new lm(e,a):(hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cf(t.clientId,t.onlineState):(hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cm{constructor(){this.activeTargetIds=b_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _D{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Un(Nt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Bb(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new cm),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(Bb(e.persistenceKey,r));if(a){const u=lm.Zi(r,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Ub(this.persistenceKey,e));if(i){const r=lf.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ub(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let u=Gr.at;if(null!=a)try{const h=JSON.parse(a);Tt("number"==typeof h),u=h}catch(h){hi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Gr.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new af(this.currentUser,e,t,i),a=gD(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=gD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=Ub(this.persistenceKey,e),a=new lf(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return lm.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return af.Zi(new Wi(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return lf.Zi(r,t)}yr(e){return cf.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),u=[],h=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||h.push(_)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=b_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Hb{constructor(){this.Lr=new cm,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new cm,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aA{qr(e){}shutdown(){}}class jb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const P_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class yD{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class lA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const u=this.ao(e,t);Oe("RestConnection","Sending: ",u,i);const h={};return this.ho(h,r,a),this.lo(e,u,h,i).then(_=>(Oe("RestConnection","Received: ",_),_),_=>{throw Oh("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${P_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,u)=>{const h=new TC;h.listenOnce(EC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case l_.NO_ERROR:const b=h.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(b)),a(b);break;case l_.TIMEOUT:Oe("Connection",'RPC "'+e+'" timed out'),u(new ke(fe.DEADLINE_EXCEEDED,"Request time out"));break;case l_.HTTP_ERROR:const E=h.getStatus();if(Oe("Connection",'RPC "'+e+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const O=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(U)>=0?U:fe.UNKNOWN}(T.status);u(new ke(O,T.message))}else u(new ke(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ke(fe.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Oe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);h.send(t,"POST",_,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wC(),u=CC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new SC({})),this.ho(h.initMessageHeaders,t,i),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Oe("Connection","Creating WebChannel: "+_,h);const b=a.createWebChannel(_,h);let E=!1,T=!1;const O=new yD({Hr:U=>{T?Oe("Connection","Not sending because WebChannel is closed:",U):(E||(Oe("Connection","Opening WebChannel transport."),b.open(),E=!0),Oe("Connection","WebChannel sending:",U),b.send(U))},Jr:()=>b.close()}),L=(U,X,le)=>{U.listen(X,$e=>{try{le($e)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return L(b,c_.EventType.OPEN,()=>{T||Oe("Connection","WebChannel transport opened.")}),L(b,c_.EventType.CLOSE,()=>{T||(T=!0,Oe("Connection","WebChannel transport closed"),O.io())}),L(b,c_.EventType.ERROR,U=>{T||(T=!0,Oh("Connection","WebChannel transport errored:",U),O.io(new ke(fe.UNAVAILABLE,"The operation could not be completed")))}),L(b,c_.EventType.MESSAGE,U=>{var X;if(!T){const le=U.data[0];Tt(!!le);const $e=le,Ye=$e.error||(null===(X=$e[0])||void 0===X?void 0:X.error);if(Ye){Oe("Connection","WebChannel received error:",Ye);const ze=Ye.status;let Ue=function(Et){const zt=fi[Et];if(void 0!==zt)return EE(zt)}(ze),vt=Ye.message;void 0===Ue&&(Ue=fe.INTERNAL,vt="Unknown error status: "+ze+" with message "+Ye.message),T=!0,O.io(new ke(Ue,vt)),b.close()}else Oe("Connection","WebChannel received:",le),O.ro(le)}}),L(u,DC.STAT_EVENT,U=>{U.stat===IC.PROXY?Oe("Connection","Detected buffering proxy"):U.stat===IC.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function N_(){return"undefined"!=typeof window?window:null}function uf(){return"undefined"!=typeof document?document:null}function F_(n){return new pk(n,!0)}class Gb{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class vD{constructor(e,t,i,r,a,u,h,_){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Gb(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,ve.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new ke(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bD extends vD{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function NT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),r=e.targetChange.targetIds||[],a=function(_,b){return _.gt?(Tt(void 0===b||"string"==typeof b),wi.fromBase64String(b||"")):(Tt(void 0===b||b instanceof Uint8Array),wi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(_){const b=void 0===_.code?fe.UNKNOWN:EE(_.code);return new ke(b,_.message||"")}(u);t=new IE(i,r,a,h||null)}else if("documentChange"in e){const i=e.documentChange,r=xa(n,i.document.name),a=Xi(i.document.updateTime),u=new fr({mapValue:{fields:i.document.fields}}),h=vn.newFoundDocument(r,a,u);t=new $p(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=xa(n,i.document),a=i.readTime?Xi(i.readTime):At.min(),u=vn.newNoDocument(r,a);t=new $p([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=xa(n,i.document);t=new $p([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return st();{const i=e.filter,a=new wE(i.count||0);t=new rb(i.targetId,a)}}var _;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return At.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?At.min():a.readTime?Xi(a.readTime):At.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Zp(this.It),t.addTarget=function(r,a){let u;const h=a.target;return u=Np(h)?{documents:kE(r,h)}:{query:cb(r,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=zp(r,a.resumeToken):a.snapshotVersion.compareTo(At.min())>0&&(u.readTime=Kh(r,a.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function ub(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Zp(this.It),t.removeTarget=e,this.Bo(t)}}class wD extends vD{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function ME(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(i,r){let a=Xi(i.updateTime?i.updateTime:r);return a.isEqual(At.min())&&(a=Xi(r)),new yE(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Xi(e.commitTime);return this.listener.Zo(i,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Zp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Xh(this.It,i))};this.Bo(t)}}class cA extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(fe.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(fe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class CD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(hi(t),this.ou=!1):Oe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ED{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(h=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;ud(u)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const E=et(b);E._u.add(4),yield cd(E),E.gu.set("Unknown"),E._u.delete(4),yield um(E)}),function(b){return _.apply(this,arguments)})(u))}))}),this.gu=new CD(i,r)}}function um(n){return $b.apply(this,arguments)}function $b(){return $b=(0,ve.Z)(function*(n){if(ud(n))for(const e of n.wu)yield e(!0)}),$b.apply(this,arguments)}function cd(n){return zb.apply(this,arguments)}function zb(){return zb=(0,ve.Z)(function*(n){for(const e of n.wu)yield e(!1)}),zb.apply(this,arguments)}function dm(n,e){const t=et(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Wb(t)?Zb(t):hf(t).ko()&&L_(t,e))}function df(n,e){const t=et(n),i=hf(t);t.du.delete(e),i.ko()&&qb(t,e),0===t.du.size&&(i.ko()?i.Fo():ud(t)&&t.gu.set("Unknown"))}function L_(n,e){n.yu.Ot(e.targetId),hf(n).zo(e)}function qb(n,e){n.yu.Ot(e),hf(n).Ho(e)}function Zb(n){n.yu=new RT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),hf(n).start(),n.gu.uu()}function Wb(n){return ud(n)&&!hf(n).No()&&n.du.size>0}function ud(n){return 0===et(n)._u.size}function Kb(n){n.yu=void 0}function yk(n){return DD.apply(this,arguments)}function DD(){return DD=(0,ve.Z)(function*(n){n.du.forEach((e,t)=>{L_(n,e)})}),DD.apply(this,arguments)}function vk(n,e){return ID.apply(this,arguments)}function ID(){return ID=(0,ve.Z)(function*(n,e){Kb(n),Wb(n)?(n.gu.hu(e),Zb(n)):n.gu.set("Unknown")}),ID.apply(this,arguments)}function bk(n,e,t){return SD.apply(this,arguments)}function SD(){return SD=(0,ve.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof IE&&2===e.state&&e.cause)try{yield(i=(0,ve.Z)(function*(r,a){const u=a.cause;for(const h of a.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Yb(n,i)}else if(e instanceof $p?n.yu.Gt(e):e instanceof rb?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(At.min()))try{const i=yield hD(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.te(a);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.du.get(_);b&&r.du.set(_,b.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const _=r.du.get(h);if(!_)return;r.du.set(h,_.withResumeToken(wi.EMPTY_BYTE_STRING,_.snapshotVersion)),qb(r,h);const b=new Vc(_.target,h,1,_.sequenceNumber);L_(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield Yb(n,i)}var i}),SD.apply(this,arguments)}function Yb(n,e,t){return TD.apply(this,arguments)}function TD(){return TD=(0,ve.Z)(function*(n,e,t){if(!vl(e))throw e;n._u.add(1),yield cd(n),n.gu.set("Offline"),t||(t=()=>hD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield um(n)}))}),TD.apply(this,arguments)}function hm(n,e){return e().catch(t=>Yb(n,t,e))}function fm(n){return V_.apply(this,arguments)}function V_(){return V_=(0,ve.Z)(function*(n){const e=et(n),t=Gc(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Qb(e);)try{const r=yield sA(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,AD(e,r)}catch(r){yield Yb(e,r)}Xb(e)&&uA(e)}),V_.apply(this,arguments)}function Qb(n){return ud(n)&&n.fu.length<10}function AD(n,e){n.fu.push(e);const t=Gc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Xb(n){return ud(n)&&!Gc(n).No()&&n.fu.length>0}function uA(n){Gc(n).start()}function Jb(n){return B_.apply(this,arguments)}function B_(){return B_=(0,ve.Z)(function*(n){Gc(n).eu()}),B_.apply(this,arguments)}function dA(n){return U_.apply(this,arguments)}function U_(){return U_=(0,ve.Z)(function*(n){const e=Gc(n);for(const t of n.fu)e.Xo(t.mutations)}),U_.apply(this,arguments)}function wk(n,e,t){return ew.apply(this,arguments)}function ew(){return ew=(0,ve.Z)(function*(n,e,t){const i=n.fu.shift(),r=yb.from(i,e,t);yield hm(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield fm(n)}),ew.apply(this,arguments)}function hA(n,e){return pm.apply(this,arguments)}function pm(){return pm=(0,ve.Z)(function*(n,e){var t;e&&Gc(n).Yo&&(yield(t=(0,ve.Z)(function*(i,r){if(CE(a=r.code)&&a!==fe.ABORTED){const u=i.fu.shift();Gc(i).Oo(),yield hm(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield fm(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),Xb(n)&&uA(n)}),pm.apply(this,arguments)}function xD(n,e){return MD.apply(this,arguments)}function MD(){return MD=(0,ve.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const i=ud(t);t._u.add(3),yield cd(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield um(t)}),MD.apply(this,arguments)}function kD(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,ve.Z)(function*(n,e){const t=et(n);e?(t._u.delete(2),yield um(t)):e||(t._u.add(2),yield cd(t),t.gu.set("Unknown"))}),RD.apply(this,arguments)}function hf(n){return n.pu||(n.pu=function(e,t,i){const r=et(e);return r.su(),new bD(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:yk.bind(null,n),Zr:vk.bind(null,n),Wo:bk.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.pu.Oo(),Wb(n)?Zb(n):n.gu.set("Unknown")):(yield n.pu.stop(),Kb(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Gc(n){return n.Iu||(n.Iu=function(e,t,i){const r=et(e);return r.su(),new wD(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Jb.bind(null,n),Zr:hA.bind(null,n),tu:dA.bind(null,n),Zo:wk.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Iu.Oo(),yield fm(n)):(yield n.Iu.stop(),n.fu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class tw{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,h=new tw(e,t,u,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(n,e){if(hi("AsyncQueue",`${e}: ${n}`),vl(n))return new ke(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class ff{constructor(e){this.comparator=e?(t,i)=>e(t,i)||qe.comparator(t.key,i.key):(t,i)=>qe.comparator(t.key,i.key),this.keyedMap=Up(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new ff(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ff;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class H_{constructor(){this.Tu=new Un(qe.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class pf{constructor(e,t,i,r,a,u,h,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new pf(e,t,ff.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Jo{constructor(){this.Au=void 0,this.listeners=[]}}class fA{constructor(){this.queries=new Lc(e=>dE(e),Fp),this.onlineState="Unknown",this.Ru=new Set}}function gm(n,e){return nw.apply(this,arguments)}function nw(){return nw=(0,ve.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new Jo),r)try{a.Au=yield t.onListen(i)}catch(u){const h=mm(u,`Initialization of query '${Kv(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&rw(t)}),nw.apply(this,arguments)}function iw(n,e){return _m.apply(this,arguments)}function _m(){return _m=(0,ve.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),_m.apply(this,arguments)}function OD(n,e){const t=et(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&rw(t)}function PD(n,e,t){const i=et(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function rw(n){n.Ru.forEach(e=>{e.next()})}class j_{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new pf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class pA{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class ND{constructor(e){this.It=e}Ji(e){return xa(this.It,e)}Yi(e){return e.metadata.exists?xE(this.It,e.document,!1):vn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Xi(e)}}class mA{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=G_(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new ND(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||Rt()).add(a);t.set(u,h)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function am(n,e,t,i){return Fb.apply(this,arguments)}(e.localStore,new ND(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield Lb(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function G_(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $c{constructor(e){this.key=e}}class sw{constructor(e){this.key=e}}class ow{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Rt(),this.mutatedKeys=Rt(),this.Ku=Qv(e),this.Gu=new ff(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new H_,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((E,T)=>{const O=r.get(E),L=Yv(this.query,T)?T:null,U=!!O&&this.mutatedKeys.has(O.key),X=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let le=!1;O&&L?O.data.isEqual(L.data)?U!==X&&(i.track({type:3,doc:L}),le=!0):this.zu(O,L)||(i.track({type:2,doc:L}),le=!0,(_&&this.Ku(L,_)>0||b&&this.Ku(L,b)<0)&&(h=!0)):!O&&L?(i.track({type:0,doc:L}),le=!0):O&&!L&&(i.track({type:1,doc:O}),le=!0,(_||b)&&(h=!0)),le&&(L?(u=u.add(L),a=X?a.add(E):a.delete(E)):(u=u.delete(E),a=a.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),a=a.delete(E.key),i.track({type:1,doc:E})}return{Gu:u,Wu:i,$i:h,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((b,E)=>function(T,O){const L=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return L(T)-L(O)}(b.type,E.type)||this.Ku(b.doc,E.doc)),this.Hu(i);const u=t?this.Ju():[],h=0===this.qu.size&&this.current?1:0,_=h!==this.Uu;return this.Uu=h,0!==a.length||_?{snapshot:new pf(this.query,e.Gu,r,a,e.mutatedKeys,0===h,_,!1),Yu:u}:{Yu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new H_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Rt(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new sw(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new $c(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=Rt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return pf.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class gA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Ck{constructor(e){this.key=e,this.ec=!1}}class _A{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Lc(h=>dE(h),Fp),this.ic=new Map,this.rc=new Set,this.oc=new Un(qe.comparator),this.uc=new Map,this.cc=new Ib,this.ac={},this.hc=new Map,this.lc=jc.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function yA(n,e){return aw.apply(this,arguments)}function aw(){return aw=(0,ve.Z)(function*(n,e){const t=X_(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield ld(t.localStore,vs(e));t.isPrimaryClient&&dm(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield $_(t,e,i,"current"===h)}return r}),aw.apply(this,arguments)}function $_(n,e,t,i){return lw.apply(this,arguments)}function lw(){return lw=(0,ve.Z)(function*(n,e,t,i){n.dc=(E,T,O)=>{return(L=(0,ve.Z)(function*(U,X,le,$e){let Ye=X.view.ju(le);Ye.$i&&(Ye=yield Ml(U.localStore,X.query,!1).then(({documents:vt})=>X.view.ju(vt,Ye)));const ze=$e&&$e.targetChanges.get(X.targetId),Ue=X.view.applyChanges(Ye,U.isPrimaryClient,ze);return mw(U,X.targetId,Ue.Yu),Ue.snapshot}),function(U,X,le,$e){return L.apply(this,arguments)})(n,E,T,O);var L};const r=yield Ml(n.localStore,e,!0),a=new ow(e,r.Hi),u=a.ju(r.documents),h=Wh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,h);mw(n,t,_.Yu);const b=new gA(e,t,a);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),lw.apply(this,arguments)}function vA(n,e){return FD.apply(this,arguments)}function FD(){return FD=(0,ve.Z)(function*(n,e){const t=et(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!Fp(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),df(t.remoteStore,i.targetId),dd(t,i.targetId)}).catch(Mc))):(dd(t,i.targetId),yield sf(t.localStore,i.targetId,!0))}),FD.apply(this,arguments)}function z_(){return z_=(0,ve.Z)(function*(n,e,t){const i=yw(n);try{const r=yield function(a,u){const h=et(a),_=Bn.now(),b=u.reduce((O,L)=>O.add(L.key),Rt());let E,T;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=bs(),U=Rt();return h.Gi.getEntries(O,b).next(X=>{L=X,L.forEach((le,$e)=>{$e.isValidDocument()||(U=U.add(le))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,L)).next(X=>{E=X;const le=[];for(const $e of u){const Ye=AT($e,E.get($e.key).overlayedDocument);null!=Ye&&le.push(new pn($e.key,Ye,XC(Ye.value.mapValue),Xn.exists(!0)))}return h.mutationQueue.addMutationBatch(O,_,le,u)}).next(X=>{T=X;const le=X.applyToLocalDocumentSet(E,U);return h.documentOverlayCache.saveOverlays(O,X.batchId,le)})}).then(()=>({batchId:T.batchId,changes:Hp(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,h){let _=a.ac[a.currentUser.toKey()];_||(_=new Un(Nt)),_=_.insert(u,h),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield zc(i,r.changes),yield fm(i.remoteStore)}catch(r){const a=mm(r,"Failed to persist write");t.reject(a)}}),z_.apply(this,arguments)}function LD(n,e){return uw.apply(this,arguments)}function uw(){return uw=(0,ve.Z)(function*(n,e){const t=et(n);try{const i=yield fD(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Tt(u.ec):r.removedDocuments.size>0&&(Tt(u.ec),u.ec=!1))}),yield zc(t,i,e)}catch(i){yield Mc(i)}}),uw.apply(this,arguments)}function dw(n,e,t){const i=et(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const h=u.view.bu(e);h.snapshot&&r.push(h.snapshot)}),function(a,u){const h=et(a);h.onlineState=u;let _=!1;h.queries.forEach((b,E)=>{for(const T of E.listeners)T.bu(u)&&(_=!0)}),_&&rw(h)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function hw(n,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,ve.Z)(function*(n,e,t){const i=et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new Un(qe.comparator);u=u.insert(a,vn.newNoDocument(a,At.min()));const h=Rt().add(a),_=new Gp(At.min(),new Map,new _n(Nt),u,h);yield LD(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),GD(i)}else yield sf(i.localStore,e,!1).then(()=>dd(i,e,t)).catch(Mc)}),ym.apply(this,arguments)}function VD(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,ve.Z)(function*(n,e){const t=et(n),i=e.batch.batchId;try{const r=yield dD(t.localStore,e);HD(t,i,null),UD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield zc(t,r)}catch(r){yield Mc(r)}}),fw.apply(this,arguments)}function BD(n,e,t){return q_.apply(this,arguments)}function q_(){return q_=(0,ve.Z)(function*(n,e,t){const i=et(n);try{const r=yield function(a,u){const h=et(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,u).next(E=>(Tt(null!==E),b=E.keys(),h.mutationQueue.removeMutationBatch(_,E))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(i.localStore,e);HD(i,e,t),UD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield zc(i,r)}catch(r){yield Mc(r)}}),q_.apply(this,arguments)}function pw(){return pw=(0,ve.Z)(function*(n,e){const t=et(n);ud(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=et(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=mm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),pw.apply(this,arguments)}function UD(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function HD(n,e,t){const i=et(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function dd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||jD(n,i)})}function jD(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(df(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),GD(n))}function mw(n,e,t){for(const i of t)i instanceof $c?(n.cc.addReference(i.key,e),wA(n,i)):i instanceof sw?(Oe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||jD(n,i.key)):st()}function wA(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Oe("SyncEngine","New document in limbo: "+t),n.rc.add(i),GD(n))}function GD(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new qe(Qt.fromString(e)),i=n.lc.next();n.uc.set(i,new Ck(t)),n.oc=n.oc.insert(t,i),dm(n.remoteStore,new Vc(vs($h(t.path)),i,2,Gr.at))}}function zc(n,e,t){return $D.apply(this,arguments)}function $D(){return $D=(0,ve.Z)(function*(n,e,t){const i=et(n),r=[],a=[],u=[];var h;i.sc.isEmpty()||(i.sc.forEach((h,_)=>{u.push(i.dc(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const E=Mb.Ci(_.targetId,b);a.push(E)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(h=(0,ve.Z)(function*(_,b){const E=et(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>se.forEach(b,O=>se.forEach(O.Si,L=>E.persistence.referenceDelegate.addReference(T,O.targetId,L)).next(()=>se.forEach(O.Di,L=>E.persistence.referenceDelegate.removeReference(T,O.targetId,L)))))}catch(T){if(!vl(T))throw T;Oe("LocalStore","Failed to update sequence numbers: "+T)}for(const T of b){const O=T.targetId;if(!T.fromCache){const L=E.Ui.get(O),X=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);E.Ui=E.Ui.insert(O,X)}}}),function(_,b){return h.apply(this,arguments)})(i.localStore,a))}),$D.apply(this,arguments)}function Ek(n,e){return zD.apply(this,arguments)}function zD(){return zD=(0,ve.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const i=yield Pb(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(h=>{h.reject(new ke(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield zc(t,i.ji)}var r}),zD.apply(this,arguments)}function CA(n,e){const t=et(n),i=t.uc.get(e);if(i&&i.ec)return Rt().add(i.key);{let r=Rt();const a=t.ic.get(e);if(!a)return r;for(const u of a){const h=t.sc.get(u);r=r.unionWith(h.view.Qu)}return r}}function Z_(n,e){return gw.apply(this,arguments)}function gw(){return gw=(0,ve.Z)(function*(n,e){const t=et(n),i=yield Ml(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&mw(t,e.targetId,r.Yu),r}),gw.apply(this,arguments)}function EA(n,e){return W_.apply(this,arguments)}function W_(){return W_=(0,ve.Z)(function*(n,e){const t=et(n);return mD(t.localStore,e).then(i=>zc(t,i))}),W_.apply(this,arguments)}function hd(n,e,t,i){return K_.apply(this,arguments)}function K_(){return K_=(0,ve.Z)(function*(n,e,t,i){const r=et(n),a=yield function(u,h){const _=et(u),b=et(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>b.Tn(E,h).next(T=>T?_.localDocuments.getDocuments(E,T):se.resolve(null)))}(r.localStore,e);var h;null!==a?("pending"===t?yield fm(r.remoteStore):"acknowledged"===t||"rejected"===t?(HD(r,e,i||null),UD(r,e),h=e,et(et(r.localStore).mutationQueue).An(h)):st(),yield zc(r,a)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),K_.apply(this,arguments)}function vm(){return vm=(0,ve.Z)(function*(n,e){const t=et(n);if(X_(t),yw(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield qD(t,i.toArray());t.fc=!0,yield kD(t.remoteStore,!0);for(const a of r)dm(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(dd(t,u),sf(t.localStore,u,!0))),df(t.remoteStore,u)}),yield r,yield qD(t,i),function(a){const u=et(a);u.uc.forEach((h,_)=>{df(u.remoteStore,_)}),u.cc.fs(),u.uc=new Map,u.oc=new Un(qe.comparator)}(t),t.fc=!1,yield kD(t.remoteStore,!1)}}),vm.apply(this,arguments)}function qD(n,e,t){return bm.apply(this,arguments)}function bm(){return bm=(0,ve.Z)(function*(n,e,t){const i=et(n),r=[],a=[];for(const u of e){let h;const _=i.ic.get(u);if(_&&0!==_.length){h=yield ld(i.localStore,vs(_[0]));for(const b of _){const E=i.sc.get(b),T=yield Z_(i,E);T.snapshot&&a.push(T.snapshot)}}else{const b=yield pD(i.localStore,u);h=yield ld(i.localStore,b),yield $_(i,Y_(b),u,!1)}r.push(h)}return i.nc.Wo(a),r}),bm.apply(this,arguments)}function Y_(n){return cE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Q_(n){const e=et(n);return et(et(e.localStore).persistence).vi()}function Dk(n,e,t,i){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,ve.Z)(function*(n,e,t,i){const r=et(n);if(r.fc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield mD(r.localStore,hE(a[0])),h=Gp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield zc(r,u,h);break}case"rejected":yield sf(r.localStore,e,!0),dd(r,e,i);break;default:st()}}),ZD.apply(this,arguments)}function Ik(n,e,t){return WD.apply(this,arguments)}function WD(){return WD=(0,ve.Z)(function*(n,e,t){const i=X_(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Oe("SyncEngine","Adding an already active target "+r);continue}const a=yield pD(i.localStore,r),u=yield ld(i.localStore,a);yield $_(i,Y_(a),u.targetId,!1),dm(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield sf(i.localStore,r,!1).then(()=>{df(i.remoteStore,r),dd(i,r)}).catch(Mc))}}),WD.apply(this,arguments)}function X_(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hw.bind(null,e),e.nc.Wo=OD.bind(null,e.eventManager),e.nc._c=PD.bind(null,e.eventManager),e}function yw(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,e),e}class KD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.It=F_(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Ob(this.persistence,new kb,e.initialUser,this.It)}gc(e){return new uD(rf.Bs,this.It)}mc(e){return new Hb}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class YD extends KD{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield yw(i.Ec.syncEngine),yield fm(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Ob(this.persistence,new kb,e.initialUser,this.It)}Ic(e,t){return new XT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new Uv(t,this.persistence);return new LC(e.asyncQueue,i)}gc(e){const t=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new sm(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,N_(),uf(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Hb}}class QD extends YD{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof _D&&(i.sharedClientState.syncEngine={Fr:hd.bind(null,r),$r:Dk.bind(null,r),Br:Ik.bind(null,r),vi:Q_.bind(null,r),Or:EA.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,ve.Z)(function*(u){yield function _w(n,e){return vm.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(e){const t=N_();if(!_D.C(t))throw new ke(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _D(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class J_{initialize(e,t){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>dw(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ek.bind(null,i.syncEngine),yield kD(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fA}createDatastore(e){const t=F_(e.databaseInfo.databaseId),i=new lA(e.databaseInfo);return new cA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=h=>dw(this.syncEngine,h,0),u=jb.C()?new jb:new aA,new ED(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,h,_,b){const E=new _A(i,r,a,u,h,_);return b&&(E.fc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const i=et(t);Oe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield cd(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vw(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class IA{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ki,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new pA(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ve.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class XD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(a,u){const h=et(a),_=Zp(h.It)+"/documents",b={documents:u.map(L=>qp(h.It,L))},E=yield h.fo("BatchGetDocuments",_,b,u.length),T=new Map;E.forEach(L=>{const U=function Qh(n,e){return"found"in e?function(t,i){Tt(!!i.found);const r=xa(t,i.found.name),a=Xi(i.found.updateTime),u=new fr({mapValue:{fields:i.found.fields}});return vn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){Tt(!!i.missing),Tt(!!i.readTime);const r=xa(t,i.missing),a=Xi(i.readTime);return vn.newNoDocument(r,a)}(n,e):st()}(h.It,L);T.set(U.key.toString(),U)});const O=[];return u.forEach(L=>{const U=T.get(L.toString());Tt(!!U),O.push(U)}),O}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new qh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=qe.fromPath(r);e.mutations.push(new v_(a,e.precondition(a)))}),yield(i=(0,ve.Z)(function*(r,a){const u=et(r),h=Zp(u.It)+"/documents",_={writes:a.map(b=>Xh(u.It,b))};yield u.co("Commit",h,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=At.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ke(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(At.min())?Xn.exists(!1):Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new ke(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bw{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new Gb(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ve.Z)(function*(){const t=new XD(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!Mp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!CE(t)}return!1}}class Sk{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Wi.UNAUTHENTICATED,this.clientId=Fv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(h){Oe("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Oe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=mm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function ww(n,e){return wm.apply(this,arguments)}function wm(){return wm=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(a){i.isEqual(a)||(yield Pb(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),wm.apply(this,arguments)}function JD(n,e){return Cw.apply(this,arguments)}function Cw(){return Cw=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield eI(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>xD(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>xD(e.remoteStore,a)),n.onlineComponents=e}),Cw.apply(this,arguments)}function eI(n){return tI.apply(this,arguments)}function tI(){return tI=(0,ve.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield ww(n,new KD)),n.offlineComponents}),tI.apply(this,arguments)}function ty(n){return Ew.apply(this,arguments)}function Ew(){return Ew=(0,ve.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield JD(n,new J_)),n.onlineComponents}),Ew.apply(this,arguments)}function SA(n){return eI(n).then(e=>e.persistence)}function Dw(n){return eI(n).then(e=>e.localStore)}function TA(n){return ty(n).then(e=>e.remoteStore)}function nI(n){return ty(n).then(e=>e.syncEngine)}function Cm(n){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,ve.Z)(function*(n){const e=yield ty(n),t=e.eventManager;return t.onListen=yA.bind(null,e.syncEngine),t.onUnlisten=vA.bind(null,e.syncEngine),t}),Iw.apply(this,arguments)}function AA(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,h,_){const b=new ey({next:T=>{a.enqueueAndForget(()=>iw(r,E));const O=T.docs.has(u);!O&&T.fromCache?_.reject(new ke(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&h&&"server"===h.source?_.reject(new ke(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(T)},error:T=>_.reject(T)}),E=new j_($h(u.path),b,{includeMetadataChanges:!0,Nu:!0});return gm(r,E)}(yield Cm(n),n.asyncQueue,e,t,i)})),i.promise}function o(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,h,_){const b=new ey({next:T=>{a.enqueueAndForget(()=>iw(r,E)),T.fromCache&&"server"===h.source?_.reject(new ke(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(T)},error:T=>_.reject(T)}),E=new j_(u,b,{includeMetadataChanges:!0,Nu:!0});return gm(r,E)}(yield Cm(n),n.asyncQueue,e,t,i)})),i.promise}const v=new Map;function C(n,e,t){if(!t)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function I(n,e,t,i){if(!0===e&&!0===i)throw new ke(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function x(n){if(!qe.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function k(n){if(qe.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function B(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=F(n);throw new ke(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function J(n,e){if(e<=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class be{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ne{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new be({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new be(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uk;switch(t.type){case"gapi":return new xC(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=v.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),v.delete(e),t.terminate())}(this),Promise.resolve()}}class Le{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new at(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Le(this.firestore,e,this._key)}}class we{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new we(this.firestore,e,this._query)}}class at extends we{constructor(e,t,i){super(e,t,$h(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Le(this.firestore,null,new qe(e))}withConverter(e){return new at(this.firestore,e,this._path)}}function $t(n,e,...t){if(n=(0,Mt.m9)(n),C("collection","path",e),n instanceof Ne){const i=Qt.fromString(e,...t);return k(i),new at(n,null,i)}{if(!(n instanceof Le||n instanceof at))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return k(i),new at(n.firestore,null,i)}}function Mr(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=Fv.R()),C("doc","path",e),n instanceof Ne){const i=Qt.fromString(e,...t);return x(i),new Le(n,null,new qe(i))}{if(!(n instanceof Le||n instanceof at))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return x(i),new Le(n.firestore,n instanceof at?n.converter:null,new qe(i))}}function qc(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof Le||n instanceof at)&&(e instanceof Le||e instanceof at)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ny(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof we&&e instanceof we&&n.firestore===e.firestore&&Fp(n._query,e._query)&&n.converter===e.converter}class Sw{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Gb(this,"async_queue_retry"),this.jc=()=>{const t=uf();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=uf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=uf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ki;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!vl(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,hi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=tw.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&st()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Em(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Tw{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sn extends Ne{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Sw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mk(this),this._firestoreClient.terminate()}}function oi(n){return n._firestoreClient||Mk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Mk(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jC(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new Sk(n._authCredentials,n._appCheckCredentials,n._queue,i)}function kk(n,e,t){const i=new Ki;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield ww(n,t),yield JD(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===fe.FAILED_PRECONDITION||u.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Oh("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function Rk(n){if(n._initialized||n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zc(wi.fromBase64String(e))}catch(t){throw new ke(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zc(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dm{constructor(e){this._methodName=e}}class sI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const jF=/^__.*__$/;class GF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new pn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tl(e,this.data,t,this.fieldTransforms)}}class Ok{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new pn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class oI{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new oI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return cI(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Pk(this.na)&&jF.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class $F{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||F_(e)}fa(e,t,i,r=!1){return new oI({na:e,methodName:t,la:i,path:Yn.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Im(n){const e=n._freezeSettings(),t=F_(n._databaseId);return new $F(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aI(n,e,t,i,r,a={}){const u=n.fa(a.merge||a.mergeFields?2:0,e,t,r);RA("Data must be an object, but it was:",u,i);const h=Lk(i,u);let _,b;if(a.merge)_=new _s(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const E=[];for(const T of a.mergeFields){const O=OA(e,T,t);if(!u.contains(O))throw new ke(fe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Bk(E,O)||E.push(O)}_=new _s(E),b=u.fieldTransforms.filter(T=>_.covers(T.field))}else _=null,b=u.fieldTransforms;return new GF(new fr(h),_,b)}class xw extends Dm{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xw}}function Nk(n,e,t){return new oI({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class xA extends Dm{_toFieldTransform(e){return new __(e.path,new Pc)}isEqual(e){return e instanceof xA}}class zF extends Dm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Nk(this,e,!0),i=this.da.map(a=>Sm(a,t)),r=new Sl(i);return new __(e.path,r)}isEqual(e){return this===e}}class qF extends Dm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Nk(this,e,!0),i=this.da.map(a=>Sm(a,t)),r=new td(i);return new __(e.path,r)}isEqual(e){return this===e}}class ZF extends Dm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Qo(e.It,eb(e.It,this._a));return new __(e.path,t)}isEqual(e){return this===e}}function MA(n,e,t,i){const r=n.fa(1,e,t);RA("Data must be an object, but it was:",r,i);const a=[],u=fr.empty();kc(i,(_,b)=>{const E=lI(e,_,t);b=(0,Mt.m9)(b);const T=r.ua(E);if(b instanceof xw)a.push(E);else{const O=Sm(b,T);null!=O&&(a.push(E),u.set(E,O))}});const h=new _s(a);return new Ok(u,h,r.fieldTransforms)}function kA(n,e,t,i,r,a){const u=n.fa(1,e,t),h=[OA(e,i,t)],_=[r];if(a.length%2!=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)h.push(OA(e,a[O])),_.push(a[O+1]);const b=[],E=fr.empty();for(let O=h.length-1;O>=0;--O)if(!Bk(b,h[O])){const L=h[O];let U=_[O];U=(0,Mt.m9)(U);const X=u.ua(L);if(U instanceof xw)b.push(L);else{const le=Sm(U,X);null!=le&&(b.push(L),E.set(L,le))}}const T=new _s(b);return new Ok(E,T,u.fieldTransforms)}function Fk(n,e,t,i=!1){return Sm(t,n.fa(i?4:3,e))}function Sm(n,e){if(Vk(n=(0,Mt.m9)(n)))return RA("Unsupported field value:",e,n),Lk(n,e);if(n instanceof Dm)return function(t,i){if(!Pk(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let h=Sm(u,i.ca(a));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eb(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Bn.fromDate(t);return{timestampValue:Kh(i.It,r)}}if(t instanceof Bn){const r=new Bn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kh(i.It,r)}}if(t instanceof sI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zc)return{bytesValue:zp(i.It,t._byteString)};if(t instanceof Le){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:w_(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${F(t)}`)}(n,e)}function Lk(n,e){const t={};return Hv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(i,r)=>{const a=Sm(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function Vk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Bn||n instanceof sI||n instanceof Zc||n instanceof Le||n instanceof Dm)}function RA(n,e,t){if(!Vk(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=F(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function OA(n,e,t){if((e=(0,Mt.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return lI(n,e);throw cI("Field path arguments must be of type string or ",n,!1,void 0,t)}const WF=new RegExp("[~\\*/\\[\\]]");function lI(n,e,t){if(e.search(WF)>=0)throw cI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch(i){throw cI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cI(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(fe.INVALID_ARGUMENT,h+n+_)}function Bk(n,e){return n.some(t=>t.isEqual(e))}class Mw{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KF extends Mw{data(){return super.data()}}function uI(n,e){return"string"==typeof e?lI(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}class Tm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends Mw{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class kw extends pd{data(e={}){return super.data(e)}}class mf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Tm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new kw(this._firestore,this._userDataWriter,i.key,i,new Tm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new kw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new kw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:YF(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function Uk(n,e){return n instanceof pd&&e instanceof pd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mf&&e instanceof mf&&n._firestore===e._firestore&&ny(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Hk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rw{}function gf(n,...e){for(const t of e)n=t._apply(n);return n}class QF extends Rw{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Im(e.firestore),i=function(r,a,u,h,_,b,E){let T;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){Zk(E,b);const L=[];for(const U of E)L.push(qk(h,r,U));T={arrayValue:{values:L}}}else T=qk(h,r,E)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||Zk(E,b),T=Fk(u,"where",E,"in"===b||"not-in"===b);const O=Qi.create(_,b,T);return function(L,U){if(U.dt()){const le=Zv(L);if(null!==le&&!le.isEqual(U.field))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${le.toString()}' and '${U.field.toString()}'`);const $e=qv(L);null!==$e&&Wk(0,U.field,$e)}const X=function(le,$e){for(const Ye of le.filters)if($e.indexOf(Ye.op)>=0)return Ye.op;return null}(L,function(le){switch(le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==X)throw new ke(fe.INVALID_ARGUMENT,X===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${X.toString()}' filters.`)}(r,O),O}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new we(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new Il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class JF extends Rw{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ed(r,a);return function(h,_){if(null===qv(h)){const b=Zv(h);null!==b&&Wk(0,b,_.field)}}(i,u),u}(e._query,this.wa,this.ya);return new we(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Il(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class jk extends Rw{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new we(e.firestore,e.converter,m_(e._query,this.pa,this.Ia))}}class Gk extends Rw{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=zk(e,this.type,this.Ta,this.Ea);return new we(e.firestore,e.converter,(r=t,new Il((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class $k extends Rw{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=zk(e,this.type,this.Ta,this.Ea);return new we(e.firestore,e.converter,(r=t,new Il((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function zk(n,e,t,i){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof Mw)return function(r,a,u,h,_){if(!h)throw new ke(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const E of zh(r))if(E.field.isKeyField())b.push(El(a,h.key));else{const T=h.data.field(E.field);if(f_(T))throw new ke(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const O=E.field.canonicalString();throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(T)}return new Dl(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Im(n.firestore);return function(a,u,h,_,b,E){const T=a.explicitOrderBy;if(b.length>T.length)throw new ke(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let L=0;L<b.length;L++){const U=b[L];if(T[L].field.isKeyField()){if("string"!=typeof U)throw new ke(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!Wv(a)&&-1!==U.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const X=a.path.child(Qt.fromString(U));if(!qe.isDocumentKey(X))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const le=new qe(X);O.push(El(u,le))}else{const X=Fk(h,_,U);O.push(X)}}return new Dl(O,E)}(n._query,n.firestore._databaseId,r,e,t,i)}}function qk(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wv(e)&&-1!==t.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qt.fromString(t));if(!qe.isDocumentKey(i))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return El(n,new qe(i))}if(t instanceof Le)return El(n,t._key);throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${F(t)}.`)}function Zk(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Wk(n,e,t){if(!t.isEqual(e))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const aL={maxAttempts:5};class PA{convertValue(e,t="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const i={};return kc(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new sI(si(e.latitude),si(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=HC(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qn(e));default:return null}}convertTimestamp(e){const t=Yu(e);return new Bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qt.fromString(e);Tt(hb(i));const r=new Rc(i.get(1),i.get(3)),a=new qe(i.popFirst(5));return r.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function dI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class lL extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,t)}}class Kk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Im(e)}set(e,t,i){this._verifyNotCommitted();const r=_f(e,this._firestore),a=dI(r.converter,t,i),u=aI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Xn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=_f(e,this._firestore);let u;return u="string"==typeof(t=(0,Mt.m9)(t))||t instanceof fd?kA(this._dataReader,"WriteBatch.update",a._key,t,i,r):MA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_f(e,this._firestore);return this._mutations=this._mutations.concat(new qh(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _f(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new ke(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Am extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,t)}}function Yk(n,e,t){n=B(n,Le);const i=B(n.firestore,Sn),r=dI(n.converter,e,t);return iy(i,[aI(Im(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Xn.none())])}function Qk(n,e,t,...i){n=B(n,Le);const r=B(n.firestore,Sn),a=Im(r);let u;return u="string"==typeof(e=(0,Mt.m9)(e))||e instanceof fd?kA(a,"updateDoc",n._key,e,t,i):MA(a,"updateDoc",n._key,e),iy(r,[u.toMutation(n._key,Xn.exists(!0))])}function Xk(n,...e){var t,i,r;n=(0,Mt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Em(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(Em(e[u])){const T=e[u];e[u]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[u+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[u+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let _,b,E;if(n instanceof Le)b=B(n.firestore,Sn),E=$h(n._key.path),_={next:T=>{e[u]&&e[u](NA(b,n,T))},error:e[u+1],complete:e[u+2]};else{const T=B(n,we);b=B(T.firestore,Sn),E=T._query;const O=new Am(b);_={next:L=>{e[u]&&e[u](new mf(b,O,T,L))},error:e[u+1],complete:e[u+2]},Hk(n._query)}return function(T,O,L,U){const X=new ey(U),le=new j_(O,X,L);return T.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return gm(yield Cm(T),le)})),()=>{X.Rc(),T.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return iw(yield Cm(T),le)}))}}(oi(b),E,h,_)}function iy(n,e){return function(t,i){const r=new Ki;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function cw(n,e,t){return z_.apply(this,arguments)}(yield nI(t),i,r)})),r.promise}(oi(n),e)}function NA(n,e,t){const i=t.docs.get(e._key),r=new Am(n);return new pd(n,r,e._key,i,new Tm(t.hasPendingWrites,t.fromCache),e.converter)}class yL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Im(e)}get(e){const t=_f(e,this._firestore),i=new lL(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return st();const a=r[0];if(a.isFoundDocument())return new Mw(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Mw(this._firestore,i,t._key,null,t.converter);throw st()})}set(e,t,i){const r=_f(e,this._firestore),a=dI(r.converter,t,i),u=aI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=_f(e,this._firestore);let u;return u="string"==typeof(t=(0,Mt.m9)(t))||t instanceof fd?kA(this._dataReader,"Transaction.update",a._key,t,i,r):MA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=_f(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_f(e,this._firestore),i=new Am(this._firestore);return super.get(e).then(r=>new pd(this._firestore,i,t._key,r._document,new Tm(!1,!1),t.converter))}}function FA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function eR(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function tR(){if(!function BC(){return"undefined"!=typeof atob}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Rh=_o.SDK_VERSION,(0,_o._registerComponent)(new yh.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new Sn(new Ph(t.getProvider("auth-internal")),new kC(t.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(h.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,_o.registerVersion)(kv,"3.4.15",n),(0,_o.registerVersion)(kv,"3.4.15","esm2017")}();class Ow{constructor(e){this._delegate=e}static fromBase64String(e){return tR(),new Ow(Zc.fromBase64String(e))}static fromUint8Array(e){return eR(),new Ow(Zc.fromUint8Array(e))}toBase64(){return tR(),this._delegate.toBase64()}toUint8Array(){return eR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function LA(n){return function TL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class AL{enableIndexedDbPersistence(e,t){return function PF(n,e){Rk(n=B(n,Sn));const t=oi(n),i=n._freezeSettings(),r=new J_;return kk(t,r,new YD(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function NF(n){Rk(n=B(n,Sn));const e=oi(n),t=n._freezeSettings(),i=new J_;return kk(e,i,new QD(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function FF(n){if(n._initialized&&!n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ki;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(i){if(!vo.C())return Promise.resolve();const r=i+"main";yield vo.delete(r)}),function(i){return t.apply(this,arguments)})(xb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class nR{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Oh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function We(n,e,t,i={}){var r;const a=(n=B(n,Ne))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Oh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Wi.MOCK_USER;else{u=(0,Mt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Wi(_)}n._authCredentials=new wT(new Pv(u,h))}}(this._delegate,e,t,i)}enableNetwork(){return function VF(n){return function Tk(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield SA(n),t=yield TA(n);return e.setNetworkEnabled(!0),function(i){const r=et(i);return r._u.delete(0),um(r)}(t)}))}(oi(n=B(n,Sn)))}(this._delegate)}disableNetwork(){return function BF(n){return function Ak(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield SA(n),t=yield TA(n);return e.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const a=et(r);a._u.add(0),yield cd(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(oi(n=B(n,Sn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,I("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function LF(n){return function(e){const t=new Ki;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function bA(n,e){return pw.apply(this,arguments)}(yield nI(e),t)})),t.promise}(oi(n=B(n,Sn)))}(this._delegate)}onSnapshotsInSync(e){return function _L(n,e){return function c(n,e){const t=new ey(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield Cm(n),r=t,et(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield Cm(n),r=t,void et(i).Ru.delete(r);var i,r}))}}(oi(n=B(n,Sn)),Em(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ry(this,$t(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Na(this,Mr(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function mn(n,e){if(n=B(n,Ne),C("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new we(n,null,(t=e,new Il(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vL(n,e,t){n=B(n,Sn);const i=Object.assign(Object.assign({},aL),t);return function(r){if(r.maxAttempts<1)throw new ke(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function d(n,e,t){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(a=n,ty(a).then(u=>u.datastore));var a;new bw(n.asyncQueue,r,t,e,i).run()})),i.promise}(oi(n),r=>e(new yL(n,r)),i)}(this._delegate,t=>e(new iR(this,t)))}batch(){return oi(this._delegate),new rR(new Kk(this._delegate,e=>iy(this._delegate,e)))}loadBundle(e){return function UF(n,e){const t=oi(n=B(n,Sn)),i=new Tw;return function f(n,e,t,i){const r=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return vw(_,b);if(_ instanceof ArrayBuffer)return vw(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new IA(_,u);var _}(t,F_(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function DA(n,e,t){const i=et(n);var r;(r=(0,ve.Z)(function*(a,u,h){try{const _=yield u.getMetadata();if(yield function(O,L){const U=et(O),X=Xi(L.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",le=>U.Ns.getBundleMetadata(le,L.id)).then(le=>!!le&&le.createTime.compareTo(X)>=0)}(a.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(G_(_));const b=new mA(_,a.localStore,u.It);let E=yield u.wc();for(;E;){const O=yield b.Ou(E);O&&h._updateProgress(O),E=yield u.wc()}const T=yield b.complete();return yield zc(a,T.Bu,void 0),yield function(O,L){const U=et(O);return U.persistence.runTransaction("Save bundle","readwrite",X=>U.Ns.saveBundleMetadata(X,L))}(a.localStore,_),h._completeWith(T.progress),Promise.resolve(T.$u)}catch(_){return Oh("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var O}),function(a,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield nI(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function HF(n,e){return function g(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,i){const r=et(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield Dw(n),e)}))}(oi(n=B(n,Sn)),e).then(t=>t?new we(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class hI extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ow(new Zc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Na.forKey(t,this.firestore,null)}}class iR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}get(e){const t=Mm(e);return this._delegate.get(t).then(i=>new Pw(this._firestore,new pd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Mm(e);return i?(FA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Mm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Mm(e);return this._delegate.delete(t),this}}class rR{constructor(e){this._delegate=e}set(e,t,i){const r=Mm(e);return i?(FA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Mm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Mm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new kw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nw(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=xm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new xm(e,new hI(e),t),r.set(t,a)),a}}xm.INSTANCES=new WeakMap;class Na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Na(t,new Le(t._delegate,i,new qe(e)))}static forKey(e,t,i){return new Na(t,new Le(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ry(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ry(this.firestore,$t(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Le&&qc(this._delegate,e)}set(e,t){t=FA("DocumentReference.set",t);try{return t?Yk(this._delegate,e,t):Yk(this._delegate,e)}catch(i){throw Bs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Qk(this._delegate,e):Qk(this._delegate,e,t,...i)}catch(r){throw Bs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function mL(n){return iy(B(n.firestore,Sn),[new qh(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=sR(e),i=oR(e,r=>new Pw(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Xk(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function uL(n){n=B(n,Le);const e=B(n.firestore,Sn),t=oi(e),i=new Am(e);return function xk(n,e){const t=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const h=yield function(_,b){const E=et(_);return E.persistence.runTransaction("read document","readonly",T=>E.localDocuments.getDocument(T,b))}(r,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=mm(h,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield Dw(n),e,t);var i})),t.promise}(t,n._key).then(r=>new pd(e,i,n._key,r,new Tm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function dL(n){n=B(n,Le);const e=B(n.firestore,Sn);return AA(oi(e),n._key,{source:"server"}).then(t=>NA(e,n,t))}(this._delegate):function cL(n){n=B(n,Le);const e=B(n.firestore,Sn);return AA(oi(e),n._key).then(t=>NA(e,n,t))}(this._delegate),t.then(i=>new Pw(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function sR(n){for(const e of n)if("object"==typeof e&&!LA(e))return e;return{}}function oR(n,e){var t,i;let r;return r=LA(n[0])?n[0]:LA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Uk(this._delegate,e._delegate)}}class Nw extends Pw{data(e){const t=this._delegate.data(e);return function bT(n,e){n||st()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}where(e,t,i){try{return new Us(this.firestore,gf(this._delegate,function XF(n,e,t){const i=e,r=uI("where",n);return new QF(r,i,t)}(e,t,i)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,gf(this._delegate,function eL(n,e="asc"){const t=e,i=uI("orderBy",n);return new JF(i,t)}(e,t)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,gf(this._delegate,function tL(n){return J("limit",n),new jk("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,gf(this._delegate,function nL(n){return J("limitToLast",n),new jk("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,gf(this._delegate,function iL(...n){return new Gk("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,gf(this._delegate,function rL(...n){return new Gk("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,gf(this._delegate,function sL(...n){return new $k("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,gf(this._delegate,function oL(...n){return new $k("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return ny(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function fL(n){n=B(n,we);const e=B(n.firestore,Sn),t=oi(e),i=new Am(e);return function s(n,e){const t=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const h=yield Ml(r,a,!0),_=new ow(a,h.Hi),b=_.ju(h.documents),E=_.applyChanges(b,!1);u.resolve(E.snapshot)}catch(h){const _=mm(h,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield Dw(n),e,t);var i})),t.promise}(t,n._query).then(r=>new mf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function pL(n){n=B(n,we);const e=B(n.firestore,Sn),t=oi(e),i=new Am(e);return o(t,n._query,{source:"server"}).then(r=>new mf(e,i,n,r))}(this._delegate):function hL(n){n=B(n,we);const e=B(n.firestore,Sn),t=oi(e),i=new Am(e);return Hk(n._query),o(t,n._query).then(r=>new mf(e,i,n,r))}(this._delegate),t.then(i=>new VA(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=sR(e),i=oR(e,r=>new VA(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Xk(this._delegate,t,i)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}class ML{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class VA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ML(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Nw(this._firestore,i))})}isEqual(e){return Uk(this._delegate,e._delegate)}}class ry extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Na(this.firestore,e):null}doc(e){try{return new Na(this.firestore,void 0===e?Mr(this._delegate):Mr(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function gL(n,e){const t=B(n.firestore,Sn),i=Mr(n),r=dI(n.converter,e);return iy(t,[aI(Im(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Na(this.firestore,t))}isEqual(e){return qc(this._delegate,e._delegate)}withConverter(e){return new ry(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}function Mm(n){return B(n,Le)}class BA{constructor(...e){this._delegate=new fd(...e)}static documentId(){return new BA(Yn.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class km{constructor(e){this._delegate=e}static serverTimestamp(){const e=function wL(){return new xA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new km(e)}static delete(){const e=function bL(){return new xw("deleteField")}();return e._methodName="FieldValue.delete",new km(e)}static arrayUnion(...e){const t=function CL(...n){return new zF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new km(t)}static arrayRemove(...e){const t=function EL(...n){return new qF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new km(t)}static increment(e){const t=function DL(n){return new ZF("increment",n)}(e);return t._methodName="FieldValue.increment",new km(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kL={Firestore:nR,GeoPoint:sI,Timestamp:Bn,Blob:Ow,Transaction:iR,WriteBatch:rR,DocumentReference:Na,DocumentSnapshot:Pw,Query:Us,QueryDocumentSnapshot:Nw,QuerySnapshot:VA,CollectionReference:ry,FieldPath:BA,FieldValue:km,setLogLevel:function xL(n){!function AC(n){yl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function OL(n){(function RL(n,e){n.INTERNAL.registerComponent(new yh.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},kL)))})(n,(e,t)=>new nR(e,t,new AL)),n.registerVersion("@firebase/firestore-compat","0.1.24")}($y.Z);var md=P(6451),fI=P(5363),PL=P(6063);class NL extends _t.x{constructor(e=1/0,t=1/0,i=PL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var aR=P(3099);function UA(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,aR.B)({connector:()=>new NL(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function lR(n,e){return(0,$n.m)(e)?ln(()=>n,e):ln(()=>n)}var HA=P(9468);P(5867);const uR=new Map,UL={activated:!1,tokenObservers:[]},HL={initialized:!1,enabled:!1};function kr(n){return uR.get(n)||UL}function kl(n,e){uR.set(n,e)}function mI(){return HL}class qL{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Mt.BH,yield function ZL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hs=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hR(n){if(!kr(n).activated)throw Hs.create("use-before-activation",{appName:n.name})}function zA(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,ve.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const L=yield u.getHeartbeatsHeader();L&&(a["X-Firebase-Client"]=L)}const h={method:"POST",body:JSON.stringify(e),headers:a};let _,b;try{_=yield fetch(n,h)}catch(L){throw Hs.create("fetch-network-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}if(200!==_.status)throw Hs.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(L){throw Hs.create("fetch-parse-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}const E=b.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const T=1e3*Number(E[1]),O=Date.now();return{token:b.token,expireTimeMillis:O+T,issuedAtTimeMillis:O}}),qA.apply(this,arguments)}function QL(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Fw="firebase-app-check-store";let yI=null;function pR(){return yI||(yI=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Hs.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fw,{keyPath:"compositeKey"})}}catch(i){e(Hs.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),yI)}function ZA(){return ZA=(0,ve.Z)(function*(n,e){const i=(yield pR()).transaction(Fw,"readwrite"),a=i.objectStore(Fw).put({compositeKey:n,value:e});return new Promise((u,h)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;h(Hs.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),ZA.apply(this,arguments)}const Lw=new dl.Yd("@firebase/app-check");function yR(n,e){return(0,Mt.hl)()?function tV(n,e){return function mR(n,e){return ZA.apply(this,arguments)}(function _R(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Lw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vR(){return mI().enabled}function bR(){return QA.apply(this,arguments)}function QA(){return QA=(0,ve.Z)(function*(){const n=mI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QA.apply(this,arguments)}const aV={error:"UNKNOWN_ERROR"};function lV(n){return Mt.US.encodeString(JSON.stringify(n),!1)}function vI(n){return XA.apply(this,arguments)}function XA(){return XA=(0,ve.Z)(function*(n,e=!1){const t=n.app;hR(t);const i=kr(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&bI(_)&&(r=_)}if(!e&&r&&bI(r))return{token:r.token};let h,u=!1;if(vR()){i.exchangeTokenPromise||(i.exchangeTokenPromise=zA(QL(t,yield bR()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield yR(t,_),kl(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Lw.warn(_.message):Lw.error(_),a=_}return r?(h={token:r.token},kl(t,Object.assign(Object.assign({},i),{token:r})),yield yR(t,r)):h=uV(a),u&&CR(t,h),h}),XA.apply(this,arguments)}function ex(n,e){const t=kr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),kl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function wR(n){const{app:e}=n,t=kr(e);let i=t.tokenRefresher;i||(i=function cV(n){const{app:e}=n;return new qL((0,ve.Z)(function*(){let i;if(i=kr(e).token?yield vI(n,!0):yield vI(n),i.error)throw i.error}),()=>!0,()=>{const t=kr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),kl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function CR(n,e){const t=kr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function bI(n){return n.expireTimeMillis-Date.now()>0}function uV(n){return{token:lV(aV),error:n}}class dV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=kr(this.app);for(const t of e)ex(this.app,t.next);return Promise.resolve()}}const MR="app-check-internal";!function IV(){(0,_o._registerComponent)(new yh.wA("app-check",n=>function hV(n,e){return new dV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(MR).initialize()})),(0,_o._registerComponent)(new yh.wA(MR,n=>function fV(n){return{getToken:e=>vI(n,e),addTokenListener:e=>function JA(n,e,t,i){const{app:r}=n,a=kr(r),u={next:t,error:i,type:e};if(kl(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&bI(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),wR(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>wR(n))}(n,"INTERNAL",e),removeTokenListener:e=>ex(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_o.registerVersion)("@firebase/app-check","0.5.12")}();class CI{constructor(){return(0,Wn.vb)("app-check")}}"undefined"!=typeof window&&window;var RR=P(127);const OR=new l.OlP("angularfire2.auth.use-emulator"),PR=new l.OlP("angularfire2.auth.settings"),NR=new l.OlP("angularfire2.auth.tenant-id"),FR=new l.OlP("angularfire2.auth.langugage-code"),LR=new l.OlP("angularfire2.auth.use-device-language"),VR=new l.OlP("angularfire.auth.persistence"),BR=(n,e,t,i,r,a,u,h)=>(0,Sr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,E]of Object.entries(u))_.settings[b]=E;return h&&_.setPersistence(h),_},[t,i,r,a,u,h]);let UR=(()=>{class n{constructor(t,i,r,a,u,h,_,b,E,T,O,L){const U=new _t.x,X=Xe(void 0).pipe((0,fI.Q)(u.outsideAngular),ln(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2274)))),(0,tt.U)(()=>(0,Sr.on)(t,a,i)),(0,tt.U)(le=>BR(le,a,h,b,E,T,_,O)),UA({bufferSize:1,refCount:!1}));if(da(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{X.pipe(tl()).subscribe();const $e=X.pipe(ln(Ue=>Ue.getRedirectResult().then(vt=>vt,()=>null)),Wn.iC,UA({bufferSize:1,refCount:!1})),Ye=X.pipe(ln(Ue=>new nn.y(vt=>({unsubscribe:a.runOutsideAngular(()=>Ue.onAuthStateChanged(Et=>vt.next(Et),Et=>vt.error(Et),()=>vt.complete()))})))),ze=X.pipe(ln(Ue=>new nn.y(vt=>({unsubscribe:a.runOutsideAngular(()=>Ue.onIdTokenChanged(Et=>vt.next(Et),Et=>vt.error(Et),()=>vt.complete()))}))));this.authState=$e.pipe(lR(Ye),(0,HA.R)(u.outsideAngular),(0,fI.Q)(u.insideAngular)),this.user=$e.pipe(lR(ze),(0,HA.R)(u.outsideAngular),(0,fI.Q)(u.insideAngular)),this.idToken=this.user.pipe(ln(Ue=>Ue?(0,an.D)(Ue.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(ln(Ue=>Ue?(0,an.D)(Ue.getIdTokenResult()):Xe(null))),this.credential=(0,md.T)($e,U,this.authState.pipe(Ft(Ue=>!Ue))).pipe((0,tt.U)(Ue=>(null==Ue?void 0:Ue.user)?Ue:null),(0,HA.R)(u.outsideAngular),(0,fI.Q)(u.insideAngular))}return(0,Sr.pX)(this,X,a,{spy:{apply:(le,$e,Ye)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&Ye.then(ze=>U.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sr.Dh),l.LFG(Sr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(OR,8),l.LFG(PR,8),l.LFG(NR,8),l.LFG(FR,8),l.LFG(LR,8),l.LFG(VR,8),l.LFG(CI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function HR(n,e){return function kV(n,e=ul.z){return new nn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function sx(n,e){return HR(n,e).pipe((0,tt.U)(t=>({payload:t,type:"query"})))}function EI(n,e){return sx(n,e).pipe(Nn(void 0),Mg(),(0,tt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(E=>E.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(E=>E.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function jR(n,e,t){return EI(n,t).pipe(Lr((i,r)=>function OV(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function PV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ox(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ox(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ox(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),kg(),(0,tt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function ox(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function GR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $R{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=EI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Nn(void 0),Mg(),Ft(([i,r])=>r.length>0||!i),(0,tt.U)(([i,r])=>r),Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GR(e);return jR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return sx(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Wn.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Wn.iC)}add(e){return this.ref.add(e)}doc(e){return new zR(this.ref.doc(e),this.afs)}}class zR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=WR(i,t);return new $R(r,a,this.afs)}snapshotChanges(){return function RV(n,e){return HR(n,e).pipe(Nn(void 0),Mg(),(0,tt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,an.D)(this.ref.get(e)).pipe(Wn.iC)}}class NV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?EI(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ft(t=>t.length>0),Wn.iC):EI(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GR(e);return jR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return sx(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Wn.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Wn.iC)}}const qR=new l.OlP("angularfire2.enableFirestorePersistence"),ZR=new l.OlP("angularfire2.firestore.persistenceSettings"),FV=new l.OlP("angularfire2.firestore.settings"),LV=new l.OlP("angularfire2.firestore.use-emulator");function WR(n,e=(t=>t)){return{query:e(n),ref:n}}let DI=(()=>{class n{constructor(t,i,r,a,u,h,_,b,E,T,O,L,U,X,le,$e,Ye){this.schedulers=_;const ze=(0,Sr.on)(t,h,i),Ue=E;T&&BR(ze,h,O,U,X,le,L,$e),[this.firestore,this.persistenceEnabled$]=(0,Sr.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const vt=h.runOutsideAngular(()=>ze.firestore());if(a&&vt.settings(a),Ue&&vt.useEmulator(...Ue),r&&!da(u)){const Et=()=>{try{return(0,an.D)(vt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(zt){return"undefined"!=typeof console&&console.warn(zt),Xe(!1)}};return[vt,h.runOutsideAngular(Et)]}return[vt,Xe(!1)]},[a,Ue,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=WR(r,i),h=this.schedulers.ngZone.run(()=>a);return new $R(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new NV(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new zR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sr.Dh),l.LFG(Sr.xv,8),l.LFG(qR,8),l.LFG(FV,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(ZR,8),l.LFG(LV,8),l.LFG(UR,8),l.LFG(OR,8),l.LFG(PR,8),l.LFG(NR,8),l.LFG(FR,8),l.LFG(LR,8),l.LFG(VR,8),l.LFG(CI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VV=(()=>{class n{constructor(){RR.Z.registerVersion("angularfire",Wn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:qR,useValue:!0},{provide:ZR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[DI]}),n})();class KR{}const gd="*";function II(n,e){return{type:7,name:n,definitions:e,options:{}}}function Vw(n,e=null){return{type:4,styles:e,timings:n}}function YR(n,e=null){return{type:2,steps:n,options:e}}function Wc(n){return{type:6,styles:n,offset:null}}function sy(n,e,t){return{type:0,name:n,styles:e,options:t}}function oy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function UV(n=null){return{type:9,options:n}}function HV(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function QR(n){Promise.resolve(null).then(n)}class Bw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){QR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class XR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?QR(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Xt=!1;function JR(n){return new l.vHH(3e3,Xt)}function wB(){return"undefined"!=typeof window&&void 0!==window.document}function lx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yf(n){switch(n.length){case 0:return new Bw;case 1:return n[0];default:return new XR(n)}}function eO(n,e,t,i,r={},a={}){const u=[],h=[];let _=-1,b=null;if(i.forEach(E=>{const T=E.offset,O=T==_,L=O&&b||{};Object.keys(E).forEach(U=>{let X=U,le=E[U];if("offset"!==U)switch(X=e.normalizePropertyName(X,u),le){case"!":le=r[U];break;case gd:le=a[U];break;default:le=e.normalizeStyleValue(U,X,le,u)}L[X]=le}),O||h.push(L),b=L,_=T}),u.length)throw function uB(n){return new l.vHH(3502,Xt)}();return h}function cx(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&ux(t,"start",n)));break;case"done":n.onDone(()=>i(t&&ux(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&ux(t,"destroy",n)))}}function ux(n,e,t){const i=t.totalTime,a=dx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function dx(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function ea(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function tO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let hx=(n,e)=>!1,nO=(n,e,t)=>[],iO=null;function fx(n){const e=n.parentNode||n.host;return e===iO?null:e}(lx()||"undefined"!=typeof Element)&&(wB()?(iO=(()=>document.documentElement)(),hx=(n,e)=>{for(;e;){if(e===n)return!0;e=fx(e)}return!1}):hx=(n,e)=>n.contains(e),nO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Rm=null,rO=!1;function sO(n){Rm||(Rm=function EB(){return"undefined"!=typeof document?document.body:null}()||{},rO=!!Rm.style&&"WebkitAppearance"in Rm.style);let e=!0;return Rm.style&&!function CB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Rm.style,!e&&rO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Rm.style)),e}const oO=hx,aO=nO;let lO=(()=>{class n{validateStyleProperty(t){return sO(t)}matchesElement(t,i){return!1}containsElement(t,i){return oO(t,i)}getParentElement(t){return fx(t)}query(t,i,r){return aO(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,h=[],_){return new Bw(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),px=(()=>{class n{}return n.NOOP=new lO,n})();const mx="ng-enter",TI="ng-leave",AI="ng-trigger",xI=".ng-trigger",uO="ng-animating",gx=".ng-animating";function Om(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_x(parseFloat(e[1]),e[2])}function _x(n,e){return"s"===e?1e3*n:n}function MI(n,e,t){return n.hasOwnProperty("duration")?n:function SB(n,e,t){let r,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(JR()),{duration:0,delay:0,easing:""};r=_x(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(a=_x(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!t){let h=!1,_=e.length;r<0&&(e.push(function jV(){return new l.vHH(3100,Xt)}()),h=!0),a<0&&(e.push(function GV(){return new l.vHH(3101,Xt)}()),h=!0),h&&e.splice(_,0,JR())}return{duration:r,delay:a,easing:u}}(n,e,t)}function ay(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function vf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else ay(n,t);return t}function hO(n,e,t){return t?e+":"+t+";":""}function fO(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=hO(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=hO(0,xB(t),n.style[t]));n.setAttribute("style",e)}function Kc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=vx(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),lx()&&fO(n))}function Pm(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=vx(t);n.style[i]=""}),lx()&&fO(n))}function Uw(n){return Array.isArray(n)?1==n.length?n[0]:YR(n):n}const yx=new RegExp("{{\\s*(.+?)\\s*}}","g");function pO(n){let e=[];if("string"==typeof n){let t;for(;t=yx.exec(n);)e.push(t[1]);yx.lastIndex=0}return e}function kI(n,e,t){const i=n.toString(),r=i.replace(yx,(a,u)=>{let h=e[u];return e.hasOwnProperty(u)||(t.push(function zV(n){return new l.vHH(3003,Xt)}()),h=""),h.toString()});return r==i?n:r}function RI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const AB=/-+([a-z0-9])/g;function vx(n){return n.replace(AB,(...e)=>e[1].toUpperCase())}function xB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ta(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function qV(n){return new l.vHH(3004,Xt)}()}}function mO(n,e){return window.getComputedStyle(n)[e]}function NB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function FB(n,e,t){if(":"==n[0]){const _=function LB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function oB(n){return new l.vHH(3016,Xt)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function sB(n){return new l.vHH(3015,Xt)}()),e;const r=i[1],a=i[2],u=i[3];e.push(gO(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(gO(u,r))}(i,t,e)):t.push(n),t}const FI=new Set(["true","1"]),LI=new Set(["false","0"]);function gO(n,e){const t=FI.has(n)||LI.has(n),i=FI.has(e)||LI.has(e);return(r,a)=>{let u="*"==n||n==r,h="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?FI.has(n):LI.has(n)),!h&&i&&"boolean"==typeof a&&(h=a?FI.has(e):LI.has(e)),u&&h}}const VB=new RegExp("s*:selfs*,?","g");function bx(n,e,t,i){return new BB(n).build(e,t,i)}class BB{constructor(e){this._driver=e}build(e,t,i){const r=new jB(t);this._resetContextStyleTimingState(r);const a=ta(this,Uw(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function WV(){return new l.vHH(3006,Xt)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(E=>{_.name=E,a.push(this.visitState(_,t))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function KV(){return new l.vHH(3007,Xt)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(h=>{if(VI(h)){const _=h;Object.keys(_).forEach(b=>{pO(_[b]).forEach(E=>{u.hasOwnProperty(E)||a.add(E)})})}}),a.size&&(RI(a.values()),t.errors.push(function YV(n,e){return new l.vHH(3008,Xt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ta(this,Uw(e.animation),t);return{type:1,matchers:NB(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Nm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ta(this,i,t)),options:Nm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const h=ta(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:a,options:Nm(e.options)}}visitAnimate(e,t){const i=function $B(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wx(MI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=wx(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=MI(t,e);return wx(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Wc({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=Wc(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=h,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==gd?i.push(u):t.errors.push(function QV(n){return new l.vHH(3002,Xt)}()):i.push(u)}):i.push(e.styles);let r=!1,a=null;return i.forEach(u=>{if(VI(u)){const h=u,_=h.easing;if(_&&(a=_,delete h.easing),!r)for(let b in h)if(h[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void t.unsupportedCSSPropertiesFound.add(h);const _=t.collectedStyles[t.currentQuerySelector],b=_[h];let E=!0;b&&(a!=r&&a>=b.startTime&&r<=b.endTime&&(t.errors.push(function XV(n,e,t,i,r){return new l.vHH(3010,Xt)}()),E=!1),a=b.startTime),E&&(_[h]={startTime:a,endTime:r}),t.options&&function TB(n,e,t){const i=e.params||{},r=pO(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function $V(n){return new l.vHH(3001,Xt)}())})}(u[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function JV(){return new l.vHH(3011,Xt)}()),i;let a=0;const u=[];let h=!1,_=!1,b=0;const E=e.steps.map($e=>{const Ye=this._makeStyleAst($e,t);let ze=null!=Ye.offset?Ye.offset:function GB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(VI(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(VI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Ye.styles),Ue=0;return null!=ze&&(a++,Ue=Ye.offset=ze),_=_||Ue<0||Ue>1,h=h||Ue<b,b=Ue,u.push(Ue),Ye});_&&t.errors.push(function eB(){return new l.vHH(3012,Xt)}()),h&&t.errors.push(function tB(){return new l.vHH(3200,Xt)}());const T=e.steps.length;let O=0;a>0&&a<T?t.errors.push(function nB(){return new l.vHH(3202,Xt)}()):0==a&&(O=1/(T-1));const L=T-1,U=t.currentTime,X=t.currentAnimateTimings,le=X.duration;return E.forEach(($e,Ye)=>{const ze=O>0?Ye==L?1:O*Ye:u[Ye],Ue=ze*le;t.currentTime=U+X.delay+Ue,X.duration=Ue,this._validateStyleAst($e,t),$e.offset=ze,i.styles.push($e)}),i}visitReference(e,t){return{type:8,animation:ta(this,Uw(e.animation),t),options:Nm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Nm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Nm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function UB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(VB,"")),n=n.replace(/@\*/g,xI).replace(/@\w+/g,t=>xI+"-"+t.substr(1)).replace(/:animating/g,gx),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,ea(t.collectedStyles,t.currentQuerySelector,{});const h=ta(this,Uw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Nm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function iB(){return new l.vHH(3013,Xt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:MI(e.timings,t.errors,!0);return{type:12,animation:ta(this,Uw(e.animation),t),timings:i,options:null}}}class jB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function VI(n){return!Array.isArray(n)&&"object"==typeof n}function Nm(n){return n?(n=ay(n)).params&&(n.params=function HB(n){return n?ay(n):null}(n.params)):n={},n}function wx(n,e,t){return{duration:n,delay:e,easing:t}}function Cx(n,e,t,i,r,a,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:h}}class BI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ZB=new RegExp(":enter","g"),KB=new RegExp(":leave","g");function Ex(n,e,t,i,r,a={},u={},h,_,b=[]){return(new YB).buildKeyframes(n,e,t,i,r,a,u,h,_,b)}class YB{buildKeyframes(e,t,i,r,a,u,h,_,b,E=[]){b=b||new BI;const T=new Dx(e,t,b,r,a,E,[]);T.options=_,T.currentTimeline.setStyles([u],null,T.errors,_),ta(this,i,T);const O=T.timelines.filter(L=>L.containsAnimation());if(Object.keys(h).length){let L;for(let U=O.length-1;U>=0;U--){const X=O[U];if(X.element===t){L=X;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([h],null,T.errors,_)}return O.length?O.map(L=>L.buildKeyframes()):[Cx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Om(i.duration):null,h=null!=i.delay?Om(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,h);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ta(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=UI);const u=Om(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ta(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Om(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),ta(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return MI(t.params?kI(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(_=>{h.forwardTime((_.offset||0)*a),h.setStyles(_.styles,_.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Om(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=UI);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let _=null;h.forEach((b,E)=>{t.currentQueryIndex=E;const T=t.createSubContext(e.options,b);a&&T.delayNextStep(a),b===t.element&&(_=T.currentTimeline),ta(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),h=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const E=t.currentTimeline;_&&E.delayNextStep(_);const T=E.currentTime;ta(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const UI={};class Dx{constructor(e,t,i,r,a,u,h,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new HI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Om(i.duration)),null!=i.delay&&(r.delay=Om(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=kI(a[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new Dx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=UI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new QB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(ZB,"."+this._enterClassName)).replace(KB,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!a&&0==h.length&&u.push(function rB(n){return new l.vHH(3014,Xt)}()),h}}class HI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new HI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||gd,this._currentKeyframe[t]=gd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},u=function XB(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=gd})):vf(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const _=kI(u[h],a,i);this._pendingStyles[h]=_,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:gd),this._updateStyle(h,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const b=vf(h,!0);Object.keys(b).forEach(E=>{const T=b[E];"!"==T?e.add(E):T==gd&&t.add(E)}),i||(b.offset=_/this.duration),r.push(b)});const a=e.size?RI(e.values()):[],u=t.size?RI(t.values()):[];if(i){const h=r[0],_=ay(h);h.offset=0,_.offset=1,r=[h,_]}return Cx(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class QB extends HI{constructor(e,t,i,r,a,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,h=t/u,_=vf(e[0],!1);_.offset=0,a.push(_);const b=vf(e[0],!1);b.offset=vO(h),a.push(b);const E=e.length-1;for(let T=1;T<=E;T++){let O=vf(e[T],!1);O.offset=vO((t+O.offset*i)/u),a.push(O)}i=u,t=0,r="",e=a}return Cx(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function vO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ix{}class JB extends Ix{normalizePropertyName(e,t){return vx(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(e2[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function ZV(n,e){return new l.vHH(3005,Xt)}())}return u+a}}const e2=(()=>function t2(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bO(n,e,t,i,r,a,u,h,_,b,E,T,O){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:E,totalTime:T,errors:O}}const Sx={};class wO{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function n2(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):u}build(e,t,i,r,a,u,h,_,b,E){const T=[],O=this.ast.options&&this.ast.options.params||Sx,U=this.buildStyles(i,h&&h.params||Sx,T),X=_&&_.params||Sx,le=this.buildStyles(r,X,T),$e=new Set,Ye=new Map,ze=new Map,Ue="void"===r,vt={params:Object.assign(Object.assign({},O),X)},Et=E?[]:Ex(e,t,this.ast.animation,a,u,U,le,vt,b,T);let zt=0;if(Et.forEach(ia=>{zt=Math.max(ia.duration+ia.delay,zt)}),T.length)return bO(t,this._triggerName,i,r,Ue,U,le,[],[],Ye,ze,zt,T);Et.forEach(ia=>{const Cd=ia.element,SF=ea(Ye,Cd,{});ia.preStyleProps.forEach($m=>SF[$m]=!0);const y0=ea(ze,Cd,{});ia.postStyleProps.forEach($m=>y0[$m]=!0),Cd!==t&&$e.add(Cd)});const Fi=RI($e.values());return bO(t,this._triggerName,i,r,Ue,U,le,Et,Fi,Ye,ze,zt)}}class r2{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=ay(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(h=>{let _=u[h];_.length>1&&(_=kI(_,r,t));const b=this.normalizer.normalizePropertyName(h,t);_=this.normalizer.normalizeStyleValue(h,b,_,t),i[b]=_})}}),i}}class o2{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new r2(r.style,r.options&&r.options.params||{},i)}),CO(this.states,"true","1"),CO(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new wO(e,r,this.states))}),this.fallbackTransition=function a2(n,e,t){return new wO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function CO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const l2=new BI;class c2{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=bx(this._driver,t,i,[]);if(i.length)throw function dB(n){return new l.vHH(3503,Xt)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=eO(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let u;const h=new Map;if(a?(u=Ex(this._driver,t,a,mx,TI,{},{},i,l2,r),u.forEach(E=>{const T=ea(h,E.element,{});E.postStyleProps.forEach(O=>T[O]=null)})):(r.push(function hB(){return new l.vHH(3300,Xt)}()),u=[]),r.length)throw function fB(n){return new l.vHH(3504,Xt)}();h.forEach((E,T)=>{Object.keys(E).forEach(O=>{E[O]=this._driver.computeStyle(T,O,gd)})});const b=yf(u.map(E=>{const T=h.get(E.element);return this._buildPlayer(E,{},T)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function pB(n){return new l.vHH(3301,Xt)}();return t}listen(e,t,i,r){const a=dx(t,"","","");return cx(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const EO="ng-animate-queued",Tx="ng-animate-disabled",p2=[],DO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},m2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class Ax{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function v2(n){return null!=n?n:null}(i?e.value:e),i){const a=ay(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Hw="void",xx=new Ax(Hw);class g2{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,La(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function mB(n,e){return new l.vHH(3302,Xt)}();if(null==i||0==i.length)throw function gB(n){return new l.vHH(3303,Xt)}();if(!function b2(n){return"start"==n||"done"==n}(i))throw function _B(n,e){return new l.vHH(3400,Xt)}();const a=ea(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const h=ea(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(La(e,AI),La(e,AI+"-"+t),h[t]=xx),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function yB(n){return new l.vHH(3401,Xt)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new Mx(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(La(e,AI),La(e,AI+"-"+t),this._engine.statesByElement.set(e,h={}));let _=h[t];const b=new Ax(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h[t]=b,_||(_=xx),b.value!==Hw&&_.value===b.value){if(!function E2(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const X=[],le=a.matchStyles(_.value,_.params,X),$e=a.matchStyles(b.value,b.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{Pm(e,le),Kc(e,$e)})}return}const O=ea(this._engine.playersByElement,e,[]);O.forEach(X=>{X.namespaceId==this.id&&X.triggerName==t&&X.queued&&X.destroy()});let L=a.matchTransition(_.value,b.value,e,b.params),U=!1;if(!L){if(!r)return;L=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(La(e,EO),u.onStart(()=>{ly(e,EO)})),u.onDone(()=>{let X=this.players.indexOf(u);X>=0&&this.players.splice(X,1);const le=this._engine.playersByElement.get(e);if(le){let $e=le.indexOf(u);$e>=0&&le.splice($e,1)}}),this.players.push(u),O.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,xI,!0);i.forEach(r=>{if(r[Fa])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const h=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(e,_,Hw,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&yf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||xx,E=new Ax(Hw),T=new Mx(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:E,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Fa];(!a||a===DO)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){La(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=dx(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,cx(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class _2{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new g2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const _=r.get(h);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=a;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(jI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!jI(t))return;const a=t[Fa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),La(e,Tx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ly(e,Tx))}removeNode(e,t,i,r){if(jI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Fa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return jI(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,xI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gx,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Fa];if(i&&i.setForRemoval){if(e[Fa]=DO,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Tx))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)La(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?yf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function vB(n){return new l.vHH(3402,Xt)}()}_flushAnimations(e,t){const i=new BI,r=[],a=new Map,u=[],h=new Map,_=new Map,b=new Map,E=new Set;this.disabledNodes.forEach(dt=>{E.add(dt);const St=this.driver.query(dt,".ng-animate-queued",!0);for(let Ot=0;Ot<St.length;Ot++)E.add(St[Ot])});const T=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=TO(O,this.collectedEnterElements),U=new Map;let X=0;L.forEach((dt,St)=>{const Ot=mx+X++;U.set(St,Ot),dt.forEach(cn=>La(cn,Ot))});const le=[],$e=new Set,Ye=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const St=this.collectedLeaveElements[dt],Ot=St[Fa];Ot&&Ot.setForRemoval&&(le.push(St),$e.add(St),Ot.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(cn=>$e.add(cn)):Ye.add(St))}const ze=new Map,Ue=TO(O,Array.from($e));Ue.forEach((dt,St)=>{const Ot=TI+X++;ze.set(St,Ot),dt.forEach(cn=>La(cn,Ot))}),e.push(()=>{L.forEach((dt,St)=>{const Ot=U.get(St);dt.forEach(cn=>ly(cn,Ot))}),Ue.forEach((dt,St)=>{const Ot=ze.get(St);dt.forEach(cn=>ly(cn,Ot))}),le.forEach(dt=>{this.processLeaveNode(dt)})});const vt=[],Et=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Ot=>{const cn=Ot.player,Rr=Ot.element;if(vt.push(cn),this.collectedEnterElements.length){const zs=Rr[Fa];if(zs&&zs.setForMove){if(zs.previousTriggersValues&&zs.previousTriggersValues.has(Ot.triggerName)){const zm=zs.previousTriggersValues.get(Ot.triggerName),Mf=this.statesByElement.get(Ot.element);Mf&&Mf[Ot.triggerName]&&(Mf[Ot.triggerName].value=zm)}return void cn.destroy()}}const eu=!T||!this.driver.containsElement(T,Rr),ra=ze.get(Rr),xf=U.get(Rr),pi=this._buildInstruction(Ot,i,xf,ra,eu);if(pi.errors&&pi.errors.length)return void Et.push(pi);if(eu)return cn.onStart(()=>Pm(Rr,pi.fromStyles)),cn.onDestroy(()=>Kc(Rr,pi.toStyles)),void r.push(cn);if(Ot.isFallbackTransition)return cn.onStart(()=>Pm(Rr,pi.fromStyles)),cn.onDestroy(()=>Kc(Rr,pi.toStyles)),void r.push(cn);const xF=[];pi.timelines.forEach(zs=>{zs.stretchStartingKeyframe=!0,this.disabledNodes.has(zs.element)||xF.push(zs)}),pi.timelines=xF,i.append(Rr,pi.timelines),u.push({instruction:pi,player:cn,element:Rr}),pi.queriedElements.forEach(zs=>ea(h,zs,[]).push(cn)),pi.preStyleProps.forEach((zs,zm)=>{const Mf=Object.keys(zs);if(Mf.length){let qm=_.get(zm);qm||_.set(zm,qm=new Set),Mf.forEach(nk=>qm.add(nk))}}),pi.postStyleProps.forEach((zs,zm)=>{const Mf=Object.keys(zs);let qm=b.get(zm);qm||b.set(zm,qm=new Set),Mf.forEach(nk=>qm.add(nk))})});if(Et.length){const dt=[];Et.forEach(St=>{dt.push(function bB(n,e){return new l.vHH(3505,Xt)}())}),vt.forEach(St=>St.destroy()),this.reportError(dt)}const zt=new Map,Fi=new Map;u.forEach(dt=>{const St=dt.element;i.has(St)&&(Fi.set(St,St),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,zt))}),r.forEach(dt=>{const St=dt.element;this._getPreviousPlayers(St,!1,dt.namespaceId,dt.triggerName,null).forEach(cn=>{ea(zt,St,[]).push(cn),cn.destroy()})});const ia=le.filter(dt=>xO(dt,_,b)),Cd=new Map;SO(Cd,this.driver,Ye,b,gd).forEach(dt=>{xO(dt,_,b)&&ia.push(dt)});const y0=new Map;L.forEach((dt,St)=>{SO(y0,this.driver,new Set(dt),_,"!")}),ia.forEach(dt=>{const St=Cd.get(dt),Ot=y0.get(dt);Cd.set(dt,Object.assign(Object.assign({},St),Ot))});const $m=[],TF=[],AF={};u.forEach(dt=>{const{element:St,player:Ot,instruction:cn}=dt;if(i.has(St)){if(E.has(St))return Ot.onDestroy(()=>Kc(St,cn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(cn.totalTime),void r.push(Ot);let Rr=AF;if(Fi.size>1){let ra=St;const xf=[];for(;ra=ra.parentNode;){const pi=Fi.get(ra);if(pi){Rr=pi;break}xf.push(ra)}xf.forEach(pi=>Fi.set(pi,Rr))}const eu=this._buildAnimation(Ot.namespaceId,cn,zt,a,y0,Cd);if(Ot.setRealPlayer(eu),Rr===AF)$m.push(Ot);else{const ra=this.playersByElement.get(Rr);ra&&ra.length&&(Ot.parentPlayer=yf(ra)),r.push(Ot)}}else Pm(St,cn.fromStyles),Ot.onDestroy(()=>Kc(St,cn.toStyles)),TF.push(Ot),E.has(St)&&r.push(Ot)}),TF.forEach(dt=>{const St=a.get(dt.element);if(St&&St.length){const Ot=yf(St);dt.setRealPlayer(Ot)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<le.length;dt++){const St=le[dt],Ot=St[Fa];if(ly(St,TI),Ot&&Ot.hasAnimation)continue;let cn=[];if(h.size){let eu=h.get(St);eu&&eu.length&&cn.push(...eu);let ra=this.driver.query(St,gx,!0);for(let xf=0;xf<ra.length;xf++){let pi=h.get(ra[xf]);pi&&pi.length&&cn.push(...pi)}}const Rr=cn.filter(eu=>!eu.destroyed);Rr.length?w2(this,St,Rr):this.processLeaveNode(St)}return le.length=0,$m.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const St=this.players.indexOf(dt);this.players.splice(St,1)}),dt.play()}),$m}elementContainsData(e,t){let i=!1;const r=t[Fa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const _=!a||a==Hw;h.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,E=b!==a,T=ea(i,b,[]);this._getPreviousPlayers(b,E,u,h,t.toState).forEach(L=>{const U=L.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),L.destroy(),T.push(L)})}Pm(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const h=t.triggerName,_=t.element,b=[],E=new Set,T=new Set,O=t.timelines.map(U=>{const X=U.element;E.add(X);const le=X[Fa];if(le&&le.removedBeforeQueried)return new Bw(U.duration,U.delay);const $e=X!==_,Ye=function C2(n){const e=[];return AO(n,e),e}((i.get(X)||p2).map(zt=>zt.getRealPlayer())).filter(zt=>!!zt.element&&zt.element===X),ze=a.get(X),Ue=u.get(X),vt=eO(0,this._normalizer,0,U.keyframes,ze,Ue),Et=this._buildPlayer(U,vt,Ye);if(U.subTimeline&&r&&T.add(X),$e){const zt=new Mx(e,h,X);zt.setRealPlayer(Et),b.push(zt)}return Et});b.forEach(U=>{ea(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function y2(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,U.element,U))}),E.forEach(U=>La(U,uO));const L=yf(O);return L.onDestroy(()=>{E.forEach(U=>ly(U,uO)),Kc(_,t.toStyles)}),T.forEach(U=>{ea(r,U,[]).push(L)}),L}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Bw(e.duration,e.delay)}}class Mx{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Bw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>cx(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ea(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jI(n){return n&&1===n.nodeType}function IO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function SO(n,e,t,i,r){const a=[];t.forEach(_=>a.push(IO(_)));const u=[];i.forEach((_,b)=>{const E={};_.forEach(T=>{const O=E[T]=e.computeStyle(b,T,r);(!O||0==O.length)&&(b[Fa]=m2,u.push(b))}),n.set(b,E)});let h=0;return t.forEach(_=>IO(_,a[h++])),u}function TO(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(h){if(!h)return 1;let _=a.get(h);if(_)return _;const b=h.parentNode;return _=t.has(b)?b:r.has(b)?1:u(b),a.set(h,_),_}return e.forEach(h=>{const _=u(h);1!==_&&t.get(_).push(h)}),t}function La(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function ly(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function w2(n,e,t){yf(t).onDone(()=>n.processLeaveNode(e))}function AO(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof XR?AO(i.players,e):e.push(i)}}function xO(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class GI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new _2(e,t,i),this._timelineEngine=new c2(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],E=bx(this._driver,a,_,[]);if(_.length)throw function cB(n,e){return new l.vHH(3404,Xt)}();h=function s2(n,e,t){return new o2(n,e,t)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=tO(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,h]=tO(i);return this._timelineEngine.listen(u,t,h,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let I2=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kc(this._element,this._initialStyles),this._endStyles&&(Kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pm(this._element,this._endStyles),this._endStyles=null),Kc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kx(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];S2(r)&&(e=e||{},e[r]=n[r])}return e}function S2(n){return"display"===n||"position"===n}class MO{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:mO(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class T2{validateStyleProperty(e){return sO(e)}matchesElement(e,t){return!1}containsElement(e,t){return oO(e,t)}getParentElement(e){return fx(e)}query(e,t,i){return aO(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b={},E=u.filter(O=>O instanceof MO);(function MB(n,e){return 0===n||0===e})(i,r)&&E.forEach(O=>{let L=O.currentSnapshot;Object.keys(L).forEach(U=>b[U]=L[U])}),t=function kB(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],u=[];if(i.forEach(h=>{a.hasOwnProperty(h)||u.push(h),a[h]=t[h]}),u.length)for(var r=1;r<e.length;r++){let h=e[r];u.forEach(function(_){h[_]=mO(n,_)})}}return e}(e,t=t.map(O=>vf(O,!1)),b);const T=function D2(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=kx(e[0]),e.length>1&&(i=kx(e[e.length-1]))):e&&(t=kx(e)),t||i?new I2(n,t,i):null}(e,t);return new MO(e,t,_,T)}}let A2=(()=>{class n extends KR{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?YR(t):t;return kO(this._renderer,null,i,"register",[r]),new x2(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class x2 extends class BV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new M2(this._id,e,t||{},this._renderer)}}class M2{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return kO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function kO(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const RO="@.disabled";let k2=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const h=null==u?void 0:u.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(a);return E||(E=new OO("",a,this.engine),this._rendererCache.set(a,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const _=E=>{Array.isArray(E)?E.forEach(_):this.engine.registerTrigger(u,h,t,E.name,E)};return i.data.animation.forEach(_),new R2(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(GI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class OO{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==RO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class R2 extends OO{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==RO?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function O2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function P2(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let N2=(()=>{class n extends GI{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(px),l.LFG(Ix))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const bf=new l.OlP("AnimationModuleType"),PO=[{provide:KR,useClass:A2},{provide:Ix,useFactory:function F2(){return new JB}},{provide:GI,useClass:N2},{provide:l.FYo,useFactory:function L2(n,e,t){return new k2(n,e,t)},deps:[Mo,GI,l.R0b]}],NO=[{provide:px,useFactory:()=>new T2},{provide:bf,useValue:"BrowserAnimations"},...PO],V2=[{provide:px,useClass:lO},{provide:bf,useValue:"NoopAnimations"},...PO];let B2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?V2:NO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:NO,imports:[ma]}),n})();const U2=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function H2(){return(0,l.f3M)(ie)}}),j2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Rx,Fm=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function G2(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?j2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U2,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{Rx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Rx=!1}let cy,qr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?li(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Rx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VO(){if(cy)return cy;if("object"!=typeof document||!document)return cy=new Set(LO),cy;let n=document.createElement("input");return cy=new Set(LO.filter(e=>(n.setAttribute("type",e),n.type===e))),cy}let Gw,qI,Lm,Ox;function zI(n){return function $2(){if(null==Gw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gw=!0}))}finally{Gw=Gw||!1}return Gw}()?n:!!n.capture}function BO(){if(null==Lm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Lm=!1,Lm;if("scrollBehavior"in document.documentElement.style)Lm=!0;else{const n=Element.prototype.scrollTo;Lm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Lm}function $w(){if("object"!=typeof document||!document)return 0;if(null==qI){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),qI=0,0===n.scrollLeft&&(n.scrollLeft=1,qI=0===n.scrollLeft?1:2),n.remove()}return qI}function Vm(n){return n.composedPath?n.composedPath()[0]:n.target}function Px(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function wf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function zw(n,e=ul.z){return(0,wn.e)((t,i)=>{let r=null,a=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,E=e.now();if(E<b)return r=this.schedule(void 0,b-E),void i.add(r);h()}t.subscribe((0,Tn.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{a=r=null}))})}function GO(n){return Ft((e,t)=>n<=t)}var Fx=P(5032);function rn(n){return(0,wn.e)((e,t)=>{(0,Os.Xf)(n).subscribe((0,Tn.x)(t,()=>t.complete(),Fx.Z)),!t.closed&&e.subscribe(t)})}function gn(n){return null!=n&&"false"!=`${n}`}function qw(n,e=0){return function rU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function QI(n){return Array.isArray(n)?n:[n]}function Ji(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _d(n){return n instanceof l.SBq?n.nativeElement:n}class aU extends class qO{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _t.x,this._typeaheadSubscription=yi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new _t.x,this.change=new _t.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,vi.b)(t=>this._pressedLetters.push(t)),zw(e),Ft(()=>this._pressedLetters.length>0),(0,tt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||wf(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let ZO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function uU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function cU(n){try{return n.frameElement}catch(e){return null}}(function yU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===KO(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=KO(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function gU(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function _U(n){return!function hU(n){return function pU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function dU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function fU(n){return function mU(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||WO(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function KO(n){if(!WO(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class vU{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(fn(1)).subscribe(e)}}let bU=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new vU(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ZO),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function QO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const wU=new l.OlP("cdk-input-modality-detector-options"),CU={ignoreKeys:[18,17,224,91,16]},uy=zI({passive:!0,capture:!0});let EU=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new ar(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,_;(null===(_=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Vm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(YO(u)?"keyboard":"mouse"),this._mostRecentTarget=Vm(u))},this._onTouchstart=u=>{QO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vm(u))},this._options=Object.assign(Object.assign({},CU),a),this.modalityDetected=this._modality.pipe(GO(1)),this.modalityChanged=this.modalityDetected.pipe(kg()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,uy),r.addEventListener("mousedown",this._onMousedown,uy),r.addEventListener("touchstart",this._onTouchstart,uy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,uy),document.removeEventListener("mousedown",this._onMousedown,uy),document.removeEventListener("touchstart",this._onTouchstart,uy))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qr),l.LFG(l.R0b),l.LFG(ie),l.LFG(wU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DU=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function IU(){return null}}),SU=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let TU=(()=>{class n{constructor(t,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(DU,8),l.LFG(l.R0b),l.LFG(ie),l.LFG(SU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AU=new l.OlP("cdk-focus-monitor-default-options"),XI=zI({passive:!0,capture:!0});let Lx=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _t.x,this._rootNodeFocusAndBlurListener=h=>{const _=Vm(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let E=_;E;E=E.parentElement)b.call(this,h,E)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=_d(t);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const a=function q2(n){if(function z2(){if(null==Ox){const n="undefined"!=typeof document?document.head:null;Ox=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ox}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new _t.x,rootNode:a};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=_d(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=_d(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Vm(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,XI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,XI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(rn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,XI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,XI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(qr),l.LFG(EU),l.LFG(ie,8),l.LFG(AU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JO="cdk-high-contrast-black-on-white",e1="cdk-high-contrast-white-on-black",Vx="cdk-high-contrast-active";let xU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Vx),t.remove(JO),t.remove(e1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(Vx),t.add(JO)):2===i&&(t.add(Vx),t.add(e1))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qr),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MU(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function kU(n,e){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const RU=["*"],PU=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function OU(){return!0}});let xn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Px()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xU),l.LFG(PU,8),l.LFG(ie))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[jw],jw]}),n})();function Bx(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e)}}}function JI(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function dy(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=gn(e)}}}function NU(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?qw(t):this.defaultTabIndex}}}function n1(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new _t.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Ux=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Zw(n,e,t){n.nativeElement.classList.toggle(e,t)}let o1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})();class LU{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const a1={enterDuration:225,exitDuration:150},Hx=zI({passive:!0}),l1=["mousedown","touchstart"],c1=["mouseup","mouseleave","touchend","touchcancel"];class BU{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_d(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},a1),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function HU(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,_=t-r.top,b=a.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=_-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(E),function UU(n){window.getComputedStyle(n).getPropertyValue("opacity")}(E),E.style.transform="scale(1)";const T=new LU(this,E,i);return T.state=0,this._activeRipples.add(T),i.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const O=T===this._mostRecentTransientRipple;T.state=1,!i.persistent&&(!O||!this._isPointerDown)&&T.fadeOut()},b),T}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},a1),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_d(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(l1))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(c1),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=YO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!QO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Hx)})})}_removeTriggerEvents(){this._triggerElement&&(l1.forEach(e=>{this._triggerElement.removeEventListener(e,this,Hx)}),this._pointerUpEventsRegistered&&c1.forEach(e=>{this._triggerElement.removeEventListener(e,this,Hx)}))}}const jU=new l.OlP("mat-ripple-global-options");let Ww=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new BU(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(qr),l.Y36(jU,8),l.Y36(bf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})(),u1=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bf,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn]]}),n})();const d1=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),h1=new l.OlP("MatOptgroup");let GU=0;class $U{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let zU=(()=>{class n{constructor(t,i,r,a){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+GU++,this.onSelectionChange=new l.vpe,this._stateChanges=new _t.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=gn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!wf(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new $U(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),$x=(()=>{class n extends zU{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(d1,8),l.Y36(h1,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:RU,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,MU,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,kU,2,1,"span",2),l._UZ(4,"div",3)),2&t&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[u1,En,Ww],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function f1(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}let p1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[jx,So,xn,Gx]]}),n})();const ZU=["*",[["mat-card-footer"]]],WU=["*","mat-card-footer"],KU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],YU=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Wx=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),Yx=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bf,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:WU,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(ZU),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),Qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:YU,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,i){1&t&&(l.F$t(KU),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),QU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})(),m1=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=_d(t);return new nn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new _t.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(m1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JU=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=qw(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(zw(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(XU),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),eH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[m1]}),n})();var tH=P(1144);const nH=["addListener","removeListener"],iH=["addEventListener","removeEventListener"],rH=["on","off"];function Cf(n,e,t,i){if((0,$n.m)(t)&&(i=t,t=void 0),i)return Cf(n,e,t).pipe(Kl(i));const[r,a]=function aH(n){return(0,$n.m)(n.addEventListener)&&(0,$n.m)(n.removeEventListener)}(n)?iH.map(u=>h=>n[u](e,h,t)):function sH(n){return(0,$n.m)(n.addListener)&&(0,$n.m)(n.removeListener)}(n)?nH.map(g1(n,e)):function oH(n){return(0,$n.m)(n.on)&&(0,$n.m)(n.off)}(n)?rH.map(g1(n,e)):[];if(!r&&(0,tH.z)(n))return(0,zn.z)(u=>Cf(u,e,t))((0,Os.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new nn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>a(h)})}function g1(n,e){return t=>i=>n[t](e,i)}const lH=["connectionContainer"],cH=["inputContainer"],uH=["label"];function dH(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function hH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function fH(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function pH(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function mH(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function gH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.YNc(2,fH,4,1,"ng-container",12),l.YNc(3,pH,1,0,"ng-content",12),l.YNc(4,mH,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function _H(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function yH(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function vH(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function bH(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function wH(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,bH,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const CH=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],EH=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],DH=new l.OlP("MatError"),IH={transitionMessages:II("transitionMessages",[sy("enter",Wc({opacity:1,transform:"translateY(0%)"})),oy("void => enter",[Wc({opacity:0,transform:"translateY(-5px)"}),Vw("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let eS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const SH=new l.OlP("MatHint");let tS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const AH=new l.OlP("MatPrefix"),xH=new l.OlP("MatSuffix");let _1=0;const kH=JI(class{constructor(n){this._elementRef=n}},"primary"),RH=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Xx=new l.OlP("MatFormField");let v1=(()=>{class n extends kH{constructor(t,i,r,a,u,h,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _t.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+_1++,this._labelId="mat-form-field-label-"+_1++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=gn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Nn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(rn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(rn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,md.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Nn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Nn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(rn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Cf(this._label.nativeElement,"transitionend").pipe(fn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const E=i.querySelectorAll(`${r}, ${a}`);for(let T=0;T<E.length;T++)E[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const E=i.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(E),O=t.children,L=this._getStartEnd(O[0].getBoundingClientRect());let U=0;for(let X=0;X<O.length;X++)U+=O[X].offsetWidth;u=Math.abs(L-T)-5,h=U>0?.75*U+10:0}for(let E=0;E<_.length;E++)_[E].style.width=`${u}px`;for(let E=0;E<b.length;E++)b[E].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Fm,8),l.Y36(RH,8),l.Y36(qr),l.Y36(l.R0b),l.Y36(bf,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,eS,5),l.Suo(r,eS,7),l.Suo(r,tS,5),l.Suo(r,tS,7),l.Suo(r,TH,5),l.Suo(r,DH,5),l.Suo(r,SH,5),l.Suo(r,AH,5),l.Suo(r,xH,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(i._controlStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._placeholderChild=a.first),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(l.Gf(lH,7),l.Gf(cH,5),l.Gf(uH,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Xx,useExisting:n}]),l.qOj],ngContentSelectors:EH,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(CH),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(3,dH,9,0,"ng-container",3),l.YNc(4,hH,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,gH,5,16,"label",8),l.qZA()(),l.YNc(10,_H,2,0,"div",9),l.qZA(),l.YNc(11,yH,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,vH,2,1,"div",12),l.YNc(14,wH,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[En,JU,Si,yr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[IH.transitionMessages]},changeDetection:0}),n})(),nS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[So,xn,eH],xn]}),n})();function b1(...n){const e=(0,Ya.jO)(n),{args:t,keys:i}=Pn(n),r=new nn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const h=new Array(u);let _=u,b=u;for(let E=0;E<u;E++){let T=!1;(0,Os.Xf)(t[E]).subscribe((0,Tn.x)(a,O=>{T||(T=!0,b--),h[E]=O},()=>_--,void 0,()=>{(!_||!T)&&(b||a.next(i?Xa(i,h):h),a.complete())}))}});return e?r.pipe(Kl(e)):r}let w1=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Bm=(()=>{class n extends w1{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Rl=new l.OlP("NgValueAccessor"),PH={provide:Rl,useExisting:(0,l.Gpc)(()=>Kw),multi:!0},FH=new l.OlP("CompositionEventMode");let Kw=(()=>{class n extends w1{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function NH(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(FH,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([PH]),l.qOj]}),n})();function Ef(n){return null==n||0===n.length}function E1(n){return null!=n&&"number"==typeof n.length}const Cs=new l.OlP("NgValidators"),Df=new l.OlP("NgAsyncValidators"),LH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class D1{static min(e){return function I1(n){return e=>{if(Ef(e.value)||Ef(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function S1(n){return e=>{if(Ef(e.value)||Ef(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function T1(n){return Ef(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function A1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function x1(n){return Ef(n.value)||LH.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function M1(n){return e=>Ef(e.value)||!E1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function k1(n){return e=>E1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function R1(n){if(!n)return iS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ef(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return V1(e)}static composeAsync(e){return B1(e)}}function iS(n){return null}function O1(n){return null!=n}function P1(n){const e=(0,l.QGY)(n)?(0,an.D)(n):n;return(0,l.CqO)(e),e}function N1(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function F1(n,e){return e.map(t=>t(n))}function L1(n){return n.map(e=>function VH(n){return!n.validate}(e)?e:t=>e.validate(t))}function V1(n){if(!n)return null;const e=n.filter(O1);return 0==e.length?null:function(t){return N1(F1(t,e))}}function Jx(n){return null!=n?V1(L1(n)):null}function B1(n){if(!n)return null;const e=n.filter(O1);return 0==e.length?null:function(t){return b1(F1(t,e).map(P1)).pipe((0,tt.U)(N1))}}function eM(n){return null!=n?B1(L1(n)):null}function U1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function H1(n){return n._rawValidators}function j1(n){return n._rawAsyncValidators}function tM(n){return n?Array.isArray(n)?n:[n]:[]}function rS(n,e){return Array.isArray(n)?n.includes(e):n===e}function G1(n,e){const t=tM(e);return tM(n).forEach(r=>{rS(t,r)||t.push(r)}),t}function $1(n,e){return tM(e).filter(t=>!rS(n,t))}class z1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yc extends z1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class js extends z1{get formDirective(){return null}get path(){return null}}let nM=(()=>{class n extends class q1{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})();function Yw(n,e){sM(n,e),e.valueAccessor.writeValue(n.value),function ZH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&W1(n,e)})}(n,e),function KH(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function WH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&W1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qH(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function aS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),cS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sM(n,e){const t=H1(n);null!==e.validator?n.setValidators(U1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=j1(n);null!==e.asyncValidator?n.setAsyncValidators(U1(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();lS(e._rawValidators,r),lS(e._rawAsyncValidators,r)}function cS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=H1(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=j1(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return lS(e._rawValidators,i),lS(e._rawAsyncValidators,i),t}function W1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function K1(n,e){sM(n,e)}function Q1(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function lM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qw="VALID",uS="INVALID",hy="PENDING",Xw="DISABLED";function uM(n){return(dS(n)?n.validators:n)||null}function X1(n){return Array.isArray(n)?Jx(n):n||null}function dM(n,e){return(dS(e)?e.asyncValidators:n)||null}function J1(n){return Array.isArray(n)?eM(n):n||null}function dS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const eP=n=>n instanceof rP,hM=n=>n instanceof pM;function tP(n){return eP(n)?n.value:n.getRawValue()}function nP(n,e){const t=hM(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")}function iP(n,e){hM(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})}class fM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=X1(this._rawValidators),this._composedAsyncValidatorFn=J1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qw}get invalid(){return this.status===uS}get pending(){return this.status==hy}get disabled(){return this.status===Xw}get enabled(){return this.status!==Xw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=X1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=J1(e)}addValidators(e){this.setValidators(G1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(G1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($1(e,this._rawAsyncValidators))}hasValidator(e){return rS(this._rawValidators,e)}hasAsyncValidator(e){return rS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xw,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qw,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qw||this.status===hy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xw:Qw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hy,this._hasOwnPendingAsyncValidator=!0;const t=P1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function JH(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=hM(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof tj)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Xw:this.errors?uS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hy)?hy:this._anyControlsHaveStatus(uS)?uS:Qw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class rP extends fM{constructor(e=null,t,i){super(uM(t),dM(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dS(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pM extends fM{constructor(e,t,i){super(uM(t),dM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){iP(this,e),Object.keys(e).forEach(i=>{nP(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=tP(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class tj extends fM{constructor(e,t,i){super(uM(t),dM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){iP(this,e),e.forEach((i,r)=>{nP(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>tP(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const nj={provide:js,useExisting:(0,l.Gpc)(()=>e0)},Jw=(()=>Promise.resolve(null))();let e0=(()=>{class n extends js{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new pM({},Jx(t),eM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Yw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Jw.then(()=>{const i=this._findContainer(t.path),r=new pM({});K1(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Jw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Q1(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cs,10),l.Y36(Df,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([nj]),l.qOj]}),n})();const rj={provide:Yc,useExisting:(0,l.Gpc)(()=>hS)},aP=(()=>Promise.resolve(null))();let hS=(()=>{class n extends Yc{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new rP,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function aM(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Kw?t=a:function XH(n){return Object.getPrototypeOf(n.constructor)===Bm}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function oM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){aP.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;aP.then(()=>{var a;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function oS(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(js,9),l.Y36(Cs,10),l.Y36(Df,10),l.Y36(Rl,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([rj]),l.qOj,l.TTD]}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const dj={provide:js,useExisting:(0,l.Gpc)(()=>t0)};let t0=(()=>{class n extends js{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Yw(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){aS(t.control||null,t,!1),lM(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Q1(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(aS(i||null,t),eP(r)&&(Yw(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);K1(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function YH(n,e){return cS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sM(this.form,this),this._oldForm&&cS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cs,10),l.Y36(Df,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([dj]),l.qOj,l.TTD]}),n})(),Mj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[cP]]}),n})(),kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Mj]}),n})();const TP=zI({passive:!0});let Rj=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return lr.E;const i=_d(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new _t.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,TP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",h,TP)}}),a}stopMonitoring(t){const i=_d(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Oj=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),Pj=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Nj=0;const Fj=n1(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let xP=(()=>{class n extends Fj{constructor(t,i,r,a,u,h,_,b,E,T){super(h,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=b,this._formField=T,this._uid="mat-input-"+Nj++,this.focused=!1,this.stateChanges=new _t.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>VO().has(U)),this._iOSKeyupListener=U=>{const X=U.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=gn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(D1.required))&&void 0!==a&&a}set required(t){this._required=gn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&VO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=gn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=r,r?a.setAttribute("placeholder",r):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Pj.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(qr),l.Y36(Yc,10),l.Y36(e0,8),l.Y36(t0,8),l.Y36(Ux),l.Y36(Oj,10),l.Y36(Rj),l.Y36(l.R0b),l.Y36(Xx,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:eS,useExisting:n}]),l.qOj,l.TTD]}),n})(),Lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ux],imports:[[AP,nS,xn],AP,nS]}),n})();var MP=P(4408);const n0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=n0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new yi.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=n0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=n0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var kP=P(7565);new class Bj extends kP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Vj extends MP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=n0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(n0.cancelAnimationFrame(t),e._scheduled=void 0)}});let bM,Hj=1;const fS={};function RP(n){return n in fS&&(delete fS[n],!0)}const jj={setImmediate(n){const e=Hj++;return fS[e]=!0,bM||(bM=Promise.resolve()),bM.then(()=>RP(e)&&n()),e},clearImmediate(n){RP(n)}},{setImmediate:Gj,clearImmediate:$j}=jj,pS={setImmediate(...n){const{delegate:e}=pS;return((null==e?void 0:e.setImmediate)||Gj)(...n)},clearImmediate(n){const{delegate:e}=pS;return((null==e?void 0:e.clearImmediate)||$j)(n)},delegate:void 0};new class qj extends kP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class zj extends MP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=pS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(pS.clearImmediate(t),e._scheduled=void 0)}});var Kj=P(3532);function OP(n=0,e,t=ul.P){let i=-1;return null!=e&&((0,Kj.K)(e)?t=e:i=e),new nn.y(r=>{let a=function Yj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function PP(n,e=ul.z){return function Wj(n){return(0,wn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const h=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,Tn.x)(t,b=>{i=!0,r=b,a||(0,Os.Xf)(n(b)).subscribe(a=(0,Tn.x)(t,h,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>OP(n,e))}let mS=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new _t.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new nn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(PP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ft(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=_d(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Cf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(qr),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r0=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new _t.x,this._elementScrolled=new nn.y(u=>this.ngZone.runOutsideAngular(()=>Cf(this.elementRef.nativeElement,"scroll").pipe(rn(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=$w()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==$w()?t.left=t.right:1==$w()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;BO()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==$w()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==$w()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(mS),l.Y36(l.R0b),l.Y36(Fm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),s0=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new _t.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(PP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qr),l.LFG(l.R0b),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),wM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[jw,o0],jw,o0]}),n})();class CM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Jj extends CM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class NP extends CM{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class e3 extends CM{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class n3 extends class t3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Jj?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof NP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof e3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let i3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const FP=BO();class s3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ji(-this._previousScrollPosition.left),e.style.top=Ji(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),FP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FP&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class o3{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LP{enable(){}disable(){}attach(){}}function EM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function VP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class a3{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();EM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let l3=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new LP,this.close=u=>new o3(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new s3(this._viewportRuler,this._document),this.reposition=u=>new a3(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mS),l.LFG(s0),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BP{constructor(e){if(this.scrollStrategy=new LP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class c3{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class u3{constructor(e,t,i,r,a,u,h,_,b){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new _t.x,this._attachments=new _t.x,this._detachments=new _t.x,this._locationChanges=yi.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new _t.x,this._outsidePointerEvents=new _t.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(fn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ji(this._config.width),e.height=Ji(this._config.height),e.minWidth=Ji(this._config.minWidth),e.minHeight=Ji(this._config.minHeight),e.maxWidth=Ji(this._config.maxWidth),e.maxHeight=Ji(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=QI(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(rn((0,md.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let UP=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Px()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),Px()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(qr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HP="cdk-overlay-connected-position-bounding-box",d3=/([A-Za-z%]+)$/;class h3{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _t.x,this._resizeSubscription=yi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(HP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(e,r,h),b=this._getOverlayPoint(_,t,h),E=this._getOverlayFit(b,t,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(E,b,i)?a.push({position:h,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:b,originPoint:_,position:h,overlayRect:t})}if(a.length){let h=null,_=-1;for(const b of a){const E=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);E>_&&(_=E,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?u:h}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=GP(t);let{x:u,y:h}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(h+=b);let O=0-h,L=h+a.height-i.height,U=this._subtractOverflows(a.width,0-u,u+a.width-i.width),X=this._subtractOverflows(a.height,O,L),le=U*X;return{visibleArea:le,isCompletelyWithinViewport:a.width*a.height===le,fitsInViewportVertically:X===a.height,fitsInViewportHorizontally:U==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=jP(this._overlayRef.getConfig().minHeight),h=jP(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=h&&h<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=GP(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),h=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let E=0,T=0;return E=r.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,T=r.height<=a.height?_||-h:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:E,y:T},{x:e.x+E,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new c3(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,h,E,T,O;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,a=i.height-h+this._viewportMargin;else{const L=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;a=2*L,u=e.y-L,a>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=i.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)T=e.x,E=i.right-e.x;else{const L=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;E=2*L,T=e.x-L,E>U&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-U/2)}return{top:u,left:T,bottom:h,right:O,width:E,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Ji(i.height),r.top=Ji(i.top),r.bottom=Ji(i.bottom),r.width=Ji(i.width),r.left=Ji(i.left),r.right=Ji(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Ji(a)),u&&(r.maxWidth=Ji(u))}this._lastBoundingBoxSize=i,Hm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Hm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();Hm(i,this._getExactOverlayY(t,e,E)),Hm(i,this._getExactOverlayX(t,e,E))}else i.position="static";let h="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Ji(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Ji(u.maxWidth):a&&(i.maxWidth="")),Hm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Ji(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Ji(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VP(e,i),isOriginOutsideView:EM(e,i),isOverlayClipped:VP(t,i),isOverlayOutsideView:EM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&QI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Hm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function jP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(d3);return t&&"px"!==t?null:parseFloat(e)}return n||null}function GP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $P="cdk-global-overlay-wrapper";class f3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add($P),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove($P),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let p3=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new f3}flexibleConnectedTo(t){return new h3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(s0),l.LFG(ie),l.LFG(qr),l.LFG(UP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m3=(()=>{class n extends zP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const h=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g3=(()=>{class n extends zP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Vm(a)},this._clickListener=a=>{const u=Vm(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const E=_[b];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const T=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(a)):T.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(qr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_3=0,gS=(()=>{class n{constructor(t,i,r,a,u,h,_,b,E,T,O){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=b,this._directionality=E,this._location=T,this._outsideClickDispatcher=O}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new BP(t);return u.direction=u.direction||this._directionality.value,new u3(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+_3++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new n3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l3),l.LFG(UP),l.LFG(l._Vd),l.LFG(p3),l.LFG(m3),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ie),l.LFG(Fm),l.LFG(ye),l.LFG(g3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const y3=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],qP=new l.OlP("cdk-connected-overlay-scroll-strategy");let ZP=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),WP=(()=>{class n{constructor(t,i,r,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=yi.w0.EMPTY,this._attachSubscription=yi.w0.EMPTY,this._detachSubscription=yi.w0.EMPTY,this._positionSubscription=yi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new NP(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=gn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=gn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=gn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=gn(t)}get push(){return this._push}set push(t){this._push=gn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=y3);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!wf(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new BP({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ZP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function r3(n,e=!1){return(0,wn.e)((t,i)=>{let r=0;t.subscribe((0,Tn.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gS),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(qP),l.Y36(Fm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const b3={provide:qP,deps:[gS],useFactory:function v3(n){return()=>n.scrollStrategies.reposition()}};let w3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gS,b3],imports:[[jw,i3,wM],wM]}),n})();class IM{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new _t.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const C3=["trigger"],E3=["panel"];function D3(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function I3(n,e){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function S3(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function T3(n,e){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,I3,2,1,"span",10),l.YNc(2,S3,1,0,"ng-content",11),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function A3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){return l.CHM(t),l.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return l.CHM(t),l.oxw()._handleKeydown(r)}),l.Hsn(3,1),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",t._getPanelTheme(),""),l.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),l.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const x3=[[["mat-select-trigger"]],"*"],M3=["mat-select-trigger","*"],QP={transformPanelWrap:II("transformPanelWrap",[oy("* => void",HV("@transformPanel",[UV()],{optional:!0}))]),transformPanel:II("transformPanel",[sy("void",Wc({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),sy("showing",Wc({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),sy("showing-multiple",Wc({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),oy("void => *",Vw("120ms cubic-bezier(0, 0, 0.2, 1)")),oy("* => void",Vw("100ms 25ms linear",Wc({opacity:0})))])};let XP=0;const eN=new l.OlP("mat-select-scroll-strategy"),P3=new l.OlP("MAT_SELECT_CONFIG"),N3={provide:eN,deps:[gS],useFactory:function O3(n){return()=>n.scrollStrategies.reposition()}};class F3{constructor(e,t){this.source=e,this.value=t}}const L3=dy(NU(Bx(n1(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),V3=new l.OlP("MatSelectTrigger");let B3=(()=>{class n extends L3{constructor(t,i,r,a,u,h,_,b,E,T,O,L,U,X){var le,$e,Ye;super(u,a,_,b,T),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=E,this._liveAnnouncer=U,this._defaultOptions=X,this._panelOpen=!1,this._compareWith=(ze,Ue)=>ze===Ue,this._uid="mat-select-"+XP++,this._triggerAriaLabelledBy=null,this._destroy=new _t.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+XP++,this._panelDoneAnimatingStream=new _t.x,this._overlayPanelClass=(null===(le=this._defaultOptions)||void 0===le?void 0:le.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ye=null===($e=this._defaultOptions)||void 0===$e?void 0:$e.disableOptionCentering)&&void 0!==Ye&&Ye,this.ariaLabel="",this.optionSelectionChanges=lo(()=>{const ze=this.options;return ze?ze.changes.pipe(Nn(ze),ln(()=>(0,md.T)(...ze.map(Ue=>Ue.onSelectionChange)))):this._ngZone.onStable.pipe(fn(1),ln(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(Ft(ze=>ze),(0,tt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Ft(ze=>!ze),(0,tt.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==X?void 0:X.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=X.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(D1.required))&&void 0!==a&&a}set required(t){this._required=gn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=gn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=gn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=qw(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new IM(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(kg(),rn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(rn(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Nn(null),rn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!wf(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(t);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||wf(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(t),this._multiple&&a&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(fn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(a){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new aU(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(rn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(rn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,md.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(rn(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,md.T)(...this.options.map(i=>i._stateChanges)).pipe(rn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(s0),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Ux),l.Y36(l.SBq),l.Y36(Fm,8),l.Y36(e0,8),l.Y36(t0,8),l.Y36(Xx,8),l.Y36(Yc,10),l.$8M("tabindex"),l.Y36(eN),l.Y36(TU),l.Y36(P3,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(C3,5),l.Gf(E3,5),l.Gf(WP,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),tN=(()=>{class n extends B3{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-i+a/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(rn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(fn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=f1(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function qU(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new F3(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const h=0-(t.left+u-(r?a:0)),_=t.right+u-i.width+(r?0:a);h>0?u+=h+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,h=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*a:this._scrollTop===r?(t-(this._getItemCount()-h))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):h>a?this._adjustPanelDown(h,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const a=Math.round(t-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),u=i*t-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=f1(h,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(h,_,u),this._offsetY=this._calculateOverlayOffsetY(h,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,V3,5),l.Suo(r,$x,5),l.Suo(r,h1,5)),2&t){let a;l.iGM(a=l.CRH())&&(i.customTrigger=a.first),l.iGM(a=l.CRH())&&(i.options=a),l.iGM(a=l.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:eS,useExisting:n},{provide:d1,useExisting:n}]),l.qOj],ngContentSelectors:M3,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(l.F$t(x3),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,D3,2,1,"span",3),l.YNc(5,T3,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,A3,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[ZP,Si,yr,ja,WP,Ts],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[QP.transformPanelWrap,QP.transformPanel]},changeDetection:0}),n})(),U3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[N3],imports:[[So,w3,p1,xn],o0,nS,p1,xn]}),n})();const H3=["mat-button",""],j3=["*"],$3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],z3=JI(Bx(dy(class{constructor(n){this._elementRef=n}})));let SM=(()=>{class n extends z3{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of $3)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Lx),l.Y36(bf,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(Ww,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:H3,ngContentSelectors:j3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Ww],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[jx,xn],xn]}),n})(),nN=(()=>{class n{constructor(t){this.fs=t}click_submit(){this.fs.collection("car").doc(this.car_id).set({car_id:this.car_id,brand:this.brand,color:this.color,type:this.type}),this.car_id=null,this.brand=null,this.color=null,this.type=null}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-page01"]],decls:69,vars:4,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","white"],["value","purple"],["value","blue"],["value","black"],["value","red"],["value","gold"],["value","silver"],["value","toyota"],["value","mcloren"],["value","lambo"],["value","benz"],["value","bmw"],["value","honda"],["value","suv"],["value","pickup"],["value","truck"],["value","van"],["value","limo"],["value","sportcar"],["mat-button","",3,"click"],["mat-button",""]],template:function(t,i){1&t&&(l.TgZ(0,"mat-card",0)(1,"mat-card-header"),l._UZ(2,"div",1),l.TgZ(3,"mat-card-title"),l._uU(4,"Car-info-system"),l.qZA(),l.TgZ(5,"mat-card-subtitle"),l._uU(6,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e23\u0e16"),l.qZA()(),l.TgZ(7,"mat-card-content")(8,"mat-form-field",2)(9,"mat-label"),l._uU(10,"Input Car ID"),l.qZA(),l.TgZ(11,"input",3),l.NdJ("ngModelChange",function(a){return i.car_id=a}),l.qZA()(),l.TgZ(12,"mat-form-field",2)(13,"mat-label"),l._uU(14,"Select color"),l.qZA(),l.TgZ(15,"mat-select",4),l.NdJ("ngModelChange",function(a){return i.color=a}),l.TgZ(16,"mat-option",5),l._uU(17,"white"),l.qZA(),l.TgZ(18,"mat-option",6),l._uU(19,"purple"),l.qZA(),l.TgZ(20,"mat-option",7),l._uU(21,"Blue"),l.qZA(),l.TgZ(22,"mat-option",8),l._uU(23,"Black"),l.qZA(),l.TgZ(24,"mat-option",9),l._uU(25,"red"),l.qZA(),l.TgZ(26,"mat-option",10),l._uU(27,"Gold"),l.qZA(),l.TgZ(28,"mat-option",11),l._uU(29,"Silver"),l.qZA()()(),l.TgZ(30,"mat-form-field",2)(31,"mat-label"),l._uU(32,"Select Brand"),l.qZA(),l.TgZ(33,"mat-select",4),l.NdJ("ngModelChange",function(a){return i.brand=a}),l.TgZ(34,"mat-option",12),l._uU(35,"toyota"),l.qZA(),l.TgZ(36,"mat-option",13),l._uU(37,"Mclaren"),l.qZA(),l.TgZ(38,"mat-option",14),l._uU(39,"lambo"),l.qZA(),l.TgZ(40,"mat-option",15),l._uU(41,"benz"),l.qZA(),l.TgZ(42,"mat-option",16),l._uU(43,"bmw"),l.qZA(),l.TgZ(44,"mat-option",17),l._uU(45,"honda"),l.qZA()()(),l.TgZ(46,"mat-form-field",2)(47,"mat-label"),l._uU(48,"Select type"),l.qZA(),l.TgZ(49,"mat-select",4),l.NdJ("ngModelChange",function(a){return i.type=a}),l.TgZ(50,"mat-option",18),l._uU(51,"suv"),l.qZA(),l.TgZ(52,"mat-option",19),l._uU(53,"pickup"),l.qZA(),l.TgZ(54,"mat-option",20),l._uU(55,"truck"),l.qZA(),l.TgZ(56,"mat-option",21),l._uU(57,"van"),l.qZA(),l.TgZ(58,"mat-option",22),l._uU(59,"limo"),l.qZA(),l.TgZ(60,"mat-option",23),l._uU(61,"SportCar"),l.qZA(),l.TgZ(62,"mat-option",23),l._uU(63,"SuperCar"),l.qZA()()()(),l.TgZ(64,"mat-card-actions")(65,"button",24),l.NdJ("click",function(){return i.click_submit()}),l._uU(66,"submit"),l.qZA(),l.TgZ(67,"button",25),l._uU(68,"reset"),l.qZA()()()),2&t&&(l.xp6(11),l.Q6J("ngModel",i.car_id),l.xp6(4),l.Q6J("ngModel",i.color),l.xp6(18),l.Q6J("ngModel",i.brand),l.xp6(16),l.Q6J("ngModel",i.type))},directives:[Yx,Qx,Kx,qx,Zx,zx,v1,tS,xP,Kw,nM,hS,tN,$x,Wx,SM],styles:[".example-card[_ngcontent-%COMP%]{max-width:600px;margin-right:auto;margin-left:auto;background-color:#d28ee7}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.imgur.com/hpAFR37.png);background-size:cover}"]}),n})();function Z3(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.car_id),l.xp6(2),l.Oqu(t.brand),l.xp6(2),l.Oqu(t.color),l.xp6(2),l.Oqu(t.type)}}let W3=(()=>{class n{constructor(t){this.fs=t}ngOnInit(){this.car=this.fs.collection("car").valueChanges(),console.log(this.car)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-page02"]],decls:26,vars:3,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"page02 works!"),l.qZA(),l._UZ(2,"p"),l.TgZ(3,"mat-card",0)(4,"mat-card-header"),l._UZ(5,"div",1),l.TgZ(6,"mat-card-title"),l._uU(7,"Car-info-system"),l.qZA(),l.TgZ(8,"mat-card-subtitle"),l._uU(9,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e23\u0e16"),l.qZA()(),l.TgZ(10,"mat-card-content")(11,"table")(12,"thead")(13,"tr")(14,"th"),l._uU(15,"Car_id"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Brand"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Color"),l.qZA(),l.TgZ(20,"th"),l._uU(21,"type"),l.qZA()()(),l.TgZ(22,"tbody"),l.YNc(23,Z3,9,4,"tr",2),l.ALo(24,"async"),l.qZA()()(),l._UZ(25,"mat-card-actions"),l.qZA()),2&t&&(l.xp6(23),l.Q6J("ngForOf",l.lcZ(24,1,i.car)))},directives:[Yx,Qx,Kx,qx,Zx,zx,ni,Wx],pipes:[nu],styles:[".example-card[_ngcontent-%COMP%]{max-width:600px;margin-right:auto;margin-left:auto;background-color:#ce98ea}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.imgur.com/hpAFR37.png);background-size:cover}table[_ngcontent-%COMP%]{width:100%;border:1px solid black}td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid black}tr[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();const iN="firebasestorage.googleapis.com",rN="storageBucket";class Ci extends Mt.ZR{constructor(e,t){super(TM(e),`Firebase Storage: ${t} (${TM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}_codeEquals(e){return TM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function TM(n){return"storage/"+n}function AM(){return new Ci("unknown","An unknown error occurred, please check the error payload for server response.")}function sN(){return new Ci("canceled","User canceled the upload/download.")}function oN(){return new Ci("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function py(n){return new Ci("invalid-argument",n)}function aN(){return new Ci("app-deleted","The Firebase app was deleted.")}function lN(n){return new Ci("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function c0(n,e){return new Ci("invalid-format","String does not match format '"+n+"': "+e)}function u0(n){throw new Ci("internal-error","Internal error: "+n)}class Es{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Es.makeFromUrl(e,t)}catch(r){return new Es(e,"")}if(""===i.path)return i;throw function rG(n){return new Ci("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(Ue){Ue.path_=decodeURIComponent(Ue.path)}const T=t.replace(/[.]/g,"\\."),ze=[{regex:h,indices:{bucket:1,path:3},postModify:function a(Ue){"/"===Ue.path.charAt(Ue.path.length-1)&&(Ue.path_=Ue.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===iN?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Ue=0;Ue<ze.length;Ue++){const vt=ze[Ue],Et=vt.regex.exec(e);if(Et){let Fi=Et[vt.indices.path];Fi||(Fi=""),i=new Es(Et[vt.indices.bucket],Fi),vt.postModify(i);break}}if(null==i)throw function iG(n){return new Ci("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class lG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yS(n){return"string"==typeof n||n instanceof String}function cN(n){return xM()&&n instanceof Blob}function xM(){return"undefined"!=typeof Blob}function MM(n,e,t,i){if(i<e)throw py(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw py(`Invalid value for '${n}'. Expected ${t} or less.`)}function yd(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function uN(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var If=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(If||(If={})),If))();class pG{constructor(e,t,i,r,a,u,h,_,b,E,T){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=E,this.connectionFactory_=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,L)=>{this.resolve_=O,this.reject_=L,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function dG(n){return void 0!==n}(_)?a():a(_)}catch(_){u(_)}else if(null!==h){const _=AM();_.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,_):_)}else u(r.canceled?this.appDelete_?aN():sN():function nG(){return new Ci("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new vS(!1,null,!0)):this.backoffId_=function cG(n,e,t){let i=1,r=null,a=null,u=!1,h=0;function _(){return 2===h}let b=!1;function E(...le){b||(b=!0,e.apply(null,le))}function T(le){r=setTimeout(()=>{r=null,n(L,_())},le)}function O(){a&&clearTimeout(a)}function L(le,...$e){if(b)return void O();if(le)return O(),void E.call(null,le,...$e);if(_()||u)return O(),void E.call(null,le,...$e);let ze;i<64&&(i*=2),1===h?(h=2,ze=0):ze=1e3*(i+Math.random()),T(ze)}let U=!1;function X(le){U||(U=!0,O(),!b&&(null!==r?(le||(h=2),clearTimeout(r),T(0)):le||(h=1)))}return T(0),a=setTimeout(()=>{u=!0,X(!0)},t),X}((i,r)=>{if(r)return void i(!1,new vS(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===If.NO_ERROR,_=a.getStatus();if(!h||this.isRetryStatusCode_(_)){const E=a.getErrorCode()===If.ABORT;return void i(!1,new vS(!1,null,E))}const b=-1!==this.successCodes_.indexOf(_);i(!0,new vS(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function uG(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class vS{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function wG(...n){const e=function bG(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(xM())return new Blob(n);throw new Ci("unsupported-environment","This browser doesn't seem to support creating Blobs")}const na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kM{constructor(e,t){this.data=e,this.contentType=t||null}}function RM(n,e){switch(n){case na.RAW:return new kM(dN(e));case na.BASE64:case na.BASE64URL:return new kM(hN(n,e));case na.DATA_URL:return new kM(function IG(n){const e=new fN(n);return e.base64?hN(na.BASE64,e.rest):function DG(n){let e;try{e=decodeURIComponent(n)}catch(t){throw c0(na.DATA_URL,"Malformed data URL.")}return dN(e)}(e.rest)}(e),function SG(n){return new fN(n).contentType}(e))}throw AM()}function dN(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function hN(n,e){switch(n){case na.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw c0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case na.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw c0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function EG(n){return atob(n)}(e)}catch(r){throw c0(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class fN{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw c0(na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function TG(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qc{constructor(e,t){let i=0,r="";cN(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(cN(this.data_)){const r=function CG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qc(i,!0)}}static getBlob(...e){if(xM()){const t=e.map(i=>i instanceof Qc?i.data_:i);return new Qc(wG.apply(null,t))}{const t=e.map(u=>yS(u)?RM(na.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[a++]=u[h]}),new Qc(r,!0)}}uploadData(){return this.data_}}function OM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function fG(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function pN(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function MG(n,e){return e}class Gs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||MG}}let bS=null;function d0(){if(bS)return bS;const n=[];n.push(new Gs("bucket")),n.push(new Gs("generation")),n.push(new Gs("metageneration")),n.push(new Gs("name","fullPath",!0));const t=new Gs("name");t.xform=function e(a,u){return function kG(n){return!yS(n)||n.length<2?n:pN(n)}(u)},n.push(t);const r=new Gs("size");return r.xform=function i(a,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Gs("timeCreated")),n.push(new Gs("updated")),n.push(new Gs("md5Hash",null,!0)),n.push(new Gs("cacheControl",null,!0)),n.push(new Gs("contentDisposition",null,!0)),n.push(new Gs("contentEncoding",null,!0)),n.push(new Gs("contentLanguage",null,!0)),n.push(new Gs("contentType",null,!0)),n.push(new Gs("metadata","customMetadata",!0)),bS=n,bS}function mN(n,e,t){const i=OM(e);return null===i?null:function OG(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return function RG(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Es(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function PM(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const gN="prefixes";class Xc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Jc(n){if(!n)throw AM()}function wS(n,e){return function t(i,r){const a=mN(n,r,e);return Jc(null!==a),a}}function my(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function eG(){return new Ci("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function J3(){return new Ci("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function X3(n){return new Ci("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function tG(n){return new Ci("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function h0(n){const e=my(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function Q3(n){return new Ci("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function yN(n,e,t){const r=yd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Xc(r,"GET",wS(n,t),u);return h.errorHandler=h0(e),h}function BG(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const h=yd(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,E=new Xc(h,"GET",function LG(n,e){return function t(i,r){const a=function FG(n,e,t){const i=OM(t);return null===i?null:function NG(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[gN])for(const r of t[gN]){const a=r.replace(/\/$/,""),u=n._makeStorageReference(new Es(e,a));i.prefixes.push(u)}if(t.items)for(const r of t.items){const a=n._makeStorageReference(new Es(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return Jc(null!==a),a}}(n,e.bucket),b);return E.urlParams=a,E.errorHandler=my(e),E}function bN(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function GG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class CS{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function NM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Jc(!1)}return Jc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const ZG={STATE_CHANGED:"state_changed"},$s={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function FM(n){switch(n){case"running":case"pausing":case"canceling":return $s.RUNNING;case"paused":return $s.PAUSED;case"success":return $s.SUCCESS;case"canceled":return $s.CANCELED;default:return $s.ERROR}}class WG{constructor(e,t,i){if(function hG(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function gy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class YG extends class KG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=If.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=If.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=If.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw u0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw u0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw u0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw u0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw u0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ol(){return new YG}class DN{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=d0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function $G(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u=bN(e,i,r),h={name:u.fullPath},_=yd(a,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},T=PM(u,t),U=new Xc(_,"POST",function L(X){let le;NM(X);try{le=X.getResponseHeader("X-Goog-Upload-URL")}catch($e){Jc(!1)}return Jc(yS(le)),le},n.maxUploadRetryTime);return U.urlParams=h,U.headers=E,U.body=T,U.errorHandler=my(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ol,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function zG(n,e,t,i){const _=new Xc(t,"POST",function a(b){const E=NM(b,["active","final"]);let T=null;try{T=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){Jc(!1)}T||Jc(!1);const O=Number(T);return Jc(!isNaN(O)),new CS(O,i.size(),"final"===E)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=my(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,Ol,t,i);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new CS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let u;try{u=function qG(n,e,t,i,r,a,u,h){const _=new CS(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function oG(){return new Ci("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let E=b;r>0&&(E=Math.min(E,r));const T=_.current,U={"X-Goog-Upload-Command":E===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},X=i.slice(T,T+E);if(null===X)throw oN();const ze=new Xc(t,"POST",function le(Ue,vt){const Et=NM(Ue,["active","final"]),zt=_.current+E,Fi=i.size();let ia;return ia="final"===Et?wS(e,a)(Ue,vt):null,new CS(zt,Fi,"final"===Et,ia)},e.maxUploadRetryTime);return ze.headers=U,ze.body=X.uploadData(),ze.progressCallback=h||null,ze.errorHandler=my(n),ze}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Ol,r,a);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=yN(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ol,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function wN(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let ze="";for(let Ue=0;Ue<2;Ue++)ze+=Math.random().toString().slice(2);return ze}();u["Content-Type"]="multipart/related; boundary="+_;const b=bN(e,i,r),E=PM(b,t),L=Qc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===L)throw oN();const U={name:b.fullPath},X=yd(a,n.host,n._protocol),$e=n.maxUploadRetryTime,Ye=new Xc(X,"POST",wS(n,t),$e);return Ye.urlParams=U,Ye.headers=u,Ye.body=L.uploadData(),Ye.errorHandler=my(e),Ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ol,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=sN(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=FM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new WG(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(FM(this._state)){case $s.SUCCESS:gy(this._resolve.bind(null,this.snapshot))();break;case $s.CANCELED:case $s.ERROR:gy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(FM(this._state)){case $s.RUNNING:case $s.PAUSED:e.next&&gy(e.next.bind(e,this.snapshot))();break;case $s.SUCCESS:e.complete&&gy(e.complete.bind(e))();break;default:e.error&&gy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class jm{constructor(e,t){this._service=e,this._location=t instanceof Es?t:Es.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jm(e,t)}get root(){const e=new Es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pN(this._location.path)}get storage(){return this._service}get parent(){const e=function AG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Es(this._location.bucket,e);return new jm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw lN(e)}}function SN(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,ve.Z)(function*(n,e,t){const r=yield TN(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield SN(n,e,r.nextPageToken))}),LM.apply(this,arguments)}function TN(n,e){null!=e&&"number"==typeof e.maxResults&&MM("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=BG(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ol)}function l$(n){n._throwIfRoot("getDownloadURL");const e=function UG(n,e,t){const r=yd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Xc(r,"GET",function VG(n,e){return function t(i,r){const a=mN(n,r,e);return Jc(null!==a),function PG(n,e,t,i){const r=OM(e);if(null===r||!yS(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(b=>{const T=n.fullPath;return yd("/b/"+u(n.bucket)+"/o/"+u(T),t,i)+uN({alt:"media",token:b})})[0]}(a,r,n.host,n._protocol)}}(n,t),u);return h.errorHandler=h0(e),h}(n.storage,n._location,d0());return n.storage.makeRequestWithTokens(e,Ol).then(t=>{if(null===t)throw function aG(){return new Ci("no-download-url","The given file does not have any download URLs.")}();return t})}function AN(n,e){const t=function xG(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Es(n._location.bucket,t);return new jm(n.storage,i)}function xN(n,e){if(n instanceof VM){const t=n;if(null==t._bucket)throw function sG(){return new Ci("no-default-bucket","No default bucket found. Did you set the '"+rN+"' property when initializing the app?")}();const i=new jm(t,t._bucket);return null!=e?xN(i,e):i}return void 0!==e?AN(n,e):n}function h$(n,e){if(e&&function u$(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof VM)return function d$(n,e){return new jm(n,e)}(n,e);throw py("To use ref(service, url), the first argument must be a Storage instance.")}return xN(n,e)}function MN(n,e){const t=null==e?void 0:e[rN];return null==t?null:Es.makeFromBucketSpec(t,n)}class VM{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=iN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Es.makeFromBucketSpec(r,this._host):MN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Es.makeFromBucketSpec(this._url,e):MN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jm(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new lG(aN());{const a=function vG(n,e,t,i,r,a){const u=uN(n.urlParams),h=n.url+u,_=Object.assign({},n.headers);return function _G(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function mG(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function gG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function yG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new pG(h,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,ve.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const kN="@firebase/storage";function PN(n,e){return h$(n=(0,Mt.m9)(n),e)}function E$(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new VM(t,i,r,e,_o.SDK_VERSION)}!function D$(){(0,_o._registerComponent)(new yh.wA("storage",E$,"PUBLIC").setMultipleInstances(!0)),(0,_o.registerVersion)(kN,"0.9.9",""),(0,_o.registerVersion)(kN,"0.9.9","esm2017")}();class ES{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class NN{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ES(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new ES(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?u=>t(new ES(u,this,this._ref)):{next:t.next?u=>t.next(new ES(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class FN{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new vd(e,this._service))}get items(){return this._delegate.items.map(e=>new vd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class vd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function w$(n,e){return AN(n,e)}(this._delegate,e);return new vd(t,this.storage)}get root(){return new vd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new vd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new NN(function p$(n,e,t){return function i$(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new DN(n,new Qc(e),t)}(n=(0,Mt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=na.RAW,i){this._throwIfRoot("putString");const r=RM(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new NN(new DN(this._delegate,new Qc(r.data,!0),a),this)}listAll(){return function y$(n){return function s$(n){const e={prefixes:[],items:[]};return SN(n,e).then(()=>e)}(n=(0,Mt.m9)(n))}(this._delegate).then(e=>new FN(e,this.storage))}list(e){return function _$(n,e){return TN(n=(0,Mt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new FN(t,this.storage))}getMetadata(){return function m$(n){return function o$(n){n._throwIfRoot("getMetadata");const e=yN(n.storage,n._location,d0());return n.storage.makeRequestWithTokens(e,Ol)}(n=(0,Mt.m9)(n))}(this._delegate)}updateMetadata(e){return function g$(n,e){return function a$(n,e){n._throwIfRoot("updateMetadata");const t=function HG(n,e,t,i){const a=yd(e.fullServerUrl(),n.host,n._protocol),h=PM(t,i),b=n.maxOperationRetryTime,E=new Xc(a,"PATCH",wS(n,i),b);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=h0(e),E}(n.storage,n._location,e,d0());return n.storage.makeRequestWithTokens(t,Ol)}(n=(0,Mt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function v$(n){return l$(n=(0,Mt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function b$(n){return function c$(n){n._throwIfRoot("deleteObject");const e=function jG(n,e){const i=yd(e.fullServerUrl(),n.host,n._protocol),h=new Xc(i,"DELETE",function u(_,b){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=h0(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ol)}(n=(0,Mt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw lN(e)}}class LN{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(VN(e))throw py("ref() expected a child path but got a URL, use refFromURL instead.");return new vd(PN(this._delegate,e),this)}refFromURL(e){if(!VN(e))throw py("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Es.makeFromUrl(e,this._delegate.host)}catch(t){throw py("refFromUrl() expected a valid full URL but got an invalid one.")}return new vd(PN(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function C$(n,e,t,i={}){!function f$(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Mt.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function VN(n){return/^[A-Za-z]+:\/\//.test(n)}function A$(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new LN(t,i)}function BN(n){const e=function M$(n){return new nn.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(zw(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function DS(n){return{getDownloadURL:()=>Xe(void 0).pipe(Wn.fc,ln(()=>n.getDownloadURL()),Wn.iC),getMetadata:()=>Xe(void 0).pipe(Wn.fc,ln(()=>n.getMetadata()),Wn.iC),delete:()=>(0,an.D)(n.delete()),child:e=>DS(n.child(e)),updateMetadata:e=>(0,an.D)(n.updateMetadata(e)),put:(e,t)=>BN(n.put(e,t)),putString:(e,t,i)=>BN(n.putString(e,t,i)),list:e=>(0,an.D)(n.list(e)),listAll:()=>(0,an.D)(n.listAll())}}!function x$(n){const e={TaskState:$s,TaskEvent:ZG,StringFormat:na,Storage:LN,Reference:vd};n.INTERNAL.registerComponent(new yh.wA("storage-compat",A$,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}($y.Z);const k$=new l.OlP("angularfire2.storageBucket"),R$=new l.OlP("angularfire2.storage.maxUploadRetryTime"),O$=new l.OlP("angularfire2.storage.maxOperationRetryTime"),P$=new l.OlP("angularfire2.storage.use-emulator");let UN=(()=>{class n{constructor(t,i,r,a,u,h,_,b,E,T){const O=(0,Sr.on)(t,u,i);this.storage=(0,Sr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const L=u.runOutsideAngular(()=>O.storage(r||void 0)),U=E;return U&&L.useEmulator(...U),_&&L.setMaxUploadRetryTime(_),b&&L.setMaxOperationRetryTime(b),L},[_,b])}ref(t){return DS(this.storage.ref(t))}refFromURL(t){return DS(this.storage.refFromURL(t))}upload(t,i,r){return DS(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sr.Dh),l.LFG(Sr.xv,8),l.LFG(k$,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(R$,8),l.LFG(O$,8),l.LFG(P$,8),l.LFG(CI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),N$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),F$=(()=>{class n{constructor(){RR.Z.registerVersion("angularfire",Wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[UN],imports:[N$]}),n})();function L$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-card",1)(1,"mat-card-header"),l._UZ(2,"div",3),l.TgZ(3,"mat-card-title"),l._uU(4,"Car-info-system"),l.qZA(),l.TgZ(5,"mat-card-subtitle"),l._uU(6,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e23\u0e16"),l.qZA()(),l.TgZ(7,"mat-card-content")(8,"mat-form-field",5)(9,"mat-label"),l._uU(10,"Input Car ID"),l.qZA(),l.TgZ(11,"input",6),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw().car_id=r}),l.qZA()(),l.TgZ(12,"mat-form-field",5)(13,"mat-label"),l._uU(14,"Select color"),l.qZA(),l.TgZ(15,"mat-select",7),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw().color=r}),l.TgZ(16,"mat-option",8),l._uU(17,"white"),l.qZA(),l.TgZ(18,"mat-option",9),l._uU(19,"purple"),l.qZA(),l.TgZ(20,"mat-option",10),l._uU(21,"Blue"),l.qZA(),l.TgZ(22,"mat-option",11),l._uU(23,"Black"),l.qZA(),l.TgZ(24,"mat-option",12),l._uU(25,"red"),l.qZA(),l.TgZ(26,"mat-option",13),l._uU(27,"Gold"),l.qZA(),l.TgZ(28,"mat-option",14),l._uU(29,"Silver"),l.qZA()()(),l.TgZ(30,"mat-form-field",5)(31,"mat-label"),l._uU(32,"Select Brand"),l.qZA(),l.TgZ(33,"mat-select",7),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw().brand=r}),l.TgZ(34,"mat-option",15),l._uU(35,"toyota"),l.qZA(),l.TgZ(36,"mat-option",16),l._uU(37,"Mclaren"),l.qZA(),l.TgZ(38,"mat-option",17),l._uU(39,"lambo"),l.qZA(),l.TgZ(40,"mat-option",18),l._uU(41,"benz"),l.qZA(),l.TgZ(42,"mat-option",19),l._uU(43,"bmw"),l.qZA(),l.TgZ(44,"mat-option",20),l._uU(45,"honda"),l.qZA()()(),l.TgZ(46,"mat-form-field",5)(47,"mat-label"),l._uU(48,"Select type"),l.qZA(),l.TgZ(49,"mat-select",7),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw().type=r}),l.TgZ(50,"mat-option",21),l._uU(51,"suv"),l.qZA(),l.TgZ(52,"mat-option",22),l._uU(53,"pickup"),l.qZA(),l.TgZ(54,"mat-option",23),l._uU(55,"truck"),l.qZA(),l.TgZ(56,"mat-option",24),l._uU(57,"van"),l.qZA(),l.TgZ(58,"mat-option",25),l._uU(59,"limo"),l.qZA(),l.TgZ(60,"mat-option",26),l._uU(61,"SportCar"),l.qZA(),l.TgZ(62,"mat-option",26),l._uU(63,"SuperCar"),l.qZA()()(),l._UZ(64,"br"),l.TgZ(65,"input",27),l.NdJ("change",function(r){return l.CHM(t),l.oxw().select_image(r)}),l.qZA()(),l.TgZ(66,"mat-card-actions")(67,"button",2),l.NdJ("click",function(){return l.CHM(t),l.oxw().click_submit()}),l._uU(68,"submit"),l.qZA(),l.TgZ(69,"button",28),l._uU(70,"reset"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(11),l.Q6J("ngModel",t.car_id),l.xp6(4),l.Q6J("ngModel",t.color),l.xp6(18),l.Q6J("ngModel",t.brand),l.xp6(16),l.Q6J("ngModel",t.type)}}function V$(n,e){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.car_id)}}function B$(n,e){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.brand)}}function U$(n,e){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.color)}}function H$(n,e){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.type)}}function j$(n,e){if(1&n&&(l.TgZ(0,"td"),l._UZ(1,"img",32),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.s9C("src",t.pic,l.LSH)}}function G$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td")(1,"input",7),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw(2).car_id=r}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngModel",t.car_id)}}function $$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td")(1,"input",7),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw(2).brand=r}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngModel",t.brand)}}function z$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td")(1,"input",7),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw(2).color=r}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngModel",t.color)}}function q$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td")(1,"input",7),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw(2).type=r}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngModel",t.type)}}function Z$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",30),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).click_s()}),l._uU(1,"Save"),l.qZA()}}function W$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",30),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).click_c()}),l._uU(1,"Cancel"),l.qZA()}}function K$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",30),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw().click_d(r.car_id,r.pic)}),l._uU(1,"Delete"),l.qZA()}}function Y$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr"),l.YNc(1,V$,2,1,"td",29),l.YNc(2,B$,2,1,"td",29),l.YNc(3,U$,2,1,"td",29),l.YNc(4,H$,2,1,"td",29),l.YNc(5,j$,2,1,"td",29),l.YNc(6,G$,2,1,"td",29),l.YNc(7,$$,2,1,"td",29),l.YNc(8,z$,2,1,"td",29),l.YNc(9,q$,2,1,"td",29),l.TgZ(10,"td")(11,"button",30),l.NdJ("click",function(){const a=l.CHM(t).$implicit;return l.oxw().click_edit(a)}),l._uU(12,"Edit"),l.qZA(),l.YNc(13,Z$,2,0,"button",31),l.YNc(14,W$,2,0,"button",31),l.YNc(15,K$,2,0,"button",31),l.qZA()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.select_id!=t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id!=t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id!=t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id!=t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id!=t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id==t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id==t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id==t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id==t.car_id),l.xp6(4),l.Q6J("ngIf",i.select_id==t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id==t.car_id),l.xp6(1),l.Q6J("ngIf",i.select_id!=t.car_id)}}const Q$=[{path:"",component:nN},{path:"page01",component:nN},{path:"page02",component:W3},{path:"page03",component:(()=>{class n{constructor(t,i){this.fs=t,this.sr=i,this.show=!1}ngOnInit(){this.car=this.fs.collection("car").valueChanges(),console.log(this.car)}click_submit(){"image/jpeg"==this.pic_type?this.pic_type=".jpg":"image/png"==this.pic_type&&(this.pic_type=".png"),this.sr.upload("car/"+this.car_id+this.pic_type,this.pic[0]),this.fs.collection("car").doc(this.car_id).set({car_id:this.car_id,brand:this.brand,color:this.color,type:this.type,pic:"https://firebasestorage.googleapis.com/v0/b/rattanakorn-angular.appspot.com/o/car%2F"+this.car_id+this.pic_type+"?alt=media"}),this.car_id=null,this.brand=null,this.color=null,this.type=null}click_edit(t){this.select_id=t.car_id,this.car_id=t.car_id,this.brand=t.brand,this.color=t.color,this.type=t.type}click_c(){this.select_id=null,this.car_id=null,this.brand=null,this.color=null,this.type=null}click_s(){this.fs.collection("car").doc(this.car_id).update({car_id:this.car_id,brand:this.brand,color:this.color,type:this.type}),this.select_id=null,this.car_id=null,this.brand=null,this.color=null,this.type=null}click_d(t,i){confirm("Do you want to delete Data?")&&(this.fs.collection("car").doc(t).delete(),this.sr.storage.refFromURL(i).delete())}select_image(t){this.pic=t.target.files,this.pic_type=this.pic[0].type}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DI),l.Y36(UN))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-page03"]],decls:33,vars:4,consts:[["class","example-card",4,"ngIf"],[1,"example-card"],["mat-button","",3,"click"],["mat-card-avatar","",1,"example-header-image"],[4,"ngFor","ngForOf"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","white"],["value","purple"],["value","blue"],["value","black"],["value","red"],["value","gold"],["value","silver"],["value","toyota"],["value","mcloren"],["value","lambo"],["value","benz"],["value","bmw"],["value","honda"],["value","suv"],["value","pickup"],["value","truck"],["value","van"],["value","limo"],["value","sportcar"],["type","file","accept","image*/",3,"change"],["mat-button",""],[4,"ngIf"],[3,"click"],[3,"click",4,"ngIf"],["width","200",3,"src"]],template:function(t,i){1&t&&(l._UZ(0,"p"),l.YNc(1,L$,71,4,"mat-card",0),l._UZ(2,"p"),l.TgZ(3,"mat-card",1)(4,"mat-card-actions")(5,"button",2),l.NdJ("click",function(){return i.show=!0}),l._uU(6,"ADD"),l.qZA(),l.TgZ(7,"button",2),l.NdJ("click",function(){return i.show=!1}),l._uU(8,"Cancel"),l.qZA()(),l.TgZ(9,"mat-card-header"),l._UZ(10,"div",3),l.TgZ(11,"mat-card-title"),l._uU(12,"Car-info-system"),l.qZA(),l.TgZ(13,"mat-card-subtitle"),l._uU(14,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e23\u0e16"),l.qZA()(),l.TgZ(15,"mat-card-content")(16,"table")(17,"thead")(18,"tr")(19,"th"),l._uU(20,"Car_id"),l.qZA(),l.TgZ(21,"th"),l._uU(22,"Brand"),l.qZA(),l.TgZ(23,"th"),l._uU(24,"Color"),l.qZA(),l.TgZ(25,"th"),l._uU(26,"type"),l.qZA(),l.TgZ(27,"th"),l._uU(28,"image"),l.qZA()()(),l.TgZ(29,"tbody"),l.YNc(30,Y$,16,12,"tr",4),l.ALo(31,"async"),l.qZA()()(),l._UZ(32,"mat-card-actions"),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",i.show),l.xp6(29),l.Q6J("ngForOf",l.lcZ(31,2,i.car)))},directives:[En,Yx,Qx,Kx,qx,Zx,zx,v1,tS,xP,Kw,nM,hS,tN,$x,Wx,SM,ni],pipes:[nu],styles:[".example-card[_ngcontent-%COMP%]{max-width:700px;margin-right:auto;margin-left:auto;background-color:#ce98ea}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.imgur.com/hpAFR37.png);background-size:cover}table[_ngcontent-%COMP%]{width:100%;border:1px solid black}td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid black}tr[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})()}];let X$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[x0.forRoot(Q$)],x0]}),n})(),J$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const HN=new Set;let _y,ez=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nz}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function tz(n){if(!HN.has(n))try{_y||(_y=document.createElement("style"),_y.setAttribute("type","text/css"),document.head.appendChild(_y)),_y.sheet&&(_y.sheet.insertRule(`@media ${n} {body{ }}`,0),HN.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let iz=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new _t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return jN(QI(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Ja(jN(QI(t)).map(u=>this._registerQuery(u).observable));return a=ao(a.pipe(fn(1)),a.pipe(GO(1),zw(0))),a.pipe((0,tt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new nn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Nn(i),(0,tt.U)(({matches:u})=>({query:t,matches:u})),rn(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ez),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function BM(n){return(0,tt.U)(()=>n)}const IS=["*"],sz=["content"];function oz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){return l.CHM(t),l.oxw()._onBackdropClicked()}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function az(n,e){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const lz=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],cz=["mat-drawer","mat-drawer-content","*"];function uz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){return l.CHM(t),l.oxw()._onBackdropClicked()}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function dz(n,e){1&n&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const hz=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],fz=["mat-sidenav","mat-sidenav-content","*"],GN={transformDrawer:II("transform",[sy("open, open-instant",Wc({transform:"none",visibility:"visible"})),sy("void",Wc({"box-shadow":"none",visibility:"hidden"})),oy("void => open-instant",Vw("0ms")),oy("void <=> open, open-instant => void",Vw("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},mz=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function gz(){return!1}}),UM=new l.OlP("MAT_DRAWER_CONTAINER");let SS=(()=>{class n extends r0{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>zN)),l.Y36(l.SBq),l.Y36(mS),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:r0,useExisting:n}]),l.qOj],ngContentSelectors:IS,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),$N=(()=>{class n{constructor(t,i,r,a,u,h,_,b){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=h,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new _t.x,this._animationEnd=new _t.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(Ft(E=>E),(0,tt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Ft(E=>E.fromState!==E.toState&&0===E.toState.indexOf("open")),BM(void 0)),this._closedStream=this.openedChange.pipe(Ft(E=>!E),(0,tt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Ft(E=>E.fromState!==E.toState&&"void"===E.toState),BM(void 0)),this._destroyed=new _t.x,this.onPositionChanged=new l.vpe,this._modeChanged=new _t.x,this.openedChange.subscribe(E=>{E?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Cf(this._elementRef.nativeElement,"keydown").pipe(Ft(E=>27===E.keyCode&&!this.disableClose&&!wf(E)),rn(this._destroyed)).subscribe(E=>this._ngZone.run(()=>{this.close(),E.stopPropagation(),E.preventDefault()}))}),this._animationEnd.pipe(kg((E,T)=>E.fromState===T.fromState&&E.toState===T.toState)).subscribe(E=>{const{fromState:T,toState:O}=E;(0===O.indexOf("open")&&"void"===T||"void"===O&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=gn(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=gn(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(gn(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null===(t=this._anchor)||void 0===t||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(fn(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(bU),l.Y36(Lx),l.Y36(qr),l.Y36(l.R0b),l.Y36(ZO),l.Y36(ie,8),l.Y36(UM,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&l.Gf(sz,5),2&t){let r;l.iGM(r=l.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&l.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(l.uIk("align",null),l.d8E("@transform",i._animationState),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:IS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},directives:[r0],encapsulation:2,data:{animation:[GN.transformDrawer]},changeDetection:0}),n})(),zN=(()=>{class n{constructor(t,i,r,a,u,h=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new _t.x,this._doCheckSubject=new _t.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new _t.x,t&&t.change.pipe(rn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(rn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=gn(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:gn(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Nn(this._allDrawers),rn(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Nn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(zw(10),rn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Ft(i=>i.fromState!==i.toState),rn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(rn(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(rn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(fn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(rn((0,md.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fm,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(s0),l.Y36(mz),l.Y36(bf,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,SS,5),l.Suo(r,$N,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&l.Gf(SS,5),2&t){let r;l.iGM(r=l.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:UM,useExisting:n}])],ngContentSelectors:cz,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(lz),l.YNc(0,oz,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,az,2,0,"mat-drawer-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},directives:[SS,En],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),HM=(()=>{class n extends SS{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>ZN)),l.Y36(l.SBq),l.Y36(mS),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:r0,useExisting:n}]),l.qOj],ngContentSelectors:IS,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qN=(()=>{class n extends $N{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=gn(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=qw(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=qw(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(l.uIk("align",null),l.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:IS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},directives:[r0],encapsulation:2,data:{animation:[GN.transformDrawer]},changeDetection:0}),n})(),ZN=(()=>{class n extends zN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,HM,5),l.Suo(r,qN,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:UM,useExisting:n}]),l.qOj],ngContentSelectors:fz,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(hz),l.YNc(0,uz,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,dz,2,0,"mat-sidenav-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},directives:[HM,En],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),_z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[So,xn,o0],o0,xn]}),n})();const yz=["*",[["mat-toolbar-row"]]],vz=["*","mat-toolbar-row"],bz=JI(class{constructor(n){this._elementRef=n}});let wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Cz=(()=>{class n extends bz{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(qr),l.Y36(ie))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,wz,5),2&t){let a;l.iGM(a=l.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:vz,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(yz),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})(),Dz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})();const WN=["*"],Sz=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Tz=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Rz=Bx(dy(class{})),Oz=dy(class{}),Pz=new l.OlP("MatList"),KN=new l.OlP("MatNavList");let Nz=(()=>{class n extends Rz{constructor(){super(...arguments),this._stateChanges=new _t.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[l._Bn([{provide:KN,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:WN,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),Fz=(()=>{class n extends Oz{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new _t.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(rn(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=gn(t)}ngAfterContentInit(){!function s1(n,e,t="mat"){n.changes.pipe(Nn(n)).subscribe(({length:i})=>{Zw(e,`${t}-2-line`,!1),Zw(e,`${t}-3-line`,!1),Zw(e,`${t}-multi-line`,!1),2===i||3===i?Zw(e,`${t}-${i}-line`,!0):i>3&&Zw(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(KN,8),l.Y36(Pz,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,YN,5),l.Suo(r,QN,5),l.Suo(r,r1,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._avatar=a.first),l.iGM(a=l.CRH())&&(i._icon=a.first),l.iGM(a=l.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&l.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:Tz,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(l.F$t(Sz),l.TgZ(0,"span",0),l._UZ(1,"span",1),l.Hsn(2),l.TgZ(3,"span",2),l.Hsn(4,1),l.qZA(),l.Hsn(5,2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Ww],encapsulation:2,changeDetection:0}),n})(),jz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[o1,jx,xn,Gx,So],o1,xn,Gx,Dz]}),n})();class Gz{}class Sf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Sf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Sf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===a.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class $z{encodeKey(e){return JN(e)}encodeValue(e){return JN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const qz=/%(\d[a-f0-9])/gi,Zz={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function JN(n){return encodeURIComponent(n).replace(qz,(e,t)=>{var i;return null!==(i=Zz[t])&&void 0!==i?i:e})}function eF(n){return`${n}`}class Tf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $z,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zz(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,h]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(h),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Tf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(eF(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(eF(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Wz{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function tF(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function nF(n){return"undefined"!=typeof Blob&&n instanceof Blob}function iF(n){return"undefined"!=typeof FormData&&n instanceof FormData}class f0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Kz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Sf),this.context||(this.context=new Wz),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Tf,this.urlWithParams=t}serializeBody(){return null===this.body?null:tF(this.body)||nF(this.body)||iF(this.body)||function Yz(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iF(this.body)?null:nF(this.body)?this.body.type||null:tF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,E=e.params||this.params;const T=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((O,L)=>O.set(L,e.setHeaders[L]),b)),e.setParams&&(E=Object.keys(e.setParams).reduce((O,L)=>O.set(L,e.setParams[L]),E)),new f0(i,r,u,{params:E,headers:b,context:T,reportProgress:_,responseType:a,withCredentials:h})}}var Zr=(()=>((Zr=Zr||{})[Zr.Sent=0]="Sent",Zr[Zr.UploadProgress=1]="UploadProgress",Zr[Zr.ResponseHeader=2]="ResponseHeader",Zr[Zr.DownloadProgress=3]="DownloadProgress",Zr[Zr.Response=4]="Response",Zr[Zr.User=5]="User",Zr))();class jM extends class Qz{constructor(e,t=200,i="OK"){this.headers=e.headers||new Sf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Zr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function GM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof f0)a=t;else{let _,b;_=r.headers instanceof Sf?r.headers:new Sf(r.headers),r.params&&(b=r.params instanceof Tf?r.params:new Tf({fromObject:r.params})),a=new f0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Xe(a).pipe(Vr(_=>this.handler.handle(_)));if(t instanceof f0||"events"===r.observe)return u;const h=u.pipe(Ft(_=>_ instanceof jM));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,tt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,tt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,tt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,tt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Tf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,GM(r,i))}post(t,i,r={}){return this.request("POST",t,GM(r,i))}put(t,i,r={}){return this.request("PUT",t,GM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gz))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Jz=["*"];let TS;function p0(n){var e;return(null===(e=function e6(){if(void 0===TS&&(TS=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(TS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return TS}())||void 0===e?void 0:e.createHTML(n))||n}function oF(n){return Error(`Unable to find icon with the name "${n}"`)}function aF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function lF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Gm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let AS=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Gm(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw lF(r);const h=p0(u);return this._addSvgIconConfig(t,i,new Gm("",h,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Gm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw lF(i);const u=p0(a);return this._addSvgIconSetConfig(t,new Gm("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw aF(t);const r=this._cachedIconsByUrl.get(i);return r?Xe(xS(r)):this._loadSvgIconFromConfig(new Gm(t,null)).pipe((0,vi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,tt.U)(a=>xS(a)))}getNamedSvgIcon(t,i=""){const r=cF(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):oo(oF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Xe(xS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,tt.U)(i=>xS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Xe(r):b1(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ki(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),Xe(null)})))).pipe((0,tt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw oF(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),h=this._extractSvgIconFromSet(u,t,a.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,vi.b)(i=>t.svgText=i),(0,tt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Xe(null):this._fetchIcon(t).pipe((0,vi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(p0("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(p0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:h}=r[a];"id"!==u&&i.setAttribute(u,h)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:a}=t,u=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function t6(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!h)throw aF(r);const _=this._inProgressUrlFetches.get(h);if(_)return _;const b=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,tt.U)(E=>p0(E)),Ff(()=>this._inProgressUrlFetches.delete(h)),(0,aR.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(cF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return i6(a)?new Gm(a.url,null,a.options):new Gm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sF,8),l.LFG(_u),l.LFG(ie,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xS(n){return n.cloneNode(!0)}function cF(n,e){return n+":"+e}function i6(n){return!(!n.url||!n.options)}const r6=JI(class{constructor(n){this._elementRef=n}}),s6=new l.OlP("mat-icon-location",{providedIn:"root",factory:function o6(){const n=(0,l.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),uF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],a6=uF.map(n=>`[${n}]`).join(", "),l6=/^url\(['"]?#(.*?)['"]?\)$/;let c6=(()=>{class n extends r6{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=yi.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=gn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(a6),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)uF.forEach(u=>{const h=i[a],_=h.getAttribute(u),b=_?_.match(l6):null;if(b){let E=r.get(h);E||(E=[],r.set(h,E)),E.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(fn(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(AS),l.$8M("aria-hidden"),l.Y36(s6),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Jz,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),u6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})();function d6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){return l.CHM(t),l.oxw(),l.MAs(2).toggle()}),l.TgZ(1,"mat-icon",7),l._uU(2,"menu"),l.qZA()()}}const h6=function(){return["/"]},f6=function(){return["/page01"]},p6=function(){return["/page02"]},m6=function(){return["/page03"]},g6=["*"];let _6=(()=>{class n{constructor(t){this.breakpointObserver=t,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,tt.U)(i=>i.matches),UA())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iz))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-menu"]],ngContentSelectors:g6,decls:24,vars:20,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",3,"routerLink"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),l.ALo(3,"async"),l.ALo(4,"async"),l.ALo(5,"async"),l.TgZ(6,"mat-toolbar"),l._uU(7,"Menu"),l.qZA(),l.TgZ(8,"mat-nav-list")(9,"a",3),l._uU(10,"HOME"),l.qZA(),l.TgZ(11,"a",3),l._uU(12,"Page1"),l.qZA(),l.TgZ(13,"a",3),l._uU(14,"Page2"),l.qZA(),l.TgZ(15,"a",3),l._uU(16,"Page3"),l.qZA()()(),l.TgZ(17,"mat-sidenav-content")(18,"mat-toolbar",4),l.YNc(19,d6,3,0,"button",5),l.ALo(20,"async"),l.TgZ(21,"span"),l._uU(22,"CAR info system"),l.qZA()(),l.Hsn(23),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("mode",l.lcZ(4,10,i.isHandset$)?"over":"side")("opened",!1===l.lcZ(5,12,i.isHandset$)),l.uIk("role",l.lcZ(3,8,i.isHandset$)?"dialog":"navigation"),l.xp6(8),l.Q6J("routerLink",l.DdM(16,h6)),l.xp6(2),l.Q6J("routerLink",l.DdM(17,f6)),l.xp6(2),l.Q6J("routerLink",l.DdM(18,p6)),l.xp6(2),l.Q6J("routerLink",l.DdM(19,m6)),l.xp6(4),l.Q6J("ngIf",l.lcZ(20,14,i.isHandset$)))},directives:[ZN,qN,Cz,Nz,Fz,mc,HM,En,SM,c6],pipes:[nu],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px;background-color:#8a2be2}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit;background-color:#8a2be2}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;background-color:#8a2be2}"]}),n})(),y6=(()=>{class n{constructor(){this.title="firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&(l.TgZ(0,"app-menu"),l._UZ(1,"router-outlet"),l.qZA())},directives:[_6,Tu],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']}),n})();const Af=new nn.y(Fx.Z),b6={connector:()=>new _t.x};function dF(n,e=b6){const{connector:t}=e;return(0,wn.e)((i,r)=>{const a=t();(0,Os.Xf)(n(function v6(n){return new nn.y(e=>n.subscribe(e))}(a))).subscribe(r),r.add(i.subscribe(a))})}function hF(n,e){return e?t=>ao(e.pipe(fn(1),function E6(){return(0,wn.e)((n,e)=>{n.subscribe((0,Tn.x)(e,Fx.Z))})}()),t.pipe(hF(n))):(0,zn.z)((t,i)=>n(t,i).pipe(fn(1),BM(t)))}const m0="Service workers are disabled or not supported by this browser";class MS{constructor(e){if(this.serviceWorker=e,e){const i=Cf(e,"controllerchange").pipe((0,tt.U)(()=>e.controller)),a=ao(lo(()=>Xe(e.controller)),i);this.worker=a.pipe(Ft(E=>!!E)),this.registration=this.worker.pipe(ln(()=>e.getRegistration()));const b=Cf(e,"message").pipe((0,tt.U)(E=>E.data)).pipe(Ft(E=>E&&E.type)).pipe(function C6(n){return n?e=>dF(n)(e):e=>function w6(n,e){const t=(0,$n.m)(n)?n:()=>n;return(0,$n.m)(e)?dF(e,{connector:t}):i=>new Mi(i,t)}(new _t.x)(e)}());b.connect(),this.events=b}else this.worker=this.events=this.registration=function I6(n){return lo(()=>oo(new Error(n)))}(m0)}postMessage(e,t){return this.worker.pipe(fn(1),(0,vi.b)(i=>{i.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),a=this.postMessage(e,t);return Promise.all([a,r]).then(([,u])=>u)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Ft(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(fn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ft(t=>t.nonce===e),fn(1),(0,tt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let S6=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new _t.x,!t.isEnabled)return this.messages=Af,this.notificationClicks=Af,void(this.subscription=Af);this.messages=this.sw.eventsOfType("PUSH").pipe((0,tt.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,tt.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,tt.U)(r=>r.pushManager));const i=this.pushManager.pipe(ln(r=>r.getSubscription()));this.subscription=(0,md.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(m0));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(r.length));for(let u=0;u<r.length;u++)a[u]=r.charCodeAt(u);return i.applicationServerKey=a,this.pushManager.pipe(ln(u=>u.subscribe(i)),fn(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(fn(1),ln(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(m0))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(MS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),T6=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Af,this.available=Af,this.activated=Af,void(this.unrecoverable=Af);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Ft(i=>"VERSION_READY"===i.type),(0,tt.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(m0));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(m0));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(MS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class $M{}const fF=new l.OlP("NGSW_REGISTER_SCRIPT");function A6(n,e,t,i){return()=>{if(!li(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let a;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)a=t.registrationStrategy();else{const[h,..._]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(h){case"registerImmediately":a=Xe(null);break;case"registerWithDelay":a=pF(+_[0]||0);break;case"registerWhenStable":a=_[0]?(0,md.T)(mF(n),pF(+_[0])):mF(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>a.pipe(fn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(h=>console.error("Service worker registration failed with:",h))))}}function pF(n){return Xe(null).pipe(function D6(n,e=ul.z){const t=OP(n,e);return hF(()=>t)}(n))}function mF(n){return n.get(l.z2F).isStable.pipe(Ft(t=>t))}function x6(n,e){return new MS(li(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let M6=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:fF,useValue:t},{provide:$M,useValue:i},{provide:MS,useFactory:x6,deps:[$M,l.Lbi]},{provide:l.ip1,useFactory:A6,deps:[l.zs3,fF,$M,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[S6,T6]}),n})();const zM_firebase_config={apiKey:"AIzaSyAMEh_vHvn6_JNiMyHiq57E79cLTPghvGs",authDomain:"rattanakorn-angular.firebaseapp.com",databaseURL:"https://rattanakorn-angular-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"rattanakorn-angular",storageBucket:"rattanakorn-angular.appspot.com",messagingSenderId:"391897635246",appId:"1:391897635246:web:a3c76a2ee119e590fe503f"};let z6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[wM]]}),n})(),lq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[z6,xn],xn]}),n})(),uq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[y6]}),n.\u0275inj=l.cJS({providers:[],imports:[[ma,X$,B2,M6.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),J$,Ez,q3,_z,u6,jz,QU,nS,Lj,U3,kj,Sr.hO.initializeApp(zM_firebase_config),VV,lq,F$]]}),n})();(0,l.G48)(),Gl().bootstrapModule(uq).catch(n=>console.error(n))},5867:(it,Ce,P)=>{P.d(Ce,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.9.4","app")},127:(it,Ce,P)=>{P.d(Ce,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(it,Ce,P)=>{P.r(Ce);var l=P(5861),ee=P(3942),N=P(2090),de=P(9681),ae=P(655),me=P(1877),ie=P(4859);const Re=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new me.Yd("@firebase/auth");function nt(y,...p){Ke.logLevel<=me.in.ERROR&&Ke.error(`Auth (${de.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw je(y,...p)}function ye(y,...p){return je(y,...p)}function Ie(y,p,m){const w=Object.assign(Object.assign({},He()),{[p]:m});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Be(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(y,"argument-error"),Ie(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return pe.create(y,...p)}function W(y,p,...m){if(!y)throw je(p,...m)}function Ee(y){const p="INTERNAL ASSERTION FAILED: "+y;throw nt(p),new Error(p)}function Y(y,p){y||Ee(p)}const re=new Map;function te(y){Y(y instanceof Function,"Expected a class definition");let p=re.get(y);return p?(Y(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,re.set(y,p),p)}function Pe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===qt()||"https:"===qt()}function qt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,Y(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(y,p){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class un{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Li=new tn(3e4,6e4);function Kt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ut(y,p,m,w){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(y,p,m,w,A={}){return mr(y,A,(0,l.Z)(function*(){let R={},K={};w&&("GET"===p?K=w:R={body:JSON.stringify(w)});const ue=(0,N.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),un.fetch()(qs(y,y.config.apiHost,m,ue),Object.assign({method:p,headers:Fe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function mr(y,p,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Jt),p);try{const A=new tr(y),R=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw Kr(y,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const ue=R.ok?K.errorMessage:K.error.message,[Fe,rt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw Kr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Fe)throw Kr(y,"email-already-in-use",K);if("USER_DISABLED"===Fe)throw Kr(y,"user-disabled",K);const yt=w[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw Ie(y,yt,rt);Ae(y,yt)}}catch(A){if(A instanceof N.ZR)throw A;Ae(y,"network-request-failed")}})).apply(this,arguments)}function er(y,p,m,w){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(y,p,m,w,A={}){const R=yield Ut(y,p,m,w,A);return"mfaPendingCredential"in R&&Ae(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function qs(y,p,m,w){const A=`${p}${m}?${w}`;return y.config.emulator?Mn(y.config,A):`${y.config.apiScheme}://${A}`}class tr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ye(this.auth,"network-request-failed")),Li.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kr(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=ye(y,p,w);return A.customData._tokenResponse=m,A}function nr(){return(nr=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function kn(y,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yr(y,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Rn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function sa(){return(sa=(0,l.Z)(function*(y,p=!1){const m=(0,N.m9)(y),w=yield m.getIdToken(p),A=ct(w);W(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,K=null==R?void 0:R.sign_in_provider;return{claims:A,token:w,authTime:Rn(Zt(A.auth_time)),issuedAtTime:Rn(Zt(A.iat)),expirationTime:Rn(Zt(A.exp)),signInProvider:K||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function ct(y){var p;const[m,w,A]=y.split(".");if(void 0===m||void 0===w||void 0===A)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,N.tV)(w);return R?JSON.parse(R):(nt("Failed to decode base64 JWT payload"),null)}catch(R){return nt("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function Di(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&Gt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Gt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Zs{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Ii{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(y){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),A=yield Di(y,Yr(m,{idToken:w}));W(null==A?void 0:A.users.length,m,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const K=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?H(R.providerUserInfo):[],ue=Z(y.providerData,K),yt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==ue?void 0:ue.length)),gt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ue,metadata:new Ii(R.createdAt,R.lastLoginAt),isAnonymous:yt};Object.assign(y,gt)})).apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(y){const p=(0,N.m9)(y);yield Vi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Z(y,p){return[...y.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function H(y){return y.map(p=>{var{providerId:m}=p,w=(0,ae._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function q(){return(q=(0,l.Z)(function*(y,p){const m=yield mr(y,{},(0,l.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,K=qs(y,A,"/v1/token",`key=${R}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(K,{method:"POST",headers:ue,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){W(p.idToken,"internal-error"),W(void 0!==p.idToken,"internal-error"),W(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function It(y){const p=ct(y);return W(p,"internal-error"),W(void 0!==p.exp,"internal-error"),W(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return W(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:K}=yield function $(y,p){return q.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(A,R,Number(K))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:A,expirationTime:R}=m,K=new xe;return w&&(W("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),A&&(W("string"==typeof A,"internal-error",{appName:p}),K.accessToken=A),R&&(W("number"==typeof R,"internal-error",{appName:p}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function Ve(y,p){W("string"==typeof y||void 0===y,"internal-error",{appName:p})}class ht{constructor(p){var{uid:m,auth:w,stsTokenManager:A}=p,R=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ii(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield Di(m,m.stsTokenManager.getToken(m.auth,p));return W(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Or(y){return sa.apply(this,arguments)}(this,p)}reload(){return function Ws(y){return j.apply(this,arguments)}(this)}_assign(p){this!==p&&(W(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ht(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield Vi(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield Di(p,function wt(y,p){return nr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,A,R,K,ue,Fe,rt,yt;const gt=null!==(w=m.displayName)&&void 0!==w?w:void 0,Vn=null!==(A=m.email)&&void 0!==A?A:void 0,Ir=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,pc=null!==(K=m.photoURL)&&void 0!==K?K:void 0,np=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,Eg=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,cl=null!==(rt=m.createdAt)&&void 0!==rt?rt:void 0,Ou=null!==(yt=m.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:gh,emailVerified:Dg,isAnonymous:$i,providerData:ip,stsTokenManager:rp}=m;W(gh&&rp,p,"internal-error");const sp=xe.fromJSON(this.name,rp);W("string"==typeof gh,p,"internal-error"),Ve(gt,p.name),Ve(Vn,p.name),W("boolean"==typeof Dg,p,"internal-error"),W("boolean"==typeof $i,p,"internal-error"),Ve(Ir,p.name),Ve(pc,p.name),Ve(np,p.name),Ve(Eg,p.name),Ve(cl,p.name),Ve(Ou,p.name);const mc=new ht({uid:gh,auth:p,email:Vn,emailVerified:Dg,displayName:gt,isAnonymous:$i,photoURL:pc,phoneNumber:Ir,tenantId:np,stsTokenManager:sp,createdAt:cl,lastLoginAt:Ou});return ip&&Array.isArray(ip)&&(mc.providerData=ip.map(gc=>Object.assign({},gc))),Eg&&(mc._redirectEventId=Eg),mc}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const A=new xe;A.updateFromServerResponse(m);const R=new ht({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield Vi(R),R})()}}const Wt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,l.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function ai(y,p,m){return`firebase:${y}:${p}:${m}`}class Vt{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=ai(this.userKey,A.apiKey,R),this.fullPersistenceKey=ai("persistence",A.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ht._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Vt(te(Wt),p,w);const A=(yield Promise.all(m.map(function(){var rt=(0,l.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let R=A[0]||te(Wt);const K=ai(w,p.config.apiKey,p.name);let ue=null;for(const rt of m)try{const yt=yield rt._get(K);if(yt){const gt=ht._fromJSON(p,yt);rt!==R&&(ue=gt),R=rt;break}}catch(yt){}const Fe=A.filter(rt=>rt._shouldAllowMigration);return R._shouldAllowMigration&&Fe.length?(R=Fe[0],ue&&(yield R._set(K,ue.toJSON())),yield Promise.all(m.map(function(){var rt=(0,l.Z)(function*(yt){if(yt!==R)try{yield yt._remove(K)}catch(gt){}});return function(yt){return rt.apply(this,arguments)}}())),new Vt(R,p,w)):new Vt(R,p,w)})()}}function _r(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ei(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Qr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ss(p))return"Blackberry";if(ti(p))return"Webos";if(oa(p))return"Safari";if((p.includes("chrome/")||Va(p))&&!p.includes("edge/"))return"Chrome";if(Bi(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Qr(y=(0,N.z$)()){return/firefox\//i.test(y)}function oa(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Va(y=(0,N.z$)()){return/crios\//i.test(y)}function ei(y=(0,N.z$)()){return/iemobile/i.test(y)}function Bi(y=(0,N.z$)()){return/android/i.test(y)}function Ss(y=(0,N.z$)()){return/blackberry/i.test(y)}function ti(y=(0,N.z$)()){return/webos/i.test(y)}function ir(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ks(y=(0,N.z$)()){return ir(y)||Bi(y)||ti(y)||Ss(y)||/windows phone/i.test(y)||ei(y)}function aa(y,p=[]){let m;switch(y){case"Browser":m=_r((0,N.z$)());break;case"Worker":m=`${_r((0,N.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${w}`}class rr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=R=>new Promise((K,ue)=>{try{K(p(R))}catch(Fe){ue(Fe)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var w;if(m.auth.currentUser===p)return;const A=[];try{for(const R of m.queue)yield R(p),R.onAbort&&A.push(R.onAbort)}catch(R){A.reverse();for(const K of A)try{K()}catch(ue){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Qe{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new on(this),this.idTokenSubscription=new on(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=te(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield Vt.create(w,p),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(K){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let R=A,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Fe=null==R?void 0:R._redirectEventId,rt=yield m.tryRedirectSignIn(p);(!ue||ue===Fe)&&(null==rt?void 0:rt.user)&&(R=rt.user,K=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ue){R=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return W(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var w;try{yield Vi(p)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Je(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&W(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&W(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(te(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&te(p)||m._popupRedirectResolver;W(w,m,"argument-error"),m.redirectPersistenceManager=yield Vt.create(m,[te(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,A){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return W(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function ft(y){return(0,N.m9)(y)}class on{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Jr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Pr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ee("not implemented")}_getIdTokenResponse(p){return Ee("not implemented")}_linkToIdToken(p,m){return Ee("not implemented")}_getReauthenticationResolver(p){return Ee("not implemented")}}function On(y,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:resetPassword",Kt(y,p))})).apply(this,arguments)}function Ua(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pl(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",Kt(y,p))})).apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithPassword",Kt(y,p))})).apply(this,arguments)}function Qs(y,p){return En.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendOobCode",Kt(y,p))})).apply(this,arguments)}function dn(y,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function Ha(y,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function yr(y,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function Dd(y,p){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}class Ti extends Pr{constructor(p,m,w,A=null){super("password",w),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Ti(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Ti(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function ni(y,p){return Do.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ts(y,p){return tu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ua(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Zm(y,p){return Id.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xs(y,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithIdp",Kt(y,p))})).apply(this,arguments)}class As extends Pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new As(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=m,R=(0,ae._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const K=new As(w,A);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(p){return Xs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Xs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function nu(y,p){return Td.apply(this,arguments)}function Td(){return(Td=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,p))})).apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p))})).apply(this,arguments)}function Ad(){return(Ad=(0,l.Z)(function*(y,p){const m=yield er(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p));if(m.temporaryProof)throw Kr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ym={USER_NOT_FOUND:"user-not-found"};function xd(){return(xd=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ym)})).apply(this,arguments)}class la extends Pr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new la({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new la({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function iu(y,p){return Js.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Km(y,p){return Ad.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Qm(y,p){return xd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}=p;return w||m||A||R?new la({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class Fl{constructor(p){var m,w,A,R,K,ue;const Fe=(0,N.zd)((0,N.pd)(p)),rt=null!==(m=Fe.apiKey)&&void 0!==m?m:null,yt=null!==(w=Fe.oobCode)&&void 0!==w?w:null,gt=function kf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Fe.mode)&&void 0!==A?A:null);W(rt&&yt&&gt,"argument-error"),this.apiKey=rt,this.operation=gt,this.code=yt,this.continueUrl=null!==(R=Fe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=Fe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ue=Fe.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const m=function Ga(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||p||y}(p);try{return new Fl(m)}catch(w){return null}}}let kd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Ti._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=Fl.parseLink(w);return W(A,"argument-error"),Ti._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ai{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Io extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ns extends Io{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return W("providerId"in m&&"signInMethod"in m,"argument-error"),As._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return W(p.idToken||p.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ns.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ns.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:K,providerId:ue}=p;if(!w&&!A&&!m&&!R||!ue)return null;try{return new ns(ue)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:R})}catch(Fe){return null}}}let ca=(()=>{class y extends Io{constructor(){super("facebook.com")}static credential(m){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Rd=(()=>{class y extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return y.credential(w,A)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Rf=(()=>{class y extends Io{constructor(){super("github.com")}static credential(m){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class To extends Pr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Xs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Xs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:R}=m;return w&&A&&R&&w===A?new To(w,R):null}static _create(p,m){return new To(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends Ai{constructor(p){W(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ui.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ui.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=To.fromJSON(p);return W(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return To._create(w,m)}catch(A){return null}}}let Od=(()=>{class y extends Io{constructor(){super("twitter.com")}static credential(m,w){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return y.credential(w,A)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function li(y,p){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signUp",Kt(y,p))})).apply(this,arguments)}class vr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,A=!1){return(0,l.Z)(function*(){const R=yield ht._fromIdTokenResponse(p,w,A),K=ru(w);return new vr({user:R,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=ru(w);return new vr({user:p,providerId:A,_tokenResponse:w,operationType:m})})()}}function ru(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function su(){return(su=(0,l.Z)(function*(y){var p;const m=ft(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new vr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield li(m,{returnSecureToken:!0}),A=yield vr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class ha extends N.ZR{constructor(p,m,w,A){var R;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ha.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,A){return new ha(p,m,w,A)}}function ou(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ha._fromErrorAndOperation(y,R,p,w):R})}function is(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function hn(){return(hn=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);yield en(!0,m,p);const{providerUserInfo:w}=yield kn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=is(w||[]);return m.providerData=m.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function $a(y,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(y,p,m=!1){const w=yield Di(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return vr._forOperation(y,"link",w)})).apply(this,arguments)}function en(y,p,m){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p,m){yield Vi(p);const A=!1===y?"provider-already-linked":"no-such-provider";W(is(p.providerData).has(m)===y,p.auth,A)})).apply(this,arguments)}function Ll(y,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(y,p,m=!1){var w;const{auth:A}=y,R="reauthenticate";try{const K=yield Di(y,ou(A,R,p,y),m);W(K.idToken,A,"internal-error");const ue=ct(K.idToken);W(ue,A,"internal-error");const{sub:Fe}=ue;return W(y.uid===Fe,A,"user-mismatch"),vr._forOperation(y,R,K)}catch(K){throw"auth/user-not-found"===(null===(w=K)||void 0===w?void 0:w.code)&&Ae(A,"user-mismatch"),K}})).apply(this,arguments)}function gi(y,p){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(y,p,m=!1){const w="signIn",A=yield ou(y,w,p),R=yield vr._fromIdTokenResponse(y,w,A);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Dn(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(y,p){return gi(ft(y),p)})).apply(this,arguments)}function _i(y,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);return yield en(!1,m,p.providerId),$a(m,p)})).apply(this,arguments)}function xs(y,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(y,p){return Ll((0,N.m9)(y),p)})).apply(this,arguments)}function Nr(y,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,p))})).apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(y,p){const m=ft(y),w=yield Nr(m,{token:p,returnSecureToken:!0}),A=yield vr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class to{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?lu._fromServerResponse(p,m):Ae(p,"internal-error")}}class lu extends to{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new lu(m)}}function Za(y,p,m){var w;W((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),W(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(W(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(W(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Vl(){return(Vl=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),A={requestType:"PASSWORD_RESET",email:p};m&&Za(w,A,m),yield Ha(w,A)})).apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(y,p,m){yield On((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(y,p){yield Pl((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ht(y,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),w=yield On(m,{oobCode:p}),A=w.requestType;switch(W(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(w.mfaInfo,m,"internal-error");default:W(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=to._fromServerResponse(ft(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(y,p){const{data:m}=yield Ht((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(y,p,m){const w=ft(y),A=yield li(w,{returnSecureToken:!0,email:p,password:m}),R=yield vr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};W(m.handleCodeInApp,w,"argument-error"),m&&Za(w,A,m),yield yr(w,A)})).apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),A=kd.credentialWithLink(p,m||Pe());return W(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Dn(w,A)})).apply(this,arguments)}function xi(y,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:createAuthUri",Kt(y,p))})).apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:pt()?Pe():"http://localhost"},{signinMethods:A}=yield xi((0,N.m9)(y),w);return A||[]})).apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Za(m.auth,A,p);const{email:R}=yield dn(m.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Za(w.auth,R,m);const{email:K}=yield Dd(w.auth,R);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function mu(y,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,N.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield Di(w,mu(w.auth,R));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const ue=w.providerData.find(({providerId:Fe})=>"password"===Fe);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function ql(y,p,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(y,p,m){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const K=yield Di(y,Ua(w,R));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ga{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Bd extends ga{constructor(p,m,w,A){super(p,m,w),this.username=A}}class Zl extends ga{constructor(p,m){super(p,"facebook.com",m)}}class or extends Bd{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Pf extends ga{constructor(p,m){super(p,"google.com",m)}}class gu extends Bd{constructor(p,m,w){super(p,"twitter.com",m,w)}}function ci(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Vd(y){var p,m;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const K=null===(m=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new ga(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new Zl(R,A);case"github.com":return new or(R,A);case"google.com":return new Pf(R,A);case"twitter.com":return new gu(R,A,y.screenName||null);case"custom":case"anonymous":return new ga(R,null);default:return new ga(R,w,A)}}(m)}class ks{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ks("enroll",p)}static _fromMfaPendingCredential(p){return new ks("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ks._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return ks._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Po{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=ft(p),A=m.customData._serverResponse,R=(A.mfaInfo||[]).map(ue=>to._fromServerResponse(w,ue));W(A.mfaPendingCredential,w,"internal-error");const K=ks._fromMfaPendingCredential(A.mfaPendingCredential);return new Po(K,R,function(){var ue=(0,l.Z)(function*(Fe){const rt=yield Fe._process(w,K);delete A.mfaInfo,delete A.mfaPendingCredential;const yt=Object.assign(Object.assign({},A),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(m.operationType){case"signIn":const gt=yield vr._fromIdTokenResponse(w,m.operationType,yt);return yield w._updateCurrentUser(gt.user),gt;case"reauthenticate":return W(m.user,w,"internal-error"),vr._forOperation(m.user,m.operationType,yt);default:Ae(w,"internal-error")}});return function(Fe){return ue.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function Hd(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,p))}class _a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>to._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new _a(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ks._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const A=p,R=yield w.getSession(),K=yield Di(w.user,A._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var w;const A="string"==typeof p?p:p.uid,R=yield m.user.getIdToken(),K=yield Di(m.user,function No(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,p))}(m.user.auth,{idToken:R,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ue})=>ue!==A),yield m.user._updateTokensIfNecessary(K);try{yield m.user.reload()}catch(ue){if("auth/user-token-expired"!==(null===(w=ue)||void 0===w?void 0:w.code))throw ue}})()}}const Wl=new WeakMap,os="__sak";class Ka{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const _t=(()=>{class y extends Ka{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tg(){const y=(0,N.z$)();return oa(y)||ir(y)}()&&function mi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ks(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&m(w,R,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ue,Fe,rt)=>{this.notifyListeners(ue,rt)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(A);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const R=()=>{const ue=this.storage.getItem(A);!w&&this.localCache[A]===ue||this.notifyListeners(A,ue)},K=this.storage.getItem(A);!function Ba(){return(0,N.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,R=this;return(0,l.Z)(function*(){yield A().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,l.Z)(function*(){const R=yield w().call(A,m);return A.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,A=this;return(0,l.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),nn=(()=>{class y extends Ka{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let jd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const A=m,{eventId:R,eventType:K,data:ue}=A.data,Fe=w.handlersMap[K];if(!(null==Fe?void 0:Fe.size))return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const rt=Array.from(Fe).map(function(){var gt=(0,l.Z)(function*(Vn){return Vn(A.origin,ue)});return function(Vn){return gt.apply(this,arguments)}}()),yt=yield function Qa(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(rt);A.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:yt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ya(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class io{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var A=this;return(0,l.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,ue;return new Promise((Fe,rt)=>{const yt=ya("",20);R.port1.start();const gt=setTimeout(()=>{rt(new Error("unsupported_event"))},w);ue={messageChannel:R,onMessage(Vn){const Ir=Vn;if(Ir.data.eventId===yt)switch(Ir.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Fe(Ir.data.response);break;default:clearTimeout(gt),clearTimeout(K),rt(new Error("invalid_response"))}}},A.handlers.add(ue),R.port1.addEventListener("message",ue.onMessage),A.target.postMessage({eventType:p,eventId:yt,data:m},[R.port2])}).finally(()=>{ue&&A.removeMessageHandler(ue)})})()}}function Pn(){return window}function as(){return void 0!==Pn().WorkerGlobalScope&&"function"==typeof Pn().importScripts}function Gd(){return(Gd=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Xa="firebaseLocalStorageDb",ls="firebaseLocalStorage",Ja="fbase_key";class Rs{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function so(y,p){return y.transaction([ls],p?"readwrite":"readonly").objectStore(ls)}function oo(){const y=indexedDB.open(Xa,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ls,{keyPath:Ja})}catch(A){m(A)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ls)?p(w):(w.close(),yield function $n(){const y=indexedDB.deleteDatabase(Xa);return new Rs(y).toPromise()}(),p(yield oo()))}))})}function el(y,p,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(y,p,m){const w=so(y,!0).put({[Ja]:p,value:m});return new Rs(w).toPromise()})).apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(y,p){const m=so(y,!1).get(p),w=yield new Rs(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ao(y,p){const m=so(y,!0).delete(p);return new Rs(m).toPromise()}const yi=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield oo()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return as()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=jd._getInstance(function Kl(){return as()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(A,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function tt(){return Gd.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new io(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function $d(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield oo();return yield el(m,os,"1"),yield ao(m,os),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(R=>el(R,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const A=yield w._withRetries(R=>function Lo(y,p){return va.apply(this,arguments)}(R,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(A=>ao(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(K=>{const ue=so(K,!1).getAll();return new Rs(ue).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:K,value:ue}of w)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(ue)&&(m.notifyListeners(K,ue),A.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),A.push(K));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function wn(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,p))}function ln(){return(ln=(0,l.Z)(function*(y){return(yield Ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nn(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=A=>{const R=ye("internal-error");R.customData=A,m(R)},w.type="text/javascript",w.charset="UTF-8",function fn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function co(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ki=1e12;class zn{constructor(p){this.auth=p,this.counter=ki,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Vr(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||ki;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ki))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||ki))||void 0===w||w.execute(),""})()}}class Vr{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;W(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zd(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vu=co("rcb"),In=new tn(3e4,6e4);class Zd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=Pn().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return W(function tl(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Pn().grecaptcha):new Promise((w,A)=>{const R=Pn().setTimeout(()=>{A(ye(p,"network-request-failed"))},In.get());Pn()[vu]=()=>{Pn().clearTimeout(R),delete Pn()[vu];const ue=Pn().grecaptcha;if(!ue)return void A(ye(p,"internal-error"));const Fe=ue.render;ue.render=(rt,yt)=>{const gt=Fe(rt,yt);return this.counter++,gt},this.hostLanguage=m,w(ue)},Nn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:vu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),A(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=Pn().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vi{load(p){return(0,l.Z)(function*(){return new zn(p)})()}clearedOneInstance(){}}const Ff="recaptcha",Vo={theme:"light",type:"image"};class Lf{constructor(p,m=Object.assign({},Vo),w){this.parameters=m,this.type=Ff,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(w),this.isInvisible="invisible"===this.parameters.size,W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;W(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vi:new Zd,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const K=ue=>{!ue||(p.tokenChangeListeners.delete(K),R(ue))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Pn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){W(pt()&&!as(),p.auth,"internal-error"),yield function Ps(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Mi(y){return ln.apply(this,arguments)}(p.auth);W(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wd{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=la._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ba(){return(ba=(0,l.Z)(function*(y,p,m){const w=ft(y),A=yield ji(w,p,(0,N.m9)(m));return new Wd(A,R=>Dn(w,R))})).apply(this,arguments)}function Kd(){return(Kd=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);yield en(!1,w,"phone");const A=yield ji(w.auth,p,(0,N.m9)(m));return new Wd(A,R=>_i(w,R))})).apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),A=yield ji(w.auth,p,(0,N.m9)(m));return new Wd(A,R=>xs(w,R))})).apply(this,arguments)}function ji(y,p,m){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(y,p,m){var w;const A=yield m.verify();try{let R;if(W("string"==typeof A,y,"argument-error"),W(m.type===Ff,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const K=R.session;if("phoneNumber"in R)return W("enroll"===K.type,y,"internal-error"),(yield Hd(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{W("signin"===K.type,y,"internal-error");const ue=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return W(ue,y,"missing-multi-factor-info"),(yield wn(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield nu(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return K}}finally{m._reset()}})).apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(y,p){yield $a((0,N.m9)(y),p)})).apply(this,arguments)}let wa=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=ft(m)}verifyPhoneNumber(m,w){return ji(this.auth,m,(0,N.m9)(w))}static credential(m,w){return la._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?la._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function uo(y,p){return p?te(p):(W(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Yl extends Pr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Xs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Xs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Bt(y){return gi(y.auth,new Yl(y),y.bypassAuthState)}function Yd(y){const{auth:p,user:m}=y;return W(m,p,"internal-error"),Ll(m,new Yl(y),y.bypassAuthState)}function Ns(y){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return W(m,p,"internal-error"),$a(m,new Yl(y),y.bypassAuthState)})).apply(this,arguments)}class ho{constructor(p,m,w,A,R=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:K,error:ue,type:Fe}=p;if(ue)return void m.reject(ue);const rt={auth:m.auth,requestUri:w,sessionId:A,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(rt))}catch(yt){m.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return Ns;case"reauthViaPopup":case"reauthViaRedirect":return Yd;default:Ae(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fo=new tn(2e3,1e4);function Ca(){return(Ca=(0,l.Z)(function*(y,p,m){const w=ft(y);Be(y,p,Ai);const A=uo(w,m);return new Xd(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);return new Xd(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);return new Xd(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let Xd=(()=>{class y extends ho{constructor(m,w,A,R,K){super(m,w,R,K),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return W(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const w=ya();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,fo.get())};m()}}return y.currentPopupAction=null,y})();const ui=new Map;class Xl extends ho{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=ui.get(m.auth._key());if(!w){try{const R=(yield function ng(y,p){return Gi.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}ui.set(m.auth._key(),w)}return m.bypassAuthState||ui.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Gi(){return(Gi=(0,l.Z)(function*(y,p){const m=ec(p),w=Jl(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function Ea(y,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(y,p){return Jl(y)._set(ec(p),"true")})).apply(this,arguments)}function eh(y,p){ui.set(y._key(),p)}function Jl(y){return te(y._redirectPersistence)}function ec(y){return ai("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,l.Z)(function*(y,p,m){const w=ft(y);Be(y,p,Ai);const A=uo(w,m);return yield Ea(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);yield Ea(A,w.auth);const R=yield lt(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);yield en(!1,w,p.providerId),yield Ea(A,w.auth);const R=yield lt(w);return A._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(y,p){return yield ft(y)._initializationPromise,Dt(y,p,!1)})).apply(this,arguments)}function Dt(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(y,p,m=!1){const w=ft(y),A=uo(w,p),K=yield new Xl(w,A,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function lt(y){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(y){const p=ya(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class po{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function nc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return us(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!us(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mo(p))}saveEventToCache(p){this.cachedEventUids.add(mo(p)),this.lastProcessedEventTime=Date.now()}}function mo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function us({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function rl(y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(y,p={}){return Ut(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ds=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Br=/^https?/;function Uf(){return(Uf=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield rl(y);for(const m of p)try{if(b0(m))return}catch(w){}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function b0(y){const p=Pe(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!Br.test(m))return!1;if(ds.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const ig=new tn(3e4,6e4);function Hf(){const y=Pn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ic=null;function Ho(y){return ic=ic||function rg(y){return new Promise((p,m)=>{var w,A,R;function K(){Hf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Hf(),m(ye(y,"network-request-failed"))},timeout:ig.get()})}if(null===(A=null===(w=Pn().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Pn().gapi)||void 0===R?void 0:R.load)){const ue=co("iframefcb");return Pn()[ue]=()=>{gapi.load?K():m(ye(y,"network-request-failed"))},Nn(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Fe=>m(Fe))}K()}}).catch(p=>{throw ic=null,p})}(y),ic}const rc=new tn(5e3,15e3),sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sg(y){const p=y.config;W(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Mn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:de.SDK_VERSION},A=oc.get(y.config.apiHost);A&&(w.eid=A);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function jo(){return jo=(0,l.Z)(function*(y){const p=yield Ho(y),m=Pn().gapi;return W(m,y,"internal-error"),p.open({where:document.body,url:sg(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sc,dontclear:!0},w=>new Promise(function(){var A=(0,l.Z)(function*(R,K){yield w.restyle({setHideOnLeave:!1});const ue=ye(y,"network-request-failed"),Fe=Pn().setTimeout(()=>{K(ue)},rc.get());function rt(){Pn().clearTimeout(Fe),R(w)}w.ping(rt).then(rt,()=>{K(ue)})});return function(R,K){return A.apply(this,arguments)}}()))}),jo.apply(this,arguments)}const nh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class og{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Er(y,p,m,w,A,R){W(y.config.authDomain,y,"auth-domain-config-required"),W(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:de.SDK_VERSION,eventId:A};if(p instanceof Ai){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Fe,rt]of Object.entries(R||{}))K[Fe]=rt}if(p instanceof Io){const Fe=p.getScopes().filter(rt=>""!==rt);Fe.length>0&&(K.scopes=Fe.join(","))}y.tenantId&&(K.tid=y.tenantId);const ue=K;for(const Fe of Object.keys(ue))void 0===ue[Fe]&&delete ue[Fe];return`${function go({config:y}){return y.emulator?Mn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ue).slice(1)}`}const ac="webStorageSupport";class Du extends class Sy{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ee("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Du(p)}_finalizeEnroll(p,m,w){return function eg(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function yu(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ty=(()=>{class y{constructor(){}static assertion(m){return Du._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var $f="@firebase/auth";class cg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sl(){return window}function hs(){return(hs=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:A}=sl();Y(p.sessionId,"AuthEvent did not contain a session ID");const R=yield C0(p.sessionId),K={};return ir()?K.ibi=A.packageName:Bi()?K.apn=A.packageName:Ae(y,"operation-not-supported-in-this-environment"),A.displayName&&(K.appDisplayName=A.displayName),K.sessionId=R,Er(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function oh(){return(oh=(0,l.Z)(function*(y){const{BuildInfo:p}=sl(),m={};ir()?m.iosBundleId=p.packageName:Bi()?m.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield rl(y,m)})).apply(this,arguments)}function ug(){return(ug=(0,l.Z)(function*(y,p,m){const{cordova:w}=sl();let A=()=>{};try{yield new Promise((R,K)=>{let ue=null;function Fe(){var gt;R();const Vn=null===(gt=w.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof Vn&&Vn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function rt(){ue||(ue=window.setTimeout(()=>{K(ye(y,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}p.addPassiveListener(Fe),document.addEventListener("resume",rt,!1),Bi()&&document.addEventListener("visibilitychange",yt,!1),A=()=>{p.removePassiveListener(Fe),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",yt,!1),ue&&window.clearTimeout(ue)}})}finally{A()}})).apply(this,arguments)}function C0(y){return Su.apply(this,arguments)}function Su(){return(Su=(0,l.Z)(function*(y){const p=qf(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qf(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function Ay(y){(0,de._registerComponent)(new ie.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:R,authDomain:K}=w.options;return((ue,Fe)=>{W(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),W(!(null==K?void 0:K.includes(":")),"argument-error",{appName:ue.name});const rt={apiKey:R,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aa(y)},yt=new Qe(ue,Fe,rt);return function ce(y,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(te);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(yt,m),yt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ie.wA("auth-internal",p=>{const m=ft(p.getProvider("auth").getImmediate());return new cg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)($f,"0.20.6",function sh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,de.registerVersion)($f,"0.20.6","esm2017")}("Browser");class lh extends po{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function uc(y){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,l.Z)(function*(y){const p=yield Au()._get(dc(y));return p&&(yield Au()._remove(dc(y))),p})).apply(this,arguments)}function hg(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Au(){return te(_t)}function dc(y){return ai("authEvent",y.config.apiKey,y.name)}function cr(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}function ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function Ia(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function _g(y=(0,N.z$)()){return!("file:"!==Ia()&&"ionic:"!==Ia()&&"capacitor:"!==Ia()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kf(){try{const y=self.localStorage,p=ya();if(y)return y.setItem(p,"1"),y.removeItem(p),!function dh(y=(0,N.z$)()){return function hc(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function di(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return hh()&&(0,N.hl)()}return!1}function hh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bi(){return(function gg(){return"http:"===Ia()||"https:"===Ia()}()||(0,N.ru)()||_g())&&!function Wf(){return(0,N.b$)()||(0,N.UG)()}()&&Kf()&&!hh()}function fc(){return _g()&&"undefined"!=typeof document}function Mu(){return(Mu=(0,l.Z)(function*(){return!!fc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ur={LOCAL:"local",NONE:"none",SESSION:"session"},Sa=W,Qf="persistence";function al(y){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,l.Z)(function*(y){yield y._initializationPromise;const p=fh(),m=ai(Qf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function fh(){var y;try{return(null===(y=function Py(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Fy=W;class fs{constructor(){this.browserResolver=te(class ag{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nn,this._completeRedirectFn=Dt,this._overrideRedirectResult=eh}_openPopup(p,m,w,A){var R=this;return(0,l.Z)(function*(){var K;Y(null===(K=R.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ue=Er(p,m,w,Pe(),A);return function Eu(y,p,m,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const Fe=Object.assign(Object.assign({},nh),{width:w.toString(),height:A.toString(),top:R,left:K}),rt=(0,N.z$)().toLowerCase();m&&(ue=Va(rt)?"_blank":m),Qr(rt)&&(p=p||"http://localhost",Fe.scrollbars="yes");const yt=Object.entries(Fe).reduce((Vn,[Ir,pc])=>`${Vn}${Ir}=${pc},`,"");if(function Eo(y=(0,N.z$)()){var p;return ir(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(rt)&&"_self"!==ue)return function Ey(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ue),new og(null);const gt=window.open(p||"",ue,yt);W(gt,y,"popup-blocked");try{gt.focus()}catch(Vn){}return new og(gt)}(p,ue,ya())})()}_openRedirect(p,m,w,A){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(p),function ro(y){Pn().location.href=y}(Er(p,m,w,Pe(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:R}=this.eventManagers[m];return A?Promise.resolve(A):(Y(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function w0(y){return jo.apply(this,arguments)}(p),A=new po(p);return w.register("authEvent",R=>(W(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ac,{type:ac},A=>{var R;const K=null===(R=null==A?void 0:A[0])||void 0===R?void 0:R[ac];void 0!==K&&m(!!K),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Da(y){return Uf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ks()||oa()||ir()}}),this.cordovaResolver=te(class pg{constructor(){this._redirectPersistence=nn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dt,this._overrideRedirectResult=eh}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let A=m.eventManagers.get(w);return A||(A=new lh(p),m.eventManagers.set(w,A),m.attachCallbackListeners(p,A)),A})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,A){var R=this;return(0,l.Z)(function*(){!function cc(y){var p,m,w,A,R,K,ue,Fe,rt,yt;const gt=sl();W("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W("function"==typeof(null===(R=null===(A=null===(w=null==gt?void 0:gt.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(Fe=null===(ue=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Fe?void 0:Fe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(yt=null===(rt=null==gt?void 0:gt.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===yt?void 0:yt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield R._initialize(p);yield K.initialized(),K.resetRedirect(),function Jd(){ui.clear()}(),yield R._originValidation(p);const ue=function ch(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:hg(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(p,w,A);yield function dg(y,p){return Au()._set(dc(y),p)}(p,ue);const Fe=yield function zf(y,p,m){return hs.apply(this,arguments)}(p,ue,m),rt=yield function ah(y){const{cordova:p}=sl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let A=null;w?p.plugins.browsertab.openUrl(y):A=p.InAppBrowser.open(y,function Ed(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(Fe);return function $o(y,p,m){return ug.apply(this,arguments)}(p,K,rt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Iu(y){return oh.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=sl(),K=setTimeout((0,l.Z)(function*(){yield uc(p),m.onEvent(ol())}),500),ue=function(){var yt=(0,l.Z)(function*(gt){clearTimeout(K);const Vn=yield uc(p);let Ir=null;Vn&&(null==gt?void 0:gt.url)&&(Ir=function My(y,p){var m,w;const A=function xu(y){const p=cr(y),m=p.link?decodeURIComponent(p.link):void 0,w=cr(m).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return cr(A).link||A||w||m||y}(p);if(A.includes("/__/auth/callback")){const R=cr(A),K=R.firebaseError?function fg(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,ue=null===(w=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Fe=ue?ye(ue):null;return Fe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Vn,gt.url)),m.onEvent(Ir||ol())});return function(Vn){return yt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const Fe=A,rt=`${R.packageName.toLowerCase()}://`;sl().handleOpenURL=function(){var yt=(0,l.Z)(function*(gt){if(gt.toLowerCase().startsWith(rt)&&ue({url:gt}),"function"==typeof Fe)try{Fe(gt)}catch(Vn){console.error(Vn)}});return function(gt){return yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=nn,this._completeRedirectFn=Dt,this._overrideRedirectResult=eh}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,A){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,w,A)})()}_openRedirect(p,m,w,A){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,w,A)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return fc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Yf(){return Mu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function ph(y){return y.unwrap()}function Vy(y){return yg(y)}function yg(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return wa.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Rd;break;case"facebook.com":w=ca;break;case"github.com":w=Rf;break;case"twitter.com":w=Od;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:K,pendingToken:ue,nonce:Fe}=p;return R||K||A||ue?ue?m.startsWith("saml.")?To._create(m,ue):As._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:A,accessToken:R}):new ns(m).credential({idToken:A,accessToken:R,rawNonce:Fe}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Dr(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function mh(y,p){var m,w;const A=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new By(y,function ii(y,p){var m;const w=(0,N.m9)(y),A=p;return W(p.customData.operationType,w,"argument-error"),W(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Po._fromError(w,A)}(y,p));else if(A){const R=yg(p),K=p;R&&(K.credential=R,K.tenantId=A.tenantId||void 0,K.email=A.email||void 0,K.phoneNumber=A.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Vy(m),additionalUserInfo:ci(m),user:Ls.getOrCreate(A)}})}function Jf(y,p){return ep.apply(this,arguments)}function ep(){return(ep=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Dr(y,m.confirm(w))}})).apply(this,arguments)}class By{constructor(p,m){this.resolver=m,this.auth=function Ly(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Dr(ph(this.auth),this.resolver.resolveSignIn(p))}}class Ls{constructor(p){this._delegate=p,this.multiFactor=function _u(y){const p=(0,N.m9)(y);return Wl.has(p)||Wl.set(p,_a._fromUser(p)),Wl.get(p)}(p)}static getOrCreate(p){return Ls.USER_MAP.has(p)||Ls.USER_MAP.set(p,new Ls(p)),Ls.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Dr(m.auth,_i(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return Jf(w.auth,function nl(y,p,m){return Kd.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Dr(m.auth,function Bf(y,p,m){return Ql.apply(this,arguments)}(m._delegate,p,fs))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield al(ft(m.auth)),function Q(y,p,m){return function oe(y,p,m){return Se.apply(this,arguments)}(y,p,m)}(m._delegate,p,fs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Dr(m.auth,xs(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Jf(this.auth,function Vf(y,p,m){return Hi.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Dr(this.auth,function Fs(y,p,m){return wu.apply(this,arguments)}(this._delegate,p,fs))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield al(ft(m.auth)),function S(y,p,m){return function M(y,p,m){return V.apply(this,arguments)}(y,p,m)}(m._delegate,p,fs)})()}sendEmailVerification(p){return function Fr(y,p){return pu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Of(y,p){return hn.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Fd(y,p){return ql((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Ld(y,p){return ql((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function bu(y,p){return Bo.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function $l(y,p){return zl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function jl(y,p,m){return Gl.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;const Ru=W;let vg=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;Ru(A,"invalid-api-key",{appName:m.name}),Ru(A,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?fs:void 0;this._delegate=w.initialize({options:{persistence:Uy(A,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function sr(y,p,m){const w=ft(y);W(w._canInitEmulator,w,"emulator-config-failed"),W(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),R=Xr(p),{host:K,port:ue}=function jn(y){const p=Xr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:Jr(w.substr(R.length+1))}}{const[R,K]=w.split(":");return{host:R,port:Jr(K)}}}(p);w.config.emulator={url:`${R}//${K}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:ue,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function yn(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function pa(y,p){return Me.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ht(this._delegate,m)}confirmPasswordReset(m,w){return function Bl(y,p,m){return uu.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,l.Z)(function*(){return Dr(A._delegate,function ko(y,p,m){return br.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Hl(y,p){return no.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Nd(y,p){const m=Fl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Ru(bi(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Ze(y,p){return ut.apply(this,arguments)}(m._delegate,fs);return w?Dr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function mg(y,p){ft(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:R,error:K,complete:ue}=bg(m,w,A);return this._delegate.onAuthStateChanged(R,K,ue)}onIdTokenChanged(m,w,A){const{next:R,error:K,complete:ue}=bg(m,w,A);return this._delegate.onIdTokenChanged(R,K,ue)}sendSignInLinkToEmail(m,w){return function hu(y,p,m){return fu.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function cu(y,p,m){return Vl.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let A;switch(function Ny(y,p){Sa(Object.values(ur).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Sa(p!==ur.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Sa(p===ur.NONE,y,"unsupported-persistence-type"):hh()?Sa(p===ur.NONE||p===ur.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Sa(p===ur.NONE||Kf(),y,"unsupported-persistence-type")}(w._delegate,m),m){case ur.SESSION:A=nn;break;case ur.LOCAL:A=(yield te(yi)._isAvailable())?yi:_t;break;case ur.NONE:A=Wt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Dr(this._delegate,function Pd(y){return su.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Dr(this._delegate,Dn(this._delegate,m))}signInWithCustomToken(m){return Dr(this._delegate,function fa(y,p){return Ct.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Dr(this._delegate,function du(y,p,m){return Dn((0,N.m9)(y),kd.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Dr(this._delegate,function Xm(y,p,m){return Ms.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Jf(this._delegate,function Fn(y,p,m){return ba.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return Ru(bi(),w._delegate,"operation-not-supported-in-this-environment"),Dr(w._delegate,function Qd(y,p,m){return Ca.apply(this,arguments)}(w._delegate,m,fs))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return Ru(bi(),w._delegate,"operation-not-supported-in-this-environment"),yield al(w._delegate),function tc(y,p,m){return function cs(y,p,m){return D.apply(this,arguments)}(y,p,m)}(w._delegate,m,fs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function bn(y,p){return Ul.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ur,y})();function bg(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const A=w;return{next:K=>A(K&&Ls.getOrCreate(K)),error:p,complete:m}}function Uy(y,p){const m=function ku(y,p){const m=fh();if(!m)return[];const w=ai(Qf,y,p);switch(m.getItem(w)){case ur.NONE:return[Wt];case ur.LOCAL:return[yi,nn];case ur.SESSION:return[nn];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(yi)&&m.push(yi),"undefined"!=typeof window)for(const w of[_t,nn])m.includes(w)||m.push(w);return m.includes(Wt)||m.push(Wt),m}class tp{constructor(){this.providerId="phone",this._delegate=new wa(ph(ee.Z.auth()))}static credential(p,m){return wa.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}tp.PHONE_SIGN_IN_METHOD=wa.PHONE_SIGN_IN_METHOD,tp.PROVIDER_ID=wa.PROVIDER_ID;const wg=W;class E0{constructor(p,m,w=ee.Z.app()){var A;wg(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Lf(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ll(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new vg(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:kd,FacebookAuthProvider:ca,GithubAuthProvider:Rf,GoogleAuthProvider:Rd,OAuthProvider:ns,SAMLAuthProvider:Ui,PhoneAuthProvider:tp,PhoneMultiFactorGenerator:Ty,RecaptchaVerifier:E0,TwitterAuthProvider:Od,Auth:vg,AuthCredential:Pr,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.19")}(ee.Z)},8306:(it,Ce,P)=>{P.d(Ce,{y:()=>G});var l=P(930),ee=P(727),N=P(8822),de=P(4671);var ie=P(2416),he=P(576),ge=P(2806);let G=(()=>{class Te{constructor(He){He&&(this._subscribe=He)}lift(He){const pe=new Te;return pe.source=this,pe.operator=He,pe}subscribe(He,pe,De){const Ke=function Ge(Te){return Te&&Te instanceof l.Lv||function ne(Te){return Te&&(0,he.m)(Te.next)&&(0,he.m)(Te.error)&&(0,he.m)(Te.complete)}(Te)&&(0,ee.Nn)(Te)}(He)?He:new l.Hp(He,pe,De);return(0,ge.x)(()=>{const{operator:nt,source:Ae}=this;Ke.add(nt?nt.call(Ke,Ae):Ae?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(He){try{return this._subscribe(He)}catch(pe){He.error(pe)}}forEach(He,pe){return new(pe=z(pe))((De,Ke)=>{const nt=new l.Hp({next:Ae=>{try{He(Ae)}catch(ye){Ke(ye),nt.unsubscribe()}},error:Ke,complete:De});this.subscribe(nt)})}_subscribe(He){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(He)}[N.L](){return this}pipe(...He){return function me(Te){return 0===Te.length?de.y:1===Te.length?Te[0]:function(He){return Te.reduce((pe,De)=>De(pe),He)}}(He)(this)}toPromise(He){return new(He=z(He))((pe,De)=>{let Ke;this.subscribe(nt=>Ke=nt,nt=>De(nt),()=>pe(Ke))})}}return Te.create=Re=>new Te(Re),Te})();function z(Te){var Re;return null!==(Re=null!=Te?Te:ie.v.Promise)&&void 0!==Re?Re:Promise}},7579:(it,Ce,P)=>{P.d(Ce,{x:()=>ie});var l=P(8306),ee=P(727);const de=(0,P(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=P(8737),me=P(2806);let ie=(()=>{class ge extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ne=new he(this,this);return ne.operator=z,ne}_throwIfClosed(){if(this.closed)throw new de}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ne}=this;for(;ne.length;)ne.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ne,isStopped:Ge,observers:Te}=this;return ne||Ge?ee.Lc:(this.currentObservers=null,Te.push(z),new ee.w0(()=>{this.currentObservers=null,(0,ae.P)(Te,z)}))}_checkFinalizedStatuses(z){const{hasError:ne,thrownError:Ge,isStopped:Te}=this;ne?z.error(Ge):Te&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return ge.create=(G,z)=>new he(G,z),ge})();class he extends ie{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ne||ne.call(z,G)}error(G){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ne||ne.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,ne;return null!==(ne=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==ne?ne:ee.Lc}}},930:(it,Ce,P)=>{P.d(Ce,{Hp:()=>He,Lv:()=>ne});var l=P(576),ee=P(727),N=P(2416),de=P(7849),ae=P(5032);const me=ge("C",void 0,void 0);function ge(Ae,ye,Ie){return{kind:Ae,value:ye,error:Ie}}var G=P(3410),z=P(2806);class ne extends ee.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,ee.Nn)(ye)&&ye.add(this)):this.destination=nt}static create(ye,Ie,Be){return new He(ye,Ie,Be)}next(ye){this.isStopped?Ke(function he(Ae){return ge("N",Ae,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ke(function ie(Ae){return ge("E",void 0,Ae)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ke(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Te(Ae,ye){return Ge.call(Ae,ye)}class Re{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(ye)}catch(Be){pe(Be)}}error(ye){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(ye)}catch(Be){pe(Be)}else pe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Ie){pe(Ie)}}}class He extends ne{constructor(ye,Ie,Be){let je;if(super(),(0,l.m)(ye)||!ye)je={next:null!=ye?ye:void 0,error:null!=Ie?Ie:void 0,complete:null!=Be?Be:void 0};else{let W;this&&N.v.useDeprecatedNextContext?(W=Object.create(ye),W.unsubscribe=()=>this.unsubscribe(),je={next:ye.next&&Te(ye.next,W),error:ye.error&&Te(ye.error,W),complete:ye.complete&&Te(ye.complete,W)}):je=ye}this.destination=new Re(je)}}function pe(Ae){N.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ae):(0,de.h)(Ae)}function Ke(Ae,ye){const{onStoppedNotification:Ie}=N.v;Ie&&G.z.setTimeout(()=>Ie(Ae,ye))}const nt={closed:!0,next:ae.Z,error:function De(Ae){throw Ae},complete:ae.Z}},727:(it,Ce,P)=>{P.d(Ce,{Lc:()=>me,w0:()=>ae,Nn:()=>ie});var l=P(576);const N=(0,P(3888).d)(ge=>function(z){ge(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ne,Ge)=>`${Ge+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var de=P(8737);class ae{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Te of z)Te.remove(this);else z.remove(this);const{initialTeardown:ne}=this;if((0,l.m)(ne))try{ne()}catch(Te){G=Te instanceof N?Te.errors:[Te]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Te of Ge)try{he(Te)}catch(Re){G=null!=G?G:[],Re instanceof N?G=[...G,...Re.errors]:G.push(Re)}}if(G)throw new N(G)}}add(G){var z;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof ae){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,de.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,de.P)(z,G),G instanceof ae&&G._removeParent(this)}}ae.EMPTY=(()=>{const ge=new ae;return ge.closed=!0,ge})();const me=ae.EMPTY;function ie(ge){return ge instanceof ae||ge&&"closed"in ge&&(0,l.m)(ge.remove)&&(0,l.m)(ge.add)&&(0,l.m)(ge.unsubscribe)}function he(ge){(0,l.m)(ge)?ge():ge.unsubscribe()}},2416:(it,Ce,P)=>{P.d(Ce,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,Ce,P)=>{P.d(Ce,{E:()=>ee});const ee=new(P(8306).y)(ae=>ae.complete())},8996:(it,Ce,P)=>{P.d(Ce,{D:()=>ye});var l=P(8421),ee=P(5363),N=P(9468),me=P(8306),he=P(2202),ge=P(576),G=P(9672);function ne(Ie,Be){if(!Ie)throw new Error("Iterable cannot be null");return new me.y(je=>{(0,G.f)(je,Be,()=>{const W=Ie[Symbol.asyncIterator]();(0,G.f)(je,Be,()=>{W.next().then(Ee=>{Ee.done?je.complete():je.next(Ee.value)})},0,!0)})})}var Ge=P(3670),Te=P(8239),Re=P(1144),He=P(6495),pe=P(2206),De=P(4532),Ke=P(3260);function ye(Ie,Be){return Be?function Ae(Ie,Be){if(null!=Ie){if((0,Ge.c)(Ie))return function de(Ie,Be){return(0,l.Xf)(Ie).pipe((0,N.R)(Be),(0,ee.Q)(Be))}(Ie,Be);if((0,Re.z)(Ie))return function ie(Ie,Be){return new me.y(je=>{let W=0;return Be.schedule(function(){W===Ie.length?je.complete():(je.next(Ie[W++]),je.closed||this.schedule())})})}(Ie,Be);if((0,Te.t)(Ie))return function ae(Ie,Be){return(0,l.Xf)(Ie).pipe((0,N.R)(Be),(0,ee.Q)(Be))}(Ie,Be);if((0,pe.D)(Ie))return ne(Ie,Be);if((0,He.T)(Ie))return function z(Ie,Be){return new me.y(je=>{let W;return(0,G.f)(je,Be,()=>{W=Ie[he.h](),(0,G.f)(je,Be,()=>{let Ee,Y;try{({value:Ee,done:Y}=W.next())}catch(re){return void je.error(re)}Y?je.complete():je.next(Ee)},0,!0)}),()=>(0,ge.m)(null==W?void 0:W.return)&&W.return()})}(Ie,Be);if((0,Ke.L)(Ie))return function nt(Ie,Be){return ne((0,Ke.Q)(Ie),Be)}(Ie,Be)}throw(0,De.z)(Ie)}(Ie,Be):(0,l.Xf)(Ie)}},8421:(it,Ce,P)=>{P.d(Ce,{Xf:()=>Ge});var l=P(655),ee=P(1144),N=P(8239),de=P(8306),ae=P(3670),me=P(2206),ie=P(4532),he=P(6495),ge=P(3260),G=P(576),z=P(7849),ne=P(8822);function Ge(Ae){if(Ae instanceof de.y)return Ae;if(null!=Ae){if((0,ae.c)(Ae))return function Te(Ae){return new de.y(ye=>{const Ie=Ae[ne.L]();if((0,G.m)(Ie.subscribe))return Ie.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ee.z)(Ae))return function Re(Ae){return new de.y(ye=>{for(let Ie=0;Ie<Ae.length&&!ye.closed;Ie++)ye.next(Ae[Ie]);ye.complete()})}(Ae);if((0,N.t)(Ae))return function He(Ae){return new de.y(ye=>{Ae.then(Ie=>{ye.closed||(ye.next(Ie),ye.complete())},Ie=>ye.error(Ie)).then(null,z.h)})}(Ae);if((0,me.D)(Ae))return De(Ae);if((0,he.T)(Ae))return function pe(Ae){return new de.y(ye=>{for(const Ie of Ae)if(ye.next(Ie),ye.closed)return;ye.complete()})}(Ae);if((0,ge.L)(Ae))return function Ke(Ae){return De((0,ge.Q)(Ae))}(Ae)}throw(0,ie.z)(Ae)}function De(Ae){return new de.y(ye=>{(function nt(Ae,ye){var Ie,Be,je,W;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,l.KL)(Ae);!(Be=yield Ie.next()).done;)if(ye.next(Be.value),ye.closed)return}catch(Ee){je={error:Ee}}finally{try{Be&&!Be.done&&(W=Ie.return)&&(yield W.call(Ie))}finally{if(je)throw je.error}}ye.complete()})})(Ae,ye).catch(Ie=>ye.error(Ie))})}},6451:(it,Ce,P)=>{P.d(Ce,{T:()=>me});var l=P(8189),ee=P(8421),N=P(515),de=P(3269),ae=P(8996);function me(...ie){const he=(0,de.yG)(ie),ge=(0,de._6)(ie,1/0),G=ie;return G.length?1===G.length?(0,ee.Xf)(G[0]):(0,l.J)(ge)((0,ae.D)(G,he)):N.E}},5403:(it,Ce,P)=>{P.d(Ce,{x:()=>ee});var l=P(930);function ee(de,ae,me,ie,he){return new N(de,ae,me,ie,he)}class N extends l.Lv{constructor(ae,me,ie,he,ge,G){super(ae),this.onFinalize=ge,this.shouldUnsubscribe=G,this._next=me?function(z){try{me(z)}catch(ne){ae.error(ne)}}:super._next,this._error=he?function(z){try{he(z)}catch(ne){ae.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(z){ae.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(it,Ce,P)=>{P.d(Ce,{U:()=>N});var l=P(4482),ee=P(5403);function N(de,ae){return(0,l.e)((me,ie)=>{let he=0;me.subscribe((0,ee.x)(ie,ge=>{ie.next(de.call(ae,ge,he++))}))})}},8189:(it,Ce,P)=>{P.d(Ce,{J:()=>N});var l=P(5577),ee=P(4671);function N(de=1/0){return(0,l.z)(ee.y,de)}},5577:(it,Ce,P)=>{P.d(Ce,{z:()=>he});var l=P(4004),ee=P(8421),N=P(4482),de=P(9672),ae=P(5403),ie=P(576);function he(ge,G,z=1/0){return(0,ie.m)(G)?he((ne,Ge)=>(0,l.U)((Te,Re)=>G(ne,Te,Ge,Re))((0,ee.Xf)(ge(ne,Ge))),z):("number"==typeof G&&(z=G),(0,N.e)((ne,Ge)=>function me(ge,G,z,ne,Ge,Te,Re,He){const pe=[];let De=0,Ke=0,nt=!1;const Ae=()=>{nt&&!pe.length&&!De&&G.complete()},ye=Be=>De<ne?Ie(Be):pe.push(Be),Ie=Be=>{Te&&G.next(Be),De++;let je=!1;(0,ee.Xf)(z(Be,Ke++)).subscribe((0,ae.x)(G,W=>{null==Ge||Ge(W),Te?ye(W):G.next(W)},()=>{je=!0},void 0,()=>{if(je)try{for(De--;pe.length&&De<ne;){const W=pe.shift();Re?(0,de.f)(G,Re,()=>Ie(W)):Ie(W)}Ae()}catch(W){G.error(W)}}))};return ge.subscribe((0,ae.x)(G,ye,()=>{nt=!0,Ae()})),()=>{null==He||He()}}(ne,Ge,ge,z)))}},5363:(it,Ce,P)=>{P.d(Ce,{Q:()=>de});var l=P(9672),ee=P(4482),N=P(5403);function de(ae,me=0){return(0,ee.e)((ie,he)=>{ie.subscribe((0,N.x)(he,ge=>(0,l.f)(he,ae,()=>he.next(ge),me),()=>(0,l.f)(he,ae,()=>he.complete(),me),ge=>(0,l.f)(he,ae,()=>he.error(ge),me)))})}},3099:(it,Ce,P)=>{P.d(Ce,{B:()=>ae});var l=P(8421),ee=P(7579),N=P(930),de=P(4482);function ae(ie={}){const{connector:he=(()=>new ee.x),resetOnError:ge=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=ie;return ne=>{let Ge,Te,Re,He=0,pe=!1,De=!1;const Ke=()=>{null==Te||Te.unsubscribe(),Te=void 0},nt=()=>{Ke(),Ge=Re=void 0,pe=De=!1},Ae=()=>{const ye=Ge;nt(),null==ye||ye.unsubscribe()};return(0,de.e)((ye,Ie)=>{He++,!De&&!pe&&Ke();const Be=Re=null!=Re?Re:he();Ie.add(()=>{He--,0===He&&!De&&!pe&&(Te=me(Ae,z))}),Be.subscribe(Ie),!Ge&&He>0&&(Ge=new N.Hp({next:je=>Be.next(je),error:je=>{De=!0,Ke(),Te=me(nt,ge,je),Be.error(je)},complete:()=>{pe=!0,Ke(),Te=me(nt,G),Be.complete()}}),(0,l.Xf)(ye).subscribe(Ge))})(ne)}}function me(ie,he,...ge){if(!0===he)return void ie();if(!1===he)return;const G=new N.Hp({next:()=>{G.unsubscribe(),ie()}});return he(...ge).subscribe(G)}},9468:(it,Ce,P)=>{P.d(Ce,{R:()=>ee});var l=P(4482);function ee(N,de=0){return(0,l.e)((ae,me)=>{me.add(N.schedule(()=>ae.subscribe(me),de))})}},8505:(it,Ce,P)=>{P.d(Ce,{b:()=>ae});var l=P(576),ee=P(4482),N=P(5403),de=P(4671);function ae(me,ie,he){const ge=(0,l.m)(me)||ie||he?{next:me,error:ie,complete:he}:me;return ge?(0,ee.e)((G,z)=>{var ne;null===(ne=ge.subscribe)||void 0===ne||ne.call(ge);let Ge=!0;G.subscribe((0,N.x)(z,Te=>{var Re;null===(Re=ge.next)||void 0===Re||Re.call(ge,Te),z.next(Te)},()=>{var Te;Ge=!1,null===(Te=ge.complete)||void 0===Te||Te.call(ge),z.complete()},Te=>{var Re;Ge=!1,null===(Re=ge.error)||void 0===Re||Re.call(ge,Te),z.error(Te)},()=>{var Te,Re;Ge&&(null===(Te=ge.unsubscribe)||void 0===Te||Te.call(ge)),null===(Re=ge.finalize)||void 0===Re||Re.call(ge)}))}):de.y}},4408:(it,Ce,P)=>{P.d(Ce,{o:()=>ae});var l=P(727);class ee extends l.w0{constructor(ie,he){super()}schedule(ie,he=0){return this}}const N={setInterval(me,ie,...he){const{delegate:ge}=N;return(null==ge?void 0:ge.setInterval)?ge.setInterval(me,ie,...he):setInterval(me,ie,...he)},clearInterval(me){const{delegate:ie}=N;return((null==ie?void 0:ie.clearInterval)||clearInterval)(me)},delegate:void 0};var de=P(8737);class ae extends ee{constructor(ie,he){super(ie,he),this.scheduler=ie,this.work=he,this.pending=!1}schedule(ie,he=0){if(this.closed)return this;this.state=ie;const ge=this.id,G=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(G,ge,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(G,this.id,he),this}requestAsyncId(ie,he,ge=0){return N.setInterval(ie.flush.bind(ie,this),ge)}recycleAsyncId(ie,he,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return he;N.clearInterval(he)}execute(ie,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ie,he);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,he){let G,ge=!1;try{this.work(ie)}catch(z){ge=!0,G=z||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ie,scheduler:he}=this,{actions:ge}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ge,this),null!=ie&&(this.id=this.recycleAsyncId(he,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,Ce,P)=>{P.d(Ce,{v:()=>N});var l=P(6063);class ee{constructor(ae,me=ee.now){this.schedulerActionCtor=ae,this.now=me}schedule(ae,me=0,ie){return new this.schedulerActionCtor(this,ae).schedule(ie,me)}}ee.now=l.l.now;class N extends ee{constructor(ae,me=ee.now){super(ae,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:me}=this;if(this._active)return void me.push(ae);let ie;this._active=!0;do{if(ie=ae.execute(ae.state,ae.delay))break}while(ae=me.shift());if(this._active=!1,ie){for(;ae=me.shift();)ae.unsubscribe();throw ie}}}},4986:(it,Ce,P)=>{P.d(Ce,{P:()=>de,z:()=>N});var l=P(4408);const N=new(P(7565).v)(l.o),de=N},6063:(it,Ce,P)=>{P.d(Ce,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(it,Ce,P)=>{P.d(Ce,{z:()=>l});const l={setTimeout(ee,N,...de){const{delegate:ae}=l;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(ee,N,...de):setTimeout(ee,N,...de)},clearTimeout(ee){const{delegate:N}=l;return((null==N?void 0:N.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(it,Ce,P)=>{P.d(Ce,{h:()=>ee});const ee=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,Ce,P)=>{P.d(Ce,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,Ce,P)=>{P.d(Ce,{_6:()=>me,jO:()=>de,yG:()=>ae});var l=P(576),ee=P(3532);function N(ie){return ie[ie.length-1]}function de(ie){return(0,l.m)(N(ie))?ie.pop():void 0}function ae(ie){return(0,ee.K)(N(ie))?ie.pop():void 0}function me(ie,he){return"number"==typeof N(ie)?ie.pop():he}},8737:(it,Ce,P)=>{function l(ee,N){if(ee){const de=ee.indexOf(N);0<=de&&ee.splice(de,1)}}P.d(Ce,{P:()=>l})},3888:(it,Ce,P)=>{function l(ee){const de=ee(ae=>{Error.call(ae),ae.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}P.d(Ce,{d:()=>l})},2806:(it,Ce,P)=>{P.d(Ce,{O:()=>de,x:()=>N});var l=P(2416);let ee=null;function N(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const me=!ee;if(me&&(ee={errorThrown:!1,error:null}),ae(),me){const{errorThrown:ie,error:he}=ee;if(ee=null,ie)throw he}}else ae()}function de(ae){l.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ae)}},9672:(it,Ce,P)=>{function l(ee,N,de,ae=0,me=!1){const ie=N.schedule(function(){de(),me?ee.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(ee.add(ie),!me)return ie}P.d(Ce,{f:()=>l})},4671:(it,Ce,P)=>{function l(ee){return ee}P.d(Ce,{y:()=>l})},1144:(it,Ce,P)=>{P.d(Ce,{z:()=>l});const l=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(it,Ce,P)=>{P.d(Ce,{D:()=>ee});var l=P(576);function ee(N){return Symbol.asyncIterator&&(0,l.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(it,Ce,P)=>{function l(ee){return"function"==typeof ee}P.d(Ce,{m:()=>l})},3670:(it,Ce,P)=>{P.d(Ce,{c:()=>N});var l=P(8822),ee=P(576);function N(de){return(0,ee.m)(de[l.L])}},6495:(it,Ce,P)=>{P.d(Ce,{T:()=>N});var l=P(2202),ee=P(576);function N(de){return(0,ee.m)(null==de?void 0:de[l.h])}},8239:(it,Ce,P)=>{P.d(Ce,{t:()=>ee});var l=P(576);function ee(N){return(0,l.m)(null==N?void 0:N.then)}},3260:(it,Ce,P)=>{P.d(Ce,{L:()=>de,Q:()=>N});var l=P(655),ee=P(576);function N(ae){return(0,l.FC)(this,arguments,function*(){const ie=ae.getReader();try{for(;;){const{value:he,done:ge}=yield(0,l.qq)(ie.read());if(ge)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(he)}}finally{ie.releaseLock()}})}function de(ae){return(0,ee.m)(null==ae?void 0:ae.getReader)}},3532:(it,Ce,P)=>{P.d(Ce,{K:()=>ee});var l=P(576);function ee(N){return N&&(0,l.m)(N.schedule)}},4482:(it,Ce,P)=>{P.d(Ce,{A:()=>ee,e:()=>N});var l=P(576);function ee(de){return(0,l.m)(null==de?void 0:de.lift)}function N(de){return ae=>{if(ee(ae))return ae.lift(function(me){try{return de(me,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,Ce,P)=>{function l(){}P.d(Ce,{Z:()=>l})},7849:(it,Ce,P)=>{P.d(Ce,{h:()=>N});var l=P(2416),ee=P(3410);function N(de){ee.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw de;ae(de)})}},4532:(it,Ce,P)=>{function l(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ce,{z:()=>l})},655:(it,Ce,P)=>{function de(Y,re){var te={};for(var _e in Y)Object.prototype.hasOwnProperty.call(Y,_e)&&re.indexOf(_e)<0&&(te[_e]=Y[_e]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(_e=Object.getOwnPropertySymbols(Y);ce<_e.length;ce++)re.indexOf(_e[ce])<0&&Object.prototype.propertyIsEnumerable.call(Y,_e[ce])&&(te[_e[ce]]=Y[_e[ce]])}return te}function he(Y,re,te,_e){return new(te||(te=Promise))(function(Pe,pt){function qt(tn){try{Je(_e.next(tn))}catch(Mn){pt(Mn)}}function jt(tn){try{Je(_e.throw(tn))}catch(Mn){pt(Mn)}}function Je(tn){tn.done?Pe(tn.value):function ce(Pe){return Pe instanceof te?Pe:new te(function(pt){pt(Pe)})}(tn.value).then(qt,jt)}Je((_e=_e.apply(Y,re||[])).next())})}function pe(Y){return this instanceof pe?(this.v=Y,this):new pe(Y)}function De(Y,re,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,_e=te.apply(Y,re||[]),Pe=[];return ce={},pt("next"),pt("throw"),pt("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function pt(un){_e[un]&&(ce[un]=function(Jt){return new Promise(function(Li,Kt){Pe.push([un,Jt,Li,Kt])>1||qt(un,Jt)})})}function qt(un,Jt){try{!function jt(un){un.value instanceof pe?Promise.resolve(un.value.v).then(Je,tn):Mn(Pe[0][2],un)}(_e[un](Jt))}catch(Li){Mn(Pe[0][3],Li)}}function Je(un){qt("next",un)}function tn(un){qt("throw",un)}function Mn(un,Jt){un(Jt),Pe.shift(),Pe.length&&qt(Pe[0][0],Pe[0][1])}}function nt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,re=Y[Symbol.asyncIterator];return re?re.call(Y):(Y=function ne(Y){var re="function"==typeof Symbol&&Symbol.iterator,te=re&&Y[re],_e=0;if(te)return te.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&_e>=Y.length&&(Y=void 0),{value:Y&&Y[_e++],done:!Y}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),te={},_e("next"),_e("throw"),_e("return"),te[Symbol.asyncIterator]=function(){return this},te);function _e(Pe){te[Pe]=Y[Pe]&&function(pt){return new Promise(function(qt,jt){!function ce(Pe,pt,qt,jt){Promise.resolve(jt).then(function(Je){Pe({value:Je,done:qt})},pt)}(qt,jt,(pt=Y[Pe](pt)).done,pt.value)})}}}P.d(Ce,{FC:()=>De,KL:()=>nt,_T:()=>de,mG:()=>he,qq:()=>pe})},5e3:(it,Ce,P)=>{P.d(Ce,{$8M:()=>Nn,$Z:()=>PC,AFp:()=>AD,ALo:()=>Al,AaK:()=>he,BQk:()=>se,CHM:()=>Mo,CRH:()=>dD,CZH:()=>Qb,CqO:()=>vl,DdM:()=>tm,EJc:()=>xD,EiD:()=>fg,EpF:()=>vo,F$t:()=>kc,F4k:()=>Uh,FYo:()=>Bc,FiY:()=>lt,G48:()=>pw,Gf:()=>Pb,GfV:()=>D_,GkF:()=>Bh,Gpc:()=>z,Gre:()=>oE,Hsn:()=>Hv,Ikx:()=>Pc,JOm:()=>R,JVY:()=>ag,L6k:()=>Gf,LAX:()=>Du,LFG:()=>M,LSH:()=>ol,Lbi:()=>dA,MAs:()=>TC,NdJ:()=>Bv,OlP:()=>In,Oqu:()=>$v,PXZ:()=>yA,Q6J:()=>Wu,QGY:()=>Vv,Qsj:()=>id,R0b:()=>Jo,RDi:()=>ou,Rgc:()=>xl,SBq:()=>Wp,Sil:()=>Gc,Suo:()=>O_,TTD:()=>ns,TgZ:()=>xr,Udp:()=>El,VLi:()=>mA,WFA:()=>bl,X6Q:()=>bA,XFs:()=>wt,Xpm:()=>Ve,Y36:()=>xc,YKP:()=>Uc,YNc:()=>SC,Yjl:()=>Va,Yz7:()=>Jt,ZZ4:()=>bw,_Bn:()=>gb,_UZ:()=>d_,_Vd:()=>tf,_c5:()=>ty,_uU:()=>Qi,aQg:()=>wm,c2e:()=>ew,cJS:()=>Kt,cg1:()=>g_,d8E:()=>Sl,dDg:()=>j_,deG:()=>qd,dqk:()=>Gt,eBb:()=>Sy,eFA:()=>$_,ekj:()=>Op,f3M:()=>Q,g9A:()=>B_,h0i:()=>ka,hGG:()=>Ew,hij:()=>p_,iGM:()=>Ob,ifc:()=>Zt,ip1:()=>V_,kL8:()=>_E,lG2:()=>oa,lcZ:()=>rD,mCW:()=>lc,n5z:()=>ln,n_E:()=>Pa,oAB:()=>Vt,oxw:()=>Gr,pB0:()=>Ty,q3G:()=>Ln,q4F:()=>I_,qLn:()=>mh,qOj:()=>r_,qZA:()=>Lh,qzn:()=>go,s9C:()=>Un,sBO:()=>jD,sIi:()=>Mh,s_b:()=>k_,soG:()=>pm,tBr:()=>xt,tb:()=>U_,tp0:()=>Zn,uIk:()=>a_,vHH:()=>Re,vpe:()=>Oa,wAp:()=>bt,xp6:()=>zi,yhl:()=>ac,ynx:()=>Vh,z2F:()=>hw,z3N:()=>Er,zSh:()=>Wo,zs3:()=>Ko});var l=P(7579),ee=P(727),N=P(8306),de=P(6451),ae=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=me({__forward_ref__:me});function z(s){return s.__forward_ref__=z,s.toString=function(){return he(this())},s}function ne(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}class Re extends Error{constructor(o,c){super(function He(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function ye(s,o){const c=o?` in ${o}`:"";throw new Re(-201,`No provider for ${De(s)} found${c}`)}function jt(s,o){null==s&&function Je(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Jt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Kt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ut(s){return Ds(s,Wr)||Ds(s,tr)}function Ds(s,o){return s.hasOwnProperty(o)?s[o]:null}function er(s){return s&&(s.hasOwnProperty(qs)||s.hasOwnProperty(Kr))?s[qs]:null}const Wr=me({\u0275prov:me}),qs=me({\u0275inj:me}),tr=me({ngInjectableDef:me}),Kr=me({ngInjectorDef:me});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let nr;function Jn(s){const o=nr;return nr=s,o}function Yr(s,o,c){const d=Ut(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&wt.Optional?null:void 0!==o?o:void ye(he(s),"Injector")}function Rn(s){return{toString:s}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const ct="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Di="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ct||"undefined"!=typeof global&&global||It||Di,Vi={},mt=[],Ws=me({\u0275cmp:me}),j=me({\u0275dir:me}),Z=me({\u0275pipe:me}),H=me({\u0275mod:me}),$=me({\u0275fac:me}),q=me({__NG_ELEMENT_ID__:me});let xe=0;function Ve(s){return Rn(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||mt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c",styles:s.styles||mt,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.directives,g=s.features,v=s.pipes;return d.id+=xe++,d.inputs=Qr(s.inputs,c),d.outputs=Qr(s.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(sn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Wt):null,d})}function sn(s){return ei(s)||function Bi(s){return s[j]||null}(s)}function Wt(s){return function Ss(s){return s[Z]||null}(s)}const ai={};function Vt(s){return Rn(()=>{const o={type:s.type,bootstrap:s.bootstrap||mt,declarations:s.declarations||mt,imports:s.imports||mt,exports:s.exports||mt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ai[s.id]=s.type),o})}function Qr(s,o){if(null==s)return Vi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,o&&(o[f]=g)}return c}const oa=Ve;function Va(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function ei(s){return s[Ws]||null}function ti(s,o){const c=s[H]||null;if(!c&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return c}function Si(s){return Array.isArray(s)&&"object"==typeof s[1]}function yr(s){return Array.isArray(s)&&!0===s[1]}function ja(s){return 0!=(8&s.flags)}function Dd(s){return 2==(2&s.flags)}function es(s){return 1==(1&s.flags)}function ts(s){return null!==s.template}function tu(s){return 0!=(512&s[2])}function Ai(s,o){return s.hasOwnProperty($)?s[$]:null}class Io{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ns(){return ca}function ca(s){return s.type.prototype.ngOnChanges&&(s.setInput=Rf),Rd}function Rd(){const s=To(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===Vi)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Rf(s,o,c,d){const f=To(s)||function ua(s,o){return s[So]=o}(s,{previous:Vi,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],I=v[C];g[C]=new Io(I&&I.currentValue,o,v===Vi),s[d]=o}ns.ngInherit=!0;const So="__ngSimpleChanges__";function To(s){return s[So]||null}let ha;function ou(s){ha=s}function hn(s){return!!s.listen}const $a={createRenderer:(s,o)=>function is(){return void 0!==ha?ha:"undefined"!=typeof document?document:void 0}()};function en(s){for(;Array.isArray(s);)s=s[0];return s}function eo(s,o){return en(o[s])}function gi(s,o){return en(o[s.index])}function Dn(s,o){return s.data[o]}function rs(s,o){return s[o]}function _i(s,o){const c=o[s];return Si(c)?c:c[0]}function xo(s){return 4==(4&s[2])}function xs(s){return 128==(128&s[2])}function Nr(s,o){return null==o?null:s[o]}function ss(s){s[18]=0}function fa(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Ct={lFrame:ga(null),bindingsEnabled:!0};function Bl(){return Ct.bindingsEnabled}function Me(){return Ct.lFrame.lView}function Ht(){return Ct.lFrame.tView}function Mo(s){return Ct.lFrame.contextLView=s,s[8]}function bn(){let s=Ul();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ul(){return Ct.lFrame.currentTNode}function br(s,o){const c=Ct.lFrame;c.currentTNode=s,c.isParent=o}function du(){return Ct.lFrame.isParent}function hu(){Ct.lFrame.isParent=!1}function xi(){const s=Ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function no(){return Ct.lFrame.bindingIndex++}function Fr(s){const o=Ct.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Gl(s,o){const c=Ct.lFrame;c.bindingIndex=c.bindingRootIndex=s,ma(o)}function ma(s){Ct.lFrame.currentDirectiveIndex=s}function $l(s){const o=Ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function zl(){return Ct.lFrame.currentQueryIndex}function Fd(s){Ct.lFrame.currentQueryIndex=s}function Ld(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ql(s,o,c){if(c&wt.SkipSelf){let f=o,g=s;for(;!(f=f.parent,null!==f||c&wt.Host||(f=Ld(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;o=f,s=g}const d=Ct.lFrame=Vd();return d.currentTNode=o,d.lView=s,!0}function Ro(s){const o=Vd(),c=s[1];Ct.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Vd(){const s=Ct.lFrame,o=null===s?null:s.child;return null===o?ga(s):o}function ga(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Bd(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Zl=Bd;function or(){const s=Bd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ci(){return Ct.lFrame.selectedIndex}function Oo(s){Ct.lFrame.selectedIndex=s}function Gn(){const s=Ct.lFrame;return Dn(s.tView,s.selectedIndex)}function Wa(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),C&&((s.contentHooks||(s.contentHooks=[])).push(c,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,C)),I&&(s.viewHooks||(s.viewHooks=[])).push(-c,I),x&&((s.viewHooks||(s.viewHooks=[])).push(c,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,x)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(c,k)}}function ks(s,o,c){Hd(s,o,3,c)}function Po(s,o,c,d){(3&s[2])===c&&Hd(s,o,c,d)}function ii(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Hd(s,o,c,d){const g=null!=d?d:-1,v=o.length-1;let C=0;for(let I=void 0!==d?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(C=o[I],null!=d&&C>=d)break}else o[I]<0&&(s[18]+=65536),(C<g||-1==g)&&(eg(s,c,o,I),s[18]=(4294901760&s[18])+I+2),I++}function eg(s,o,c,d){const f=c[d]<0,g=c[d+1],C=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class _a{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function _t(s,o,c){const d=hn(s);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const v=c[f++],C=c[f++],I=c[f++];d?s.setAttribute(o,C,I,v):o.setAttributeNS(v,C,I)}else{const v=g,C=c[++f];nn(v)?d&&s.setProperty(o,v,C):d?s.setAttribute(o,v,C):o.setAttribute(v,C),f++}}return f}function ar(s){return 3===s||4===s||6===s}function nn(s){return 64===s.charCodeAt(0)}function Qa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?c=f:0===c||jd(s,c,f,null,-1===c||2===c?o[++d]:null)}}return s}function jd(s,o,c,d,f){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(s[g+1]=f));if(d===s[g+1])return void(s[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==f&&s.splice(g++,0,f)}function ya(s){return-1!==s}function io(s){return 32767&s}function ro(s,o){let c=function Pn(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let as=!0;function tt(s){const o=as;return as=s,o}let Xa=0;function ls(s,o){const c=Rs(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ja(d.data,s),Ja(o,null),Ja(d.blueprint,null));const f=so(s,o),g=s.injectorIndex;if(ya(f)){const v=io(f),C=ro(f,o),I=C[1].data;for(let x=0;x<8;x++)o[g+x]=C[v+x]|I[v+x]}return o[g+8]=f,g}function Ja(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Rs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function so(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=o;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function $n(s,o,c){!function Tn(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(q)&&(d=c[q]),null==d&&(d=c[q]=Xa++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,c)}function el(s,o,c){if(c&wt.Optional)return s;ye(o,"NodeInjector")}function Fo(s,o,c,d){if(c&wt.Optional&&void 0===d&&(d=null),0==(c&(wt.Self|wt.Host))){const f=s[9],g=Jn(void 0);try{return f?f.get(o,d,c&wt.Optional):Yr(o,d,c&wt.Optional)}finally{Jn(g)}}return el(d,o,c)}function Lo(s,o,c,d=wt.Default,f){if(null!==s){const g=function yi(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(q)?s[q]:void 0;return"number"==typeof o?o>=0?255&o:ao:o}(c);if("function"==typeof g){if(!ql(o,s,d))return d&wt.Host?el(f,c,d):Fo(o,c,d,f);try{const v=g(d);if(null!=v||d&wt.Optional)return v;ye(c)}finally{Zl()}}else if("number"==typeof g){let v=null,C=Rs(s,o),I=-1,x=d&wt.Host?o[16][6]:null;for((-1===C||d&wt.SkipSelf)&&(I=-1===C?so(s,o):o[C+8],-1!==I&&yu(d,!1)?(v=o[1],C=io(I),o=ro(I,o)):C=-1);-1!==C;){const k=o[1];if(wn(g,C,k.data)){const F=Os(C,o,c,v,d,x);if(F!==va)return F}I=o[C+8],-1!==I&&yu(d,o[1].data[C+8]===x)&&wn(g,C,o)?(v=k,C=io(I),o=ro(I,o)):C=-1}}}return Fo(o,c,d,f)}const va={};function ao(){return new Mi(bn(),Me())}function Os(s,o,c,d,f,g){const v=o[1],C=v.data[s+8],k=lo(C,v,c,null==d?Dd(C)&&as:d!=v&&0!=(3&C.type),f&wt.Host&&g===C);return null!==k?lr(o,v,k,C):va}function lo(s,o,c,d,f){const g=s.providerIndexes,v=o.data,C=1048575&g,I=s.directiveStart,k=g>>20,B=f?C+k:s.directiveEnd;for(let J=d?C:C+k;J<B;J++){const be=v[J];if(J<I&&c===be||J>=I&&be.type===c)return J}if(f){const J=v[I];if(J&&ts(J)&&J.type===c)return I}return null}function lr(s,o,c,d){let f=s[c];const g=o.data;if(function Wl(s){return s instanceof _a}(f)){const v=f;v.resolving&&function Ke(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${c}`)}(De(g[c]));const C=tt(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Jn(v.injectImpl):null;ql(s,d,wt.Default);try{f=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Cy(s,o,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=o.type.prototype;if(d){const v=ca(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==I&&Jn(I),tt(C),v.resolving=!1,Zl()}}return f}function wn(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function yu(s,o){return!(s&wt.Self||s&wt.Host&&o)}class Mi{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return Lo(this._tNode,this._lView,o,d,c)}}function ln(s){return Rn(()=>{const o=s.prototype.constructor,c=o[$]||fn(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const g=f[$]||fn(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function fn(s){return Ge(s)?()=>{const o=fn(ne(s));return o&&o()}:Ai(s)}function Nn(s){return function oo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(ar(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===o)return c[f+1];f+=2}}}return null}(bn(),s)}const Lr="__parameters__";function Vr(s,o,c){return Rn(()=>{const d=function zn(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(o);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(I,x,k){const F=I.hasOwnProperty(Lr)?I[Lr]:Object.defineProperty(I,Lr,{value:[]})[Lr];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(v),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class In{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Jt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qd=new In("AnalyzeForEntryComponents");function Hi(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),Hi(d,o)):o!==s&&o.push(d)}return o}function ji(s,o){s.forEach(c=>Array.isArray(c)?ji(c,o):o(c))}function il(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function bu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Bo(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function ri(s,o,c){let d=fo(s,o);return d>=0?s[1|d]=c:(d=~d,function Yl(s,o,c,d){let f=s.length;if(f==o)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function ho(s,o){const c=fo(s,o);if(c>=0)return s[1|c]}function fo(s,o){return function Ca(s,o,c){let d=0,f=s.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?f=g:d=g+1}return~(f<<c)}(s,o,1)}const Gi={},Ea="__NG_DI_FLAG__",Cr="ngTempTokenPath",eh=/\n/gm,ec="__source",tc=me({provide:String,useValue:me});let cs;function D(s){const o=cs;return cs=s,o}function S(s,o=wt.Default){if(void 0===cs)throw new Re(203,"");return null===cs?Yr(s,void 0,o):cs.get(s,o&wt.Optional?null:void 0,o)}function M(s,o=wt.Default){return(function kn(){return nr}()||S)(ne(s),o)}const Q=M;function oe(s){const o=[];for(let c=0;c<s.length;c++){const d=ne(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let f,g=wt.Default;for(let v=0;v<d.length;v++){const C=d[v],I=Ze(C);"number"==typeof I?-1===I?f=C.token:g|=I:f=C}o.push(M(f,g))}else o.push(M(d))}return o}function Se(s,o){return s[Ea]=o,s.prototype[Ea]=o,s}function Ze(s){return s[Ea]}const xt=Se(Vr("Inject",s=>({token:s})),-1),lt=Se(Vr("Optional"),8),Zn=Se(Vr("SkipSelf"),4);let Cu;function sc(s){var o;return(null===(o=function th(){if(void 0===Cu&&(Cu=null,Gt.trustedTypes))try{Cu=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Cu}())||void 0===o?void 0:o.createHTML(s))||s}class Go{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class og extends Go{getTypeName(){return"HTML"}}class Eu extends Go{getTypeName(){return"Style"}}class Ey extends Go{getTypeName(){return"Script"}}class Dy extends Go{getTypeName(){return"URL"}}class Iy extends Go{getTypeName(){return"ResourceURL"}}function Er(s){return s instanceof Go?s.changingThisBreaksApplicationSecurity:s}function go(s,o){const c=ac(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function ac(s){return s instanceof Go&&s.getTypeName()||null}function ag(s){return new og(s)}function Gf(s){return new Eu(s)}function Sy(s){return new Ey(s)}function Du(s){return new Dy(s)}function Ty(s){return new Iy(s)}class lg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(sc(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class cg{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=sc(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=sc(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ay=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lc(s){return(s=String(s)).match(Ay)||s.match(sl)?s:"unsafe:"+s}function hs(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Iu(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const oh=hs("area,br,col,hr,img,wbr"),ah=hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$o=hs("rp,rt"),Su=Iu(oh,Iu(ah,hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iu($o,hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iu($o,ah)),qf=hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zf=hs("srcset"),dg=Iu(qf,Zf,hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uc=hs("script,style,template");class Tu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Su.hasOwnProperty(c))return this.sanitizedSomething=!0,!uc.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!dg.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=g.value;qf[C]&&(I=lc(I)),Zf[C]&&(s=I,I=(s=String(s)).split(",").map(o=>lc(o.trim())).join(", ")),this.buf.push(" ",v,'="',Au(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Su.hasOwnProperty(c)&&!oh.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Au(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const My=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hg=/([^\#-~ |!])/g;function Au(s){return s.replace(/&/g,"&amp;").replace(My,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(hg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dc;function fg(s,o){let c=null;try{dc=dc||function $f(s){const o=new cg(s);return function sh(){try{return!!(new window.DOMParser).parseFromString(sc(""),"text/html")}catch(s){return!1}}()?new lg(o):o}(s);let d=o?String(o):"";c=dc.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=dc.getInertBodyElement(d)}while(d!==g);return sc((new Tu).sanitizeChildren(xu(c)||c))}finally{if(c){const d=xu(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function xu(s){return"content"in s&&function cr(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function ol(s){const o=function hc(){const s=Me();return s&&s[12]}();return o?o.sanitize(Ln.URL,s)||"":go(s,"URL")?Er(s):lc(pe(s))}const hh="__ngContext__";function bi(s,o){s[hh]=o}function Yf(s){const o=function fc(s){return s[hh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ph(s){return s.ngOriginalError}function Vy(s,...o){s.error(...o)}class mh{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),d=function Ly(s){return s&&s.ngErrorLogger||Vy}(o);d(this._console,"ERROR",o),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&ph(o);for(;c&&ph(c);)c=ph(c);return c||null}}const tp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function y(s){return s instanceof Function?s():s}var R=(()=>((R=R||{})[R.Important=1]="Important",R[R.DashCase=2]="DashCase",R))();function ue(s,o){return undefined(s,o)}function yt(s){const o=s[3];return yr(o)?o[3]:o}function Ir(s){return np(s[13])}function pc(s){return np(s[4])}function np(s){for(;null!==s&&!yr(s);)s=s[4];return s}function cl(s,o,c,d,f){if(null!=d){let g,v=!1;yr(d)?g=d:Si(d)&&(v=!0,d=d[0]);const C=en(d);0===s&&null!==c?null==f?T0(o,c,C):yc(o,c,C,f||null,!0):1===s&&null!==c?yc(o,c,C,f||null,!0):2===s?function P0(s,o,c){const d=Tg(s,o);d&&function x0(s,o,c,d){hn(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}(o,C,v):3===s&&o.destroyNode(C),null!=g&&function kg(s,o,c,d,f){const g=c[7];g!==en(c)&&cl(o,s,d,g,f);for(let C=10;C<c.length;C++){const I=c[C];ul(I[1],I,s,o,d,g)}}(o,s,g,c,f)}}function $i(s,o,c){if(hn(s))return s.createElement(o,c);{const d=null!==c?function su(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function D0(s,o){const c=s[9],d=c.indexOf(o),f=o[3];1024&o[2]&&(o[2]&=-1025,fa(f,-1)),c.splice(d,1)}function Ig(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&D0(f,d),o>0&&(s[c-1][4]=d[4]);const g=bu(s,10+o);!function ip(s,o){ul(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function I0(s,o){if(!(256&o[2])){const c=o[11];hn(c)&&c.destroyNode&&ul(s,o,c,3,null,null),function mc(s){let o=s[13];if(!o)return Sg(s[1],s);for(;o;){let c=null;if(Si(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Si(o)&&Sg(o[1],o),o=o[3];null===o&&(o=s),Si(o)&&Sg(o[1],o),c=o&&o[4]}o=c}}(o)}}function Sg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Hy(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=o[c[d]];if(!(f instanceof _a)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],I=g[v+1];try{I.call(C)}finally{}}else try{g.call(f)}finally{}}}}(s,o),function S0(s,o){const c=s.cleanup,d=o[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],C="function"==typeof v?v(o):en(o[v]),I=d[f=c[g+2]],x=c[g+3];"boolean"==typeof x?C.removeEventListener(c[g],I,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&hn(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&yr(o[3])){c!==o[3]&&D0(c,o);const d=o[19];null!==d&&d.detachView(s)}}}function HS(s,o,c){return function _c(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===Zt.None||f===Zt.Emulated)return null}return gi(d,c)}(s,o.parent,c)}function yc(s,o,c,d,f){hn(s)?s.insertBefore(o,c,d,f):o.insertBefore(c,d,f)}function T0(s,o,c){hn(s)?s.appendChild(o,c):o.appendChild(c)}function A0(s,o,c,d,f){null!==d?yc(s,o,c,d,f):T0(s,o,c)}function Tg(s,o){return hn(s)?s.parentNode(o):o.parentNode}function M0(s,o,c){return k0(s,o,c)}let k0=function jy(s,o,c){return 40&s.type?gi(s,c):null};function _h(s,o,c,d){const f=HS(s,d,o),g=o[11],C=M0(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)A0(g,f,c[I],C,!1);else A0(g,f,c,C,!1)}function Ag(s,o){if(null!==o){const c=o.type;if(3&c)return gi(o,s);if(4&c)return xg(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return Ag(s,d);{const f=s[o.index];return yr(f)?xg(-1,f):en(f)}}if(32&c)return ue(o,s)()||en(s[o.index]);{const d=O0(s,o);return null!==d?Array.isArray(d)?d[0]:Ag(yt(s[16]),d):Ag(s,o.next)}}return null}function O0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function xg(s,o){const c=10+s+1;if(c<o.length){const d=o[c],f=d[1].firstChild;if(null!==f)return Ag(d,f)}return o[7]}function N0(s,o,c,d,f,g,v){for(;null!=c;){const C=d[c.index],I=c.type;if(v&&0===o&&(C&&bi(en(C),d),c.flags|=4),64!=(64&c.flags))if(8&I)N0(s,o,c.child,d,f,g,!1),cl(o,s,f,C,g);else if(32&I){const x=ue(c,d);let k;for(;k=x();)cl(o,s,f,k,g);cl(o,s,f,C,g)}else 16&I?Mg(s,o,d,c,f,g):cl(o,s,f,C,g);c=v?c.projectionNext:c.next}}function ul(s,o,c,d,f,g){N0(c,d,s.firstChild,o,f,g,!1)}function Mg(s,o,c,d,f,g){const v=c[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)cl(o,s,f,I[x],g);else N0(s,o,I,v[3],f,g,!0)}function Sr(s,o,c){hn(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function F0(s,o,c){hn(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function $y(s,o,c){let d=s.length;for(;;){const f=s.indexOf(o,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const g=o.length;if(f+g===d||s.charCodeAt(f+g)<=32)return f}c=f+1}}const _o="ng-template";function yh(s,o,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==$y(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function dl(s){return 4===s.type&&s.value!==_o}function Mt(s,o,c){return o===(4!==s.type||c?s.value:_o)}function $S(s,o,c){let d=4;const f=s.attrs||[],g=function Og(s){for(let o=0;o<s.length;o++)if(ar(s[o]))return o;return s.length}(f);let v=!1;for(let C=0;C<o.length;C++){const I=o[C];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!Mt(s,I,c)||""===I&&1===o.length){if(Ri(d))return!1;v=!0}}else{const x=8&d?I:o[++C];if(8&d&&null!==s.attrs){if(!yh(s.attrs,x,c)){if(Ri(d))return!1;v=!0}continue}const F=ot(8&d?"class":I,f,dl(s),c);if(-1===F){if(Ri(d))return!1;v=!0;continue}if(""!==x){let B;B=F>g?"":f[F+1].toLowerCase();const J=8&d?B:null;if(J&&-1!==$y(J,x,0)||2&d&&x!==B){if(Ri(d))return!1;v=!0}}}}else{if(!v&&!Ri(d)&&!Ri(I))return!1;if(v&&Ri(I))continue;v=!1,d=I|1&d}}return Ri(d)||v}function Ri(s){return 0==(1&s)}function ot(s,o,c,d){if(null===o)return-1;let f=0;if(d||!c){let g=!1;for(;f<o.length;){const v=o[f];if(v===s)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++f];for(;"string"==typeof C;)C=o[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function zy(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Rg(s,o,c=!1){for(let d=0;d<o.length;d++)if($S(s,o[d],c))return!0;return!1}function op(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function L0(s,o){return s?":not("+o.trim()+")":o}function qy(s){let o=s[0],c=1,d=2,f="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const C=s[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Ri(v)&&(o+=L0(g,f),f=""),d=v,g=g||!Ri(d);c++}return""!==f&&(o+=L0(g,f)),o}const Lt={};function zi(s){ap(Ht(),Me(),ci()+s,!1)}function ap(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ks(o,g,c)}else{const g=s.preOrderHooks;null!==g&&Po(o,g,0,c)}Oo(c)}function zo(s,o){return s<<17|o<<2}function qo(s){return s>>17&32767}function Pg(s){return 2|s}function hl(s){return(131068&s)>>2}function Ng(s,o){return-131069&s|o<<2}function vh(s){return 1|s}function Qy(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];Fd(f),v.contentQueries(2,o[g],g)}}}function wh(s,o,c,d,f,g,v,C,I,x){const k=o.blueprint.slice();return k[0]=f,k[2]=140|d,ss(k),k[3]=k[15]=s,k[8]=c,k[10]=v||s&&s[10],k[11]=C||s&&s[11],k[12]=I||s&&s[12]||null,k[9]=x||s&&s[9]||null,k[6]=g,k[16]=2==o.type?s[16]:k,k}function Ch(s,o,c,d,f){let g=s.data[o];if(null===g)g=function fp(s,o,c,d,f){const g=Ul(),v=du(),I=s.data[o]=function Q0(s,o,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,f);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,c,d,f),function pu(){return Ct.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function ko(){const s=Ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return br(g,!0),g}function bc(s,o,c,d){if(0===c)return-1;const f=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function Fu(s,o,c){Ro(o);try{const d=s.viewQuery;null!==d&&fv(1,d,c);const f=s.template;null!==f&&pp(s,o,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Qy(s,o),s.staticViewQueries&&fv(2,s.viewQuery,c);const g=s.components;null!==g&&function Xy(s,o){for(let c=0;c<o.length;c++)Yg(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,or()}}function Kn(s,o,c,d){const f=o[2];if(256!=(256&f)){Ro(o);try{ss(o),function Hl(s){return Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&pp(s,o,c,2,d);const v=3==(3&f);if(v){const x=s.preOrderCheckHooks;null!==x&&ks(o,x,null)}else{const x=s.preOrderHooks;null!==x&&Po(o,x,0,null),ii(o,0)}if(function lv(s){for(let o=Ir(s);null!==o;o=pc(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(1024&f[2])&&fa(g,1),f[2]|=1024}}}(o),function _p(s){for(let o=Ir(s);null!==o;o=pc(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1];xs(d)&&Kn(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&Qy(s,o),v){const x=s.contentCheckHooks;null!==x&&ks(o,x)}else{const x=s.contentHooks;null!==x&&Po(o,x,1),ii(o,1)}!function tT(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Oo(~f);else{const g=f,v=c[++d],C=c[++d];Gl(v,g),C(2,o[g])}}}finally{Oo(-1)}}(s,o);const C=s.components;null!==C&&function W0(s,o){for(let c=0;c<o.length;c++)cv(s,o[c])}(o,C);const I=s.viewQuery;if(null!==I&&fv(2,I,d),v){const x=s.viewCheckHooks;null!==x&&ks(o,x)}else{const x=s.viewHooks;null!==x&&Po(o,x,2),ii(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,fa(o[3],-1))}finally{or()}}}function dr(s,o,c,d){const f=o[10],v=xo(o);try{!v&&f.begin&&f.begin(),v&&Fu(s,o,d),Kn(s,o,c,d)}finally{!v&&f.end&&f.end()}}function pp(s,o,c,d,f){const g=ci(),v=2&d;try{Oo(-1),v&&o.length>20&&ap(s,o,20,!1),c(d,f)}finally{Oo(g)}}function Gg(s,o,c){if(ja(o)){const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function Jy(s,o,c){!Bl()||(function oT(s,o,c,d){const f=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||ls(c,o),bi(d,o);const v=c.initialInputs;for(let C=f;C<g;C++){const I=s.data[C],x=ts(I);x&&iC(o,c,I);const k=lr(o,s,C,c);bi(k,o),null!==v&&rC(0,C-f,k,I,0,v),x&&(_i(c.index,o)[8]=k)}}(s,o,c,gi(c,o)),128==(128&c.flags)&&function aT(s,o,c){const d=c.directiveStart,f=c.directiveEnd,v=c.index,C=function mu(){return Ct.lFrame.currentDirectiveIndex}();try{Oo(v);for(let I=d;I<f;I++){const x=s.data[I],k=o[I];ma(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&wc(x,k)}}finally{Oo(-1),ma(C)}}(s,o,c))}function ev(s,o,c=gi){const d=o.localNames;if(null!==d){let f=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(o,s):s[v];s[f++]=C}}}function tv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=$g(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function $g(s,o,c,d,f,g,v,C,I,x){const k=20+d,F=k+f,B=function nT(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Lt);return c}(k,F),J="function"==typeof x?x():x;return B[1]={type:s,blueprint:B,template:c,queries:null,viewQuery:C,declTNode:o,data:B.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:J,incompleteFirstPass:!1}}function qg(s,o,c,d){const f=Cp(o);null===c?f.push(d):(f.push(c),s.firstCreatePass&&Sh(s).push(d,f.length-1))}function X0(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,f):c[d]=[o,f]}return c}function Hr(s,o,c,d,f,g,v,C){const I=gi(o,c);let k,x=o.inputs;!C&&null!=x&&(k=x[d])?(oC(s,c,k,d,f),Dd(o)&&function J0(s,o){const c=_i(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(d=function nv(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,o.value||"",d):f,hn(g)?g.setProperty(I,d,f):nn(d)||(I.setProperty?I.setProperty(d,f):I[d]=f))}function rv(s,o,c,d){let f=!1;if(Bl()){const g=function tC(s,o,c){const d=s.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Rg(c,v.selectors,!1)&&(f||(f=[]),$n(ls(c,o),s,v.type),ts(v)?(mp(s,c),f.unshift(v)):f.push(v))}return f}(s,o,c),v=null===d?null:{"":-1};if(null!==g){f=!0,sv(c,s.data.length,g.length);for(let k=0;k<g.length;k++){const F=g[k];F.providersResolver&&F.providersResolver(F)}let C=!1,I=!1,x=bc(s,o,g.length,null);for(let k=0;k<g.length;k++){const F=g[k];c.mergedAttrs=Qa(c.mergedAttrs,F.hostAttrs),Ar(s,c,o,x,F),gp(x,F,v),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const B=F.type.prototype;!C&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),C=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),I=!0),x++}!function Zg(s,o){const d=o.directiveEnd,f=s.data,g=o.attrs,v=[];let C=null,I=null;for(let x=o.directiveStart;x<d;x++){const k=f[x],F=k.inputs,B=null===g||dl(o)?null:ov(F,g);v.push(B),C=X0(F,x,C),I=X0(k.outputs,x,I)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=I}(s,c)}v&&function nC(s,o,c){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const g=c[o[f+1]];if(null==g)throw new Re(-301,!1);d.push(o[f],g)}}}(c,d,v)}return c.mergedAttrs=Qa(c.mergedAttrs,c.attrs),f}function eC(s,o,c,d,f,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const I=~o.index;(function Eh(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(C)!=I&&C.push(I),C.push(d,f,v)}}function wc(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function mp(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function gp(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;ts(o)&&(c[""]=s)}}function sv(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function Ar(s,o,c,d,f){s.data[d]=f;const g=f.factory||(f.factory=Ai(f.type)),v=new _a(g,ts(f),null);s.blueprint[d]=v,c[d]=v,eC(s,o,0,d,bc(s,c,f.hostVars,Lt),f)}function iC(s,o,c){const d=gi(o,s),f=tv(c),g=s[10],v=bp(s,wh(s,f,null,c.onPush?64:16,d,o,g,g.createRenderer(d,c),null,null));s[o.index]=v}function ps(s,o,c,d,f,g){const v=gi(s,o);!function Dh(s,o,c,d,f,g,v){if(null==g)hn(s)?s.removeAttribute(o,f,c):o.removeAttribute(f);else{const C=null==v?pe(g):v(g,d||"",f);hn(s)?s.setAttribute(o,f,C,c):c?o.setAttributeNS(c,f,C):o.setAttribute(f,C)}}(o[11],v,g,s.value,c,d,f)}function rC(s,o,c,d,f,g){const v=g[o];if(null!==v){const C=d.setInput;for(let I=0;I<v.length;){const x=v[I++],k=v[I++],F=v[I++];null!==C?d.setInput(c,F,x,k):c[k]=F}}}function ov(s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return c}function av(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function cv(s,o){const c=_i(o,s);if(xs(c)){const d=c[1];80&c[2]?Kn(d,c,d.template,c[8]):c[5]>0&&yp(c)}}function yp(s){for(let d=Ir(s);null!==d;d=pc(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];Kn(v,g,v.template,g[8])}else g[5]>0&&yp(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=_i(c[d],s);xs(f)&&f[5]>0&&yp(f)}}function Yg(s,o){const c=_i(o,s),d=c[1];(function vp(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Fu(d,c,c[8])}function bp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function uv(s){for(;s;){s[2]|=64;const o=yt(s);if(tu(s)&&!o)return s;s=o}return null}function hv(s){!function Ih(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=Yf(c),f=d[1];dr(f,d,f.template,c)}}(s[8])}function fv(s,o,c){Fd(0),o(s,c)}const sC=(()=>Promise.resolve(null))();function Cp(s){return s[7]||(s[7]=[])}function Sh(s){return s.cleanup||(s.cleanup=[])}function Cc(s,o,c){return(null===s||ts(s))&&(c=function za(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function Xg(s,o){const c=s[9],d=c?c.get(mh,null):null;d&&d.handleError(o)}function oC(s,o,c,d,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],I=o[v],x=s.data[v];null!==x.setInput?x.setInput(I,f,d,C):I[C]=f}}function Zo(s,o,c){const d=eo(o,s);!function gh(s,o,c){hn(s)?s.setValue(o,c):o.textContent=c}(s[11],d,c)}function fl(s,o,c){let d=c?s.styles:null,f=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?f=ge(f,C):2==g&&(d=ge(d,C+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}const mv=new In("INJECTOR",-1);class Ec{get(o,c=Gi){if(c===Gi){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return c}}const Wo=new In("Set Injector scope."),Dc={},Jg={};let Th;function gv(){return void 0===Th&&(Th=new Ec),Th}function An(s,o=null,c=null,d){const f=Ep(s,o,c,d);return f._resolveInjectorDefTypes(),f}function Ep(s,o=null,c=null,d){return new hT(s,c,o||gv(),d)}class hT{constructor(o,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&ji(c,C=>this.processProvider(C,o,c)),ji([o],C=>this.processInjectorType(C,[],g)),this.records.set(mv,Vu(void 0,this));const v=this.records.get(Wo);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=Gi,d=wt.Default){this.assertNotDestroyed();const f=D(this),g=Jn(void 0);try{if(!(d&wt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const I=function uC(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(o)&&Ut(o);C=I&&this.injectableDefInScope(I)?Vu(_v(o),Dc):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&wt.Self?gv():this.parent).get(o,c=d&wt.Optional&&c===Gi?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Cr]=v[Cr]||[]).unshift(he(o)),f)throw v;return function ut(s,o,c,d){const f=s[Cr];throw o[ec]&&f.unshift(o[ec]),s.message=function Dt(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let f=he(o);if(Array.isArray(o))f=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):he(C)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(eh,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[Cr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Jn(g),D(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,f)=>o.push(he(f))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,c,d){if(!(o=ne(o)))return!1;let f=er(o);const g=null==f&&o.ngModule||void 0,v=void 0===g?o:g,C=-1!==d.indexOf(v);if(void 0!==g&&(f=er(g)),null==f)return!1;if(null!=f.imports&&!C){let k;d.push(v);try{ji(f.imports,F=>{this.processInjectorType(F,c,d)&&(void 0===k&&(k=[]),k.push(F))})}finally{}if(void 0!==k)for(let F=0;F<k.length;F++){const{ngModule:B,providers:J}=k[F];ji(J,be=>this.processProvider(be,B,J||mt))}}this.injectorDefTypes.add(v);const I=Ai(v)||(()=>new v);this.records.set(v,Vu(I,Dc));const x=f.providers;if(null!=x&&!C){const k=o;ji(x,F=>this.processProvider(F,k,x))}return void 0!==g&&void 0!==o.providers}processProvider(o,c,d){let f=Ah(o=ne(o))?o:ne(o&&o.provide);const g=function Ip(s,o,c){return lC(s)?Vu(void 0,s.useValue):Vu(aC(s),Dc)}(o);if(Ah(o)||!0!==o.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Vu(void 0,Dc,!0),v.factory=()=>oe(v.multi),this.records.set(f,v)),f=o,v.multi.push(o)}this.records.set(f,g)}hydrate(o,c){return c.value===Dc&&(c.value=Jg,c.value=c.factory()),"object"==typeof c.value&&c.value&&function cC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=ne(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function _v(s){const o=Ut(s),c=null!==o?o.factory:Ai(s);if(null!==c)return c;if(s instanceof In)throw new Re(204,!1);if(s instanceof Function)return function Dp(s){const o=s.length;if(o>0)throw Bo(o,"?"),new Re(204,!1);const c=function mr(s){const o=s&&(s[Wr]||s[tr]);if(o){const c=function Ei(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Re(204,!1)}function aC(s,o,c){let d;if(Ah(s)){const f=ne(s);return Ai(f)||_v(f)}if(lC(s))d=()=>ne(s.useValue);else if(function pT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...oe(s.deps||[]));else if(function fT(s){return!(!s||!s.useExisting)}(s))d=()=>M(ne(s.useExisting));else{const f=ne(s&&(s.useClass||s.provide));if(!function Ic(s){return!!s.deps}(s))return Ai(f)||_v(f);d=()=>new f(...oe(s.deps))}return d}function Vu(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function lC(s){return null!==s&&"object"==typeof s&&tc in s}function Ah(s){return"function"==typeof s}let Ko=(()=>{class s{static create(c,d){var f;if(Array.isArray(c))return An({name:""},d,c,"");{const g=null!==(f=c.name)&&void 0!==f?f:"";return An({name:g},c.parent,c.providers,g)}}}return s.THROW_IF_NOT_FOUND=Gi,s.NULL=new Ec,s.\u0275prov=Jt({token:s,providedIn:"any",factory:()=>M(mv)}),s.__NG_ELEMENT_ID__=-1,s})();function yT(s,o){Wa(Yf(s)[1],bn())}function r_(s){let o=function Iv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let f;if(ts(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");f=o.\u0275dir}if(f){if(c){d.push(f);const v=s;v.inputs=xh(s.inputs),v.declaredInputs=xh(s.declaredInputs),v.outputs=xh(s.outputs);const C=f.hostBindings;C&&bC(s,C);const I=f.viewQuery,x=f.contentQueries;if(I&&vC(s,I),x&&pl(s,x),ie(s.inputs,f.inputs),ie(s.declaredInputs,f.declaredInputs),ie(s.outputs,f.outputs),ts(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===r_&&(c=!1)}}o=Object.getPrototypeOf(o)}!function yC(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=Qa(f.hostAttrs,c=Qa(c,f.hostAttrs))}}(d)}function xh(s){return s===Vi?{}:s===mt?[]:s}function vC(s,o){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{o(d,f),c(d,f)}:o}function pl(s,o){const c=s.contentQueries;s.contentQueries=c?(d,f,g)=>{o(d,f,g),c(d,f,g)}:o}function bC(s,o){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{o(d,f),c(d,f)}:o}let Ap=null;function Tc(){if(!Ap){const s=Gt.Symbol;if(s&&s.iterator)Ap=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ap=d)}}}return Ap}function Mh(s){return!!Av(s)&&(Array.isArray(s)||!(s instanceof Map)&&Tc()in s)}function Av(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Yo(s,o,c){return s[o]=c}function hr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function a_(s,o,c,d){const f=Me();return hr(f,no(),o)&&(Ht(),ps(Gn(),f,s,o,c,d)),a_}function Uu(s,o,c,d){return hr(s,no(),c)?o+pe(c)+d:Lt}function SC(s,o,c,d,f,g,v,C){const I=Me(),x=Ht(),k=s+20,F=x.firstCreatePass?function IC(s,o,c,d,f,g,v,C,I){const x=o.consts,k=Ch(o,s,4,v||null,Nr(x,C));rv(o,c,k,Nr(x,I)),Wa(o,k);const F=k.tViews=$g(2,k,d,f,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,k),F.queries=o.queries.embeddedTView(k)),k}(k,x,I,o,c,d,f,g,v):x.data[k];br(F,!1);const B=I[11].createComment("");_h(x,I,B,F),bi(B,I),bp(I,I[k]=av(B,I,B,F)),es(F)&&Jy(x,I,F),null!=v&&ev(I,F,C)}function TC(s){return rs(function Nd(){return Ct.lFrame.contextLView}(),20+s)}function xc(s,o=wt.Default){const c=Me();return null===c?M(s,o):Lo(bn(),c,ne(s),o)}function PC(){throw new Error("invalid")}function Wu(s,o,c){const d=Me();return hr(d,no(),o)&&Hr(Ht(),Gn(),d,s,o,d[11],c,!1),Wu}function u_(s,o,c,d,f){const v=f?"class":"style";oC(s,c,o.inputs[v],v,d)}function xr(s,o,c,d){const f=Me(),g=Ht(),v=20+s,C=f[11],I=f[v]=$i(C,o,function Jm(){return Ct.lFrame.currentNamespace}()),x=g.firstCreatePass?function NC(s,o,c,d,f,g,v){const C=o.consts,x=Ch(o,s,2,f,Nr(C,g));return rv(o,c,x,Nr(C,v)),null!==x.attrs&&fl(x,x.attrs,!1),null!==x.mergedAttrs&&fl(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,g,f,0,o,c,d):g.data[v];br(x,!0);const k=x.mergedAttrs;null!==k&&_t(C,I,k);const F=x.classes;null!==F&&F0(C,I,F);const B=x.styles;return null!==B&&Sr(C,I,B),64!=(64&x.flags)&&_h(g,f,I,x),0===function Za(){return Ct.lFrame.elementDepthCount}()&&bi(I,f),function cu(){Ct.lFrame.elementDepthCount++}(),es(x)&&(Jy(g,f,x),Gg(g,x,f)),null!==d&&ev(f,x),xr}function Lh(){let s=bn();du()?hu():(s=s.parent,br(s,!1));const o=s;!function Vl(){Ct.lFrame.elementDepthCount--}();const c=Ht();return c.firstCreatePass&&(Wa(c,s),ja(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function tg(s){return 0!=(16&s.flags)}(o)&&u_(c,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function an(s){return 0!=(32&s.flags)}(o)&&u_(c,o,Me(),o.stylesWithoutHost,!1),Lh}function d_(s,o,c,d){return xr(s,o,c,d),Lh(),d_}function Vh(s,o,c){const d=Me(),f=Ht(),g=s+20,v=f.firstCreatePass?function Mc(s,o,c,d,f){const g=o.consts,v=Nr(g,d),C=Ch(o,s,8,"ng-container",v);return null!==v&&fl(C,v,!0),rv(o,c,C,Nr(g,f)),null!==o.queries&&o.queries.elementStart(o,C),C}(g,f,d,o,c):f.data[g];br(v,!0);const C=d[g]=d[11].createComment("");return _h(f,d,C,v),bi(C,d),es(v)&&(Jy(f,d,v),Gg(f,v,d)),null!=c&&ev(d,v),Vh}function se(){let s=bn();const o=Ht();return du()?hu():(s=s.parent,br(s,!1)),o.firstCreatePass&&(Wa(o,s),ja(s)&&o.queries.elementEnd(s)),se}function Bh(s,o,c){return Vh(s,o,c),se(),Bh}function vo(){return Me()}function Vv(s){return!!s&&"function"==typeof s.then}function Uh(s){return!!s&&"function"==typeof s.subscribe}const vl=Uh;function Bv(s,o,c,d){const f=Me(),g=Ht(),v=bn();return h_(g,f,f[11],v,s,o,!!c,d),Bv}function bl(s,o){const c=bn(),d=Me(),f=Ht();return h_(f,d,Cc($l(f.data),c,d),c,s,o,!1),bl}function h_(s,o,c,d,f,g,v,C){const I=es(d),k=s.firstCreatePass&&Sh(s),F=o[8],B=Cp(o);let J=!0;if(3&d.type||C){const We=gi(d,o),Le=C?C(We):We,we=B.length,at=C?$t=>C(en($t[d.index])):d.index;if(hn(c)){let $t=null;if(!C&&I&&($t=function FC(s,o,c,d){const f=s.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const C=o[7],I=f[g+2];return C.length>I?C[I]:null}"string"==typeof v&&(g+=2)}return null}(s,o,f,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=g,$t.__ngLastListenerFn__=g,J=!1;else{g=Uv(d,o,F,g,!1);const mn=c.listen(Le,f,g);B.push(g,mn),k&&k.push(f,at,we,we+1)}}else g=Uv(d,o,F,g,!0),Le.addEventListener(f,g,v),B.push(g),k&&k.push(f,at,we,v)}else g=Uv(d,o,F,g,!1);const be=d.outputs;let Ne;if(J&&null!==be&&(Ne=be[f])){const We=Ne.length;if(We)for(let Le=0;Le<We;Le+=2){const Mr=o[Ne[Le]][Ne[Le+1]].subscribe(g),qc=B.length;B.push(g,Mr),k&&k.push(f,d.index,qc,-(qc+1))}}}function LC(s,o,c,d){try{return!1!==c(d)}catch(f){return Xg(s,f),!1}}function Uv(s,o,c,d,f){return function g(v){if(v===Function)return d;const C=2&s.flags?_i(s.index,o):o;0==(32&o[2])&&uv(C);let I=LC(o,0,d,v),x=g.__ngNextListenerFn__;for(;x;)I=LC(o,0,x,v)&&I,x=x.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function Gr(s=1){return function Pf(s){return(Ct.lFrame.contextLView=function gu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ct.lFrame.contextLView))[8]}(s)}function VC(s,o){let c=null;const d=function Pt(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let f=0;f<o.length;f++){const g=o[f];if("*"!==g){if(null===d?Rg(s,g,!0):op(d,g))return f}else c=f}return c}function kc(s){const o=Me()[16][6];if(!o.projection){const d=o.projection=Bo(s?s.length:1,null),f=d.slice();let g=o.child;for(;null!==g;){const v=s?VC(g,s):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function Hv(s,o=0,c){const d=Me(),f=Ht(),g=Ch(f,20+s,16,null,c||null);null===g.projection&&(g.projection=o),hu(),64!=(64&g.flags)&&function Wn(s,o,c){Mg(o[11],0,o,c,HS(s,c,o),M0(c.parent||o[6],c,o))}(f,d,g)}function Un(s,o,c){return Hh(s,"",o,"",c),Un}function Hh(s,o,c,d,f){const g=Me(),v=Uu(g,o,c,d);return v!==Lt&&Hr(Ht(),Gn(),g,s,v,g[11],f,!1),Hh}function f_(s,o,c,d,f){const g=s[c+1],v=null===o;let C=d?qo(g):hl(g),I=!1;for(;0!==C&&(!1===I||v);){const k=s[C+1];HC(s[C],o)&&(I=!0,s[C+1]=d?vh(k):Pg(k)),C=d?qo(k):hl(k)}I&&(s[c+1]=d?Pg(g):vh(g))}function HC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&fo(s,o)>=0}const Qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jC(s){return s.substring(Qn.key,Qn.keyEnd)}function jh(s,o){const c=Qn.textEnd;return c===o?-1:(o=Qn.keyEnd=function Aa(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Qn.key=o,c),bo(s,o,c))}function bo(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function El(s,o,c){return $r(s,o,c,!1),El}function Op(s,o){return $r(s,o,null,!0),Op}function Vs(s,o){for(let c=function Mp(s){return function kp(s){Qn.key=0,Qn.keyEnd=0,Qn.value=0,Qn.valueEnd=0,Qn.textEnd=s.length}(s),jh(s,bo(s,0,Qn.textEnd))}(o);c>=0;c=jh(o,c))ri(s,jC(o),!0)}function $r(s,o,c,d){const f=Me(),g=Ht(),v=Fr(2);g.firstUpdatePass&&KC(g,s,v,d),o!==Lt&&hr(f,v,o)&&Gh(g,g.data[ci()],f,f[11],s,f[v+1]=function eE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(Er(s)))),s}(o,c),d,v)}function WC(s,o){return o>=s.expandoStartIndex}function KC(s,o,c,d){const f=s.data;if(null===f[c+1]){const g=f[ci()],v=WC(s,c);Gv(g,d)&&null===o&&!v&&(o=!1),o=function YC(s,o,c,d){const f=$l(s);let g=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(c=Pp(c=vn(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==f)if(c=vn(f,s,o,c,d),null===g){let I=function QC(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==hl(d))return s[qo(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=vn(null,s,o,I[1],d),I=Pp(I,o.attrs,d),function fr(s,o,c,d){s[qo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else g=function XC(s,o,c){let d;const f=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<f;g++)d=Pp(d,s[g].hostAttrs,c);return Pp(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(f,g,o,d),function si(s,o,c,d,f,g){let v=g?o.classBindings:o.styleBindings,C=qo(v),I=hl(v);s[d]=c;let k,x=!1;if(Array.isArray(c)){const F=c;k=F[1],(null===k||fo(F,k)>0)&&(x=!0)}else k=c;if(f)if(0!==I){const B=qo(s[C+1]);s[d+1]=zo(B,C),0!==B&&(s[B+1]=Ng(s[B+1],d)),s[C+1]=function B0(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=zo(C,0),0!==C&&(s[C+1]=Ng(s[C+1],d)),C=d;else s[d+1]=zo(I,0),0===C?C=d:s[I+1]=Ng(s[I+1],d),I=d;x&&(s[d+1]=Pg(s[d+1])),f_(s,k,d,!0),f_(s,k,d,!1),function Qu(s,o,c,d,f){const g=f?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&fo(g,o)>=0&&(c[d+1]=vh(c[d+1]))}(o,k,s,d,g),v=zo(C,I),g?o.classBindings=v:o.styleBindings=v}(f,g,o,c,v,d)}}function vn(s,o,c,d,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=o[C],d=Pp(d,g.hostAttrs,f),g!==s);)C++;return null!==s&&(c.directiveStylingLast=C),d}function Pp(s,o,c){const d=c?1:2;let f=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ri(s,v,!!c||o[++g]))}return void 0===s?null:s}function Gh(s,o,c,d,f,g,v,C){if(!(3&o.type))return;const I=s.data,x=I[C+1];Ju(function Fg(s){return 1==(1&s)}(x)?Np(I,o,c,f,hl(x),v):void 0)||(Ju(g)||function V0(s){return 2==(2&s)}(x)&&(g=Np(I,null,c,f,C,v)),function GS(s,o,c,d,f){const g=hn(s);if(o)f?g?s.addClass(c,d):c.classList.add(d):g?s.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:R.DashCase;if(null==f)g?s.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=R.Important),g?s.setStyle(c,d,f,v):c.style.setProperty(d,f,C?"important":"")}}}(d,v,eo(ci(),c),f,g))}function Np(s,o,c,d,f,g){const v=null===o;let C;for(;f>0;){const I=s[f],x=Array.isArray(I),k=x?I[1]:I,F=null===k;let B=c[f+1];B===Lt&&(B=F?mt:void 0);let J=F?ho(B,d):k===d?B:void 0;if(x&&!Ju(J)&&(J=ho(I,d)),Ju(J)&&(C=J,v))return C;const be=s[f+1];f=v?qo(be):hl(be)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(C=ho(I,d))}return C}function Ju(s){return void 0!==s}function Gv(s,o){return 0!=(s.flags&(o?16:32))}function Qi(s,o=""){const c=Me(),d=Ht(),f=s+20,g=d.firstCreatePass?Ch(d,f,1,o,null):d.data[f],v=c[f]=function Ou(s,o){return hn(s)?s.createText(o):s.createTextNode(o)}(c[11],o);_h(d,c,v,g),br(g,!1)}function $v(s){return p_("",s,""),$v}function p_(s,o,c){const d=Me(),f=Uu(d,s,o,c);return f!==Lt&&Zo(d,ci(),f),p_}function oE(s,o,c){!function wo(s,o,c,d){const f=Ht(),g=Fr(2);f.firstUpdatePass&&KC(f,null,g,d);const v=Me();if(c!==Lt&&hr(v,g,c)){const C=f.data[ci()];if(Gv(C,d)&&!WC(f,g)){let I=d?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(c=ge(I,c||"")),u_(f,C,v,c,d)}else!function IT(s,o,c,d,f,g,v,C){f===Lt&&(f=mt);let I=0,x=0,k=0<f.length?f[0]:null,F=0<g.length?g[0]:null;for(;null!==k||null!==F;){const B=I<f.length?f[I+1]:void 0,J=x<g.length?g[x+1]:void 0;let Ne,be=null;k===F?(I+=2,x+=2,B!==J&&(be=F,Ne=J)):null===F||null!==k&&k<F?(I+=2,be=k):(x+=2,be=F,Ne=J),null!==be&&Gh(s,o,c,d,be,Ne,v,C),k=I<f.length?f[I]:null,F=x<g.length?g[x]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function JC(s,o,c){if(null==c||""===c)return mt;const d=[],f=Er(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)s(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&s(d,g,f[g]);else"string"==typeof f&&o(d,f);return d}(s,o,c),d,g)}}(ri,Vs,Uu(Me(),s,o,c),!0)}function Pc(s,o,c){const d=Me();return hr(d,no(),o)&&Hr(Ht(),Gn(),d,s,o,d[11],c,!0),Pc}function Sl(s,o,c){const d=Me();if(hr(d,no(),o)){const g=Ht(),v=Gn();Hr(g,v,d,s,o,Cc($l(g.data),v,d),c,!0)}return Sl}const Nc=void 0;var gE=["en",[["a","p"],["AM","PM"],Nc],[["AM","PM"],Nc,Nc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nc,"{1} 'at' {0}",Nc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function td(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Qo={};function g_(s){const o=function y_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=yE(o);if(c)return c;const d=o.split("-")[0];if(c=yE(d),c)return c;if("en"===d)return gE;throw new Error(`Missing locale data for the locale "${s}".`)}function _E(s){return g_(s)[bt.PluralCase]}function yE(s){return s in Qo||(Qo[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),Qo[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Fc="en-US";let nb=Fc;function fb(s,o,c,d,f){if(s=ne(s),Array.isArray(s))for(let g=0;g<s.length;g++)fb(s[g],o,c,d,f);else{const g=Ht(),v=Me();let C=Ah(s)?s:ne(s.provide),I=aC(s);const x=bn(),k=1048575&x.providerIndexes,F=x.directiveStart,B=x.providerIndexes>>20;if(Ah(s)||!s.multi){const J=new _a(I,f,xc),be=mb(C,o,f?k:k+B,F);-1===be?($n(ls(x,v),g,C),pb(g,s,o.length),o.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(J),v.push(J)):(c[be]=J,v[be]=J)}else{const J=mb(C,o,k+B,F),be=mb(C,o,k,k+B),Ne=J>=0&&c[J],We=be>=0&&c[be];if(f&&!We||!f&&!Ne){$n(ls(x,v),g,C);const Le=function ZT(s,o,c,d,f){const g=new _a(s,c,xc);return g.multi=[],g.index=o,g.componentProviders=0,jE(g,f,d&&!c),g}(f?qT:zT,c.length,f,d,I);!f&&We&&(c[be].providerFactory=Le),pb(g,s,o.length,0),o.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(Le),v.push(Le)}else pb(g,s,J>-1?J:be,jE(c[f?be:J],I,!f&&d));!f&&d&&We&&c[be].componentProviders++}}}function pb(s,o,c,d){const f=Ah(o),g=function Sp(s){return!!s.useClass}(o);if(f||g){const I=(g?ne(o.useClass):o).prototype.ngOnDestroy;if(I){const x=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const k=x.indexOf(c);-1===k?x.push(c,[d,I]):x[k+1].push(d,I)}else x.push(c,I)}}}function jE(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function mb(s,o,c,d){for(let f=c;f<d;f++)if(o[f]===s)return f;return-1}function zT(s,o,c,d){return E_(this.multi,[])}function qT(s,o,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=lr(c,c[1],this.providerFactory.index,d);g=C.slice(0,v),E_(f,g);for(let I=v;I<C.length;I++)g.push(C[I])}else g=[],E_(f,g);return g}function E_(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function gb(s,o=[]){return c=>{c.providersResolver=(d,f)=>function $T(s,o,c){const d=Ht();if(d.firstCreatePass){const f=ts(s);fb(c,d.data,d.blueprint,f,!0),fb(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class $E{}class yb{resolveComponentFactory(o){throw function _b(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let tf=(()=>{class s{}return s.NULL=new yb,s})();function Vc(){return nd(bn(),Me())}function nd(s,o){return new Wp(gi(s,o))}let Wp=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Vc,s})();function qE(s){return s instanceof Wp?s.nativeElement:s}class Bc{}let id=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Kp(){const s=Me(),c=_i(bn().index,s);return function rd(s){return s[11]}(Si(c)?c:s)}(),s})(),ZE=(()=>{class s{}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:()=>null}),s})();class D_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const I_=new D_("13.3.11"),S_={};function Yp(s,o,c,d,f=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(en(g)),yr(g))for(let C=10;C<g.length;C++){const I=g[C],x=I[1].firstChild;null!==x&&Yp(I[1],I,x,d)}const v=c.type;if(8&v)Yp(s,o,c.child,d);else if(32&v){const C=ue(c,o);let I;for(;I=C();)d.push(I)}else if(16&v){const C=O0(o,c);if(Array.isArray(C))d.push(...C);else{const I=yt(o[16]);Yp(I[1],I,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class Qp{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Yp(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(yr(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Ig(o,d),bu(c,d))}this._attachedToViewContainer=!1}I0(this._lView[1],this._lView)}onDestroy(o){qg(this._lView[1],this._lView,null,o)}markForCheck(){uv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function wp(s,o,c){const d=o[10];d.begin&&d.begin();try{Kn(s,o,s.template,c)}catch(f){throw Xg(o,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sp(s,o){ul(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class WE extends Qp{constructor(o){super(o),this._view=o}detectChanges(){hv(this._view)}checkNoChanges(){}get context(){return null}}class bb extends tf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=ei(o);return new wb(c,this.ngModule)}}function Xp(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class wb extends $E{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function zS(s){return s.map(qy).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Xp(this.componentDef.inputs)}get outputs(){return Xp(this.componentDef.outputs)}create(o,c,d,f){const g=(f=f||this.ngModule)?function sd(s,o){return{get:(c,d,f)=>{const g=s.get(c,S_,f);return g!==S_||d===S_?g:o.get(c,d,f)}}}(o,f.injector):o,v=g.get(Bc,$a),C=g.get(ZE,null),I=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=d?function Y0(s,o,c){if(hn(s))return s.selectRootElement(o,c===Zt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(I,d,this.componentDef.encapsulation):$i(v.createRenderer(null,this.componentDef),x,function Jp(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),F=this.componentDef.onPush?576:528,B=function _C(s,o){return{components:[],scheduler:s||tp,clean:sC,playerHandler:o||null,flags:0}}(),J=$g(0,null,null,1,0,null,null,null,null,null),be=wh(null,J,B,F,null,null,v,I,C,g);let Ne,We;Ro(be);try{const Le=function Dv(s,o,c,d,f,g){const v=c[1];c[20]=s;const I=Ch(v,20,2,"#host",null),x=I.mergedAttrs=o.hostAttrs;null!==x&&(fl(I,x,!0),null!==s&&(_t(f,s,x),null!==I.classes&&F0(f,s,I.classes),null!==I.styles&&Sr(f,s,I.styles)));const k=d.createRenderer(s,o),F=wh(c,tv(o),null,o.onPush?64:16,c[20],I,d,k,g||null,null);return v.firstCreatePass&&($n(ls(I,c),v,o.type),mp(v,I),sv(I,c.length,1)),bp(c,F),c[20]=F}(k,this.componentDef,be,v,I);if(k)if(d)_t(I,k,["ng-version",I_.full]);else{const{attrs:we,classes:at}=function qS(s){const o=[],c=[];let d=1,f=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===f?""!==g&&o.push(g,s[++d]):8===f&&c.push(g);else{if(!Ri(f))break;f=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);we&&_t(I,k,we),at&&at.length>0&&F0(I,k,at.join(" "))}if(We=Dn(J,20),void 0!==c){const we=We.projection=[];for(let at=0;at<this.ngContentSelectors.length;at++){const $t=c[at];we.push(null!=$t?Array.from($t):null)}}Ne=function gC(s,o,c,d,f){const g=c[1],v=function Kg(s,o,c){const d=bn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Ar(s,d,o,bc(s,o,1,null),c));const f=lr(o,s,d.directiveStart,d);bi(f,o);const g=gi(d,o);return g&&bi(g,o),f}(g,c,o);if(d.components.push(v),s[8]=v,f&&f.forEach(I=>I(v,o)),o.contentQueries){const I=bn();o.contentQueries(1,v,I.directiveStart)}const C=bn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Oo(C.index),eC(c[1],C,0,C.directiveStart,C.directiveEnd,o),wc(o,v)),v}(Le,this.componentDef,be,B,[yT]),Fu(J,be,null)}finally{or()}return new WT(this.componentType,Ne,nd(We,be),be,We)}}class WT extends class GE{}{constructor(o,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new WE(f),this.componentType=o}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class ka{}class Uc{}const Co=new Map;class Cb extends ka{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bb(this);const d=ti(o);this._bootstrapComponents=y(d.bootstrap),this._r3Injector=Ep(o,c,[{provide:ka,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=Ko.THROW_IF_NOT_FOUND,d=wt.Default){return o===Ko||o===ka||o===mv?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class od extends Uc{constructor(o){super(),this.moduleType=o,null!==ti(o)&&function QT(s){const o=new Set;!function c(d){const f=ti(d,!0),g=f.id;null!==g&&(function YE(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(g,Co.get(g),d),Co.set(g,d));const v=y(f.imports);for(const C of v)o.has(C)||(o.add(C),c(C))}(s)}(o)}create(o){return new Cb(this.moduleType,o)}}function tm(s,o,c){const d=xi()+s,f=Me();return f[d]===Lt?Yo(f,d,c?o.call(c):o()):function ml(s,o){return s[o]}(f,d)}function Eb(s,o,c,d,f,g){const v=o+c;return hr(s,v,f)?Yo(s,v+1,g?d.call(g,f):d(f)):function Ra(s,o){const c=s[o];return c===Lt?void 0:c}(s,v+1)}function Al(s,o){const c=Ht();let d;const f=s+20;c.firstCreatePass?(d=function iD(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=Ai(d.type)),v=Jn(xc);try{const C=tt(!1),I=g();return tt(C),function c_(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Me(),f,I),I}finally{Jn(v)}}function rD(s,o,c){const d=s+20,f=Me(),g=rs(f,d);return function nf(s,o){return s[1].data[o].pure}(f,d)?Eb(f,xi(),o,g.transform,c,g):g.transform(c)}function M_(s){return o=>{setTimeout(s,void 0,o)}}const Oa=class tA extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var f,g,v;let C=o,I=c||(()=>null),x=d;if(o&&"object"==typeof o){const F=o;C=null===(f=F.next)||void 0===f?void 0:f.bind(F),I=null===(g=F.error)||void 0===g?void 0:g.bind(F),x=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(I=M_(I),C&&(C=M_(C)),x&&(x=M_(x)));const k=super.subscribe({next:C,error:I,complete:x});return o instanceof ee.w0&&o.add(k),k}};function sD(){return this._results[Tc()]()}class Pa{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Tc(),d=Pa.prototype;d[c]||(d[c]=sD)}get changes(){return this._changes||(this._changes=new Oa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const f=Hi(o);(this._changesDetected=!function Vf(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],g=o[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xl=(()=>{class s{}return s.__NG_ELEMENT_ID__=nA,s})();const oD=xl,aD=class extends oD{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o){const c=this._declarationTContainer.tViews,d=wh(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),Fu(c,d,o),new Qp(d)}};function nA(){return im(bn(),Me())}function im(s,o){return 4&s.type?new aD(o,s,nd(s,o)):null}let k_=(()=>{class s{}return s.__NG_ELEMENT_ID__=iA,s})();function iA(){return cD(bn(),Me())}const Ib=k_,Ni=class extends Ib{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return nd(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){const o=so(this._hostTNode,this._hostLView);if(ya(o)){const c=ro(o,this._hostLView),d=io(o);return new Mi(c[1].data[d+8],c)}return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=lD(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){const f=o.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(o,c,d,f,g){const v=o&&!function nl(s){return"function"==typeof s}(o);let C;if(v)C=c;else{const F=c||{};C=F.index,d=F.injector,f=F.projectableNodes,g=F.ngModuleRef}const I=v?o:new wb(ei(o)),x=d||this.parentInjector;if(!g&&null==I.ngModule){const B=(v?x:this.parentInjector).get(ka,null);B&&(g=B)}const k=I.create(x,f,void 0,g);return this.insert(k.hostView,C),k}insert(o,c){const d=o._lView,f=d[1];if(function qa(s){return yr(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const F=d[3],B=new Ni(F,F[6],F[3]);B.detach(B.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function gc(s,o,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=o),d<g-10?(o[4]=c[f],il(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function US(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(f,d,v,g);const C=xg(g,v),I=d[11],x=Tg(I,v[7]);return null!==x&&function rp(s,o,c,d,f,g){d[0]=f,d[6]=o,ul(s,d,c,1,f,g)}(f,v[6],I,d,x,C),o.attachToViewContainerRef(),il(Sb(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=lD(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Ig(this._lContainer,c);d&&(bu(Sb(this._lContainer),c),I0(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Ig(this._lContainer,c);return d&&null!=bu(Sb(this._lContainer),c)?new Qp(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function lD(s){return s[8]}function Sb(s){return s[8]||(s[8]=[])}function cD(s,o){let c;const d=o[s.index];if(yr(d))c=d;else{let f;if(8&s.type)f=en(d);else{const g=o[11];f=g.createComment("");const v=gi(s,o);yc(g,Tg(g,v),f,function jS(s,o){return hn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=c=av(d,o,f,s),bp(o,c)}return new Ni(c,s,o)}class rf{constructor(o){this.queryList=o,this.matches=null}clone(){return new rf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Tb(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==ld(o,c).matches&&this.queries[c].setDirty()}}class Ab{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class rm{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new rm(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class sm{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new sm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(o,c,om(c,g)),this.matchTNodeWithReadOption(o,c,lo(c,o,g,!1,!1))}else d===xl?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,lo(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Wp||f===k_||f===xl&&4&c.type)this.addMatch(c.index,-2);else{const g=lo(c,o,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function om(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function xb(s,o,c,d){return-1===c?function R_(s,o){return 11&s.type?nd(s,o):4&s.type?im(s,o):null}(o,s):-2===c?function Mb(s,o,c){return c===Wp?nd(o,s):c===xl?im(o,s):c===k_?cD(o,s):void 0}(s,o,d):lr(s,s[1],c,o)}function kb(s,o,c,d){const f=o[19].queries[d];if(null===f.matches){const g=s.data,v=c.matches,C=[];for(let I=0;I<v.length;I+=2){const x=v[I];C.push(x<0?null:xb(o,g[x],v[I+1],c.metadata.read))}f.matches=C}return f.matches}function Rb(s,o,c,d){const f=s.queries.getByIndex(c),g=f.matches;if(null!==g){const v=kb(s,o,f,c);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)d.push(v[C/2]);else{const x=g[C+1],k=o[-I];for(let F=10;F<k.length;F++){const B=k[F];B[17]===B[3]&&Rb(B[1],B,x,d)}if(null!==k[9]){const F=k[9];for(let B=0;B<F.length;B++){const J=F[B];Rb(J[1],J,x,d)}}}}}return d}function Ob(s){const o=Me(),c=Ht(),d=zl();Fd(d+1);const f=ld(c,d);if(s.dirty&&xo(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const g=f.crossesNgTemplate?Rb(c,o,d,[]):kb(c,o,f,d);s.reset(g,qE),s.notifyOnChanges()}return!0}return!1}function Pb(s,o,c){const d=Ht();d.firstCreatePass&&(Nb(d,new Ab(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),fD(d,Me(),o)}function O_(s,o,c,d){const f=Ht();if(f.firstCreatePass){const g=bn();Nb(f,new Ab(o,c,d),g.index),function sA(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}fD(f,Me(),c)}function dD(){return function hD(s,o){return s[19].queries[o].queryList}(Me(),zl())}function fD(s,o,c){const d=new Pa(4==(4&c));qg(s,o,d,d.destroy),null===o[19]&&(o[19]=new Tb),o[19].queries.push(new rf(d))}function Nb(s,o,c){null===s.queries&&(s.queries=new rm),s.queries.track(new sm(o,c))}function ld(s,o){return s.queries.getByIndex(o)}function hm(...s){}const V_=new In("Application Initializer");let Qb=(()=>{class s{constructor(c){this.appInits=c,this.resolve=hm,this.reject=hm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Vv(g))c.push(g);else if(vl(g)){const v=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(M(V_,8))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const AD=new In("AppId",{providedIn:"root",factory:function Xb(){return`${Jb()}${Jb()}${Jb()}`}});function Jb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const B_=new In("Platform Initializer"),dA=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),U_=new In("appBootstrapListener");let ew=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const pm=new In("LocaleId",{providedIn:"root",factory:()=>Q(pm,wt.Optional|wt.SkipSelf)||function hA(){return"undefined"!=typeof $localize&&$localize.locale||Fc}()}),xD=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hf{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let Gc=(()=>{class s{compileModuleSync(c){return new od(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=y(ti(c).declarations).reduce((v,C)=>{const I=ei(C);return I&&v.push(new wb(I)),v},[]);return new hf(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ff=(()=>Promise.resolve(0))();function H_(s){"undefined"==typeof Zone?ff.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Jo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function pf(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iw(s){const o=()=>{!function nw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,_m(s),s.isCheckStableRunning=!0,gm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),_m(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,C)=>{try{return OD(s),c.invokeTask(f,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),PD(s)}},onInvoke:(c,d,f,g,v,C,I)=>{try{return OD(s),c.invoke(f,g,v,C,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),PD(s)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,_m(s),gm(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Jo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,o,fA,hm,hm);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const fA={};function gm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function _m(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function OD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function PD(s){s._nesting--,gm(s)}class rw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,f){return o.apply(c,d)}}let j_=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jo.assertNotInAngularZone(),H_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())H_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(M(Jo))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})(),pA=(()=>{class s{constructor(){this._applications=new Map,G_.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return G_.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class ND{addToWindow(o){}findTestabilityInTree(o,c,d){return null}}function mA(s){G_=s}let G_=new ND,$c=null;const sw=new In("AllowMultipleToken"),ow=new In("PlatformOnDestroy");class yA{constructor(o,c){this.name=o,this.token=c}}function $_(s,o,c=[]){const d=`Platform: ${o}`,f=new In(d);return(g=[])=>{let v=cw();if(!v||v.injector.get(sw,!1)){const C=[...c,...g,{provide:f,useValue:!0}];s?s(C):function aw(s){if($c&&!$c.get(sw,!1))throw new Re(400,"");$c=s;const o=s.get(z_),c=s.get(B_,null);c&&c.forEach(d=>d())}(function vA(s=[],o){return Ko.create({name:o,providers:[{provide:Wo,useValue:"platform"},{provide:ow,useValue:()=>$c=null},...s]})}(C,d))}return function lw(s){const o=cw();if(!o)throw new Re(401,"");return o}()}}function cw(){var s;return null!==(s=null==$c?void 0:$c.get(z_))&&void 0!==s?s:null}let z_=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function LD(s,o){let c;return c="noop"===s?new rw:("zone.js"===s?void 0:s)||new Jo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:Jo,useValue:C}];return C.run(()=>{const x=Ko.create({providers:I,parent:this.injector,name:c.moduleType.name}),k=c.create(x),F=k.injector.get(mh,null);if(!F)throw new Re(402,"");return C.runOutsideAngular(()=>{const B=C.onError.subscribe({next:J=>{F.handleError(J)}});k.onDestroy(()=>{ym(this._modules,k),B.unsubscribe()})}),function uw(s,o,c){try{const d=c();return Vv(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(F,C,()=>{const B=k.injector.get(Qb);return B.runInitializers(),B.donePromise.then(()=>(function bE(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(nb=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(pm,Fc)||Fc),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const f=dw({},d);return function gA(s,o,c){const d=new od(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(hw);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Re(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(ow,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(M(Ko))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function dw(s,o){return Array.isArray(o)?o.reduce(dw,s):Object.assign(Object.assign({},s),o)}let hw=(()=>{class s{constructor(c,d,f,g){this._zone=c,this._injector=d,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new N.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Jo.assertNotInAngularZone(),H_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,de.T)(v,C.pipe((0,ae.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Re(405,"");let f;f=c instanceof $E?c:this._injector.get(tf).resolveComponentFactory(c),this.componentTypes.push(f.componentType);const g=function _A(s){return s.isBoundToModule}(f)?void 0:this._injector.get(ka),C=f.create(Ko.NULL,[],d||f.selector,g),I=C.location.nativeElement,x=C.injector.get(j_,null),k=x&&C.injector.get(pA);return x&&k&&k.registerApplication(I,x),C.onDestroy(()=>{this.detachView(C.hostView),ym(this.components,C),k&&k.unregisterApplication(I)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;ym(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(U_,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(M(Jo),M(Ko),M(mh),M(Qb))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ym(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let BD=!0,q_=!1;function bA(){return q_=!0,BD}function pw(){if(q_)throw new Error("Cannot enable prod mode after platform setup.");BD=!1}let jD=(()=>{class s{}return s.__NG_ELEMENT_ID__=mw,s})();function mw(s){return function wA(s,o,c){if(Dd(s)&&!c){const d=_i(s.index,o);return new Qp(d,d)}return 47&s.type?new Qp(o[16],o):null}(bn(),Me(),16==(16&s))}class X_{constructor(){}supports(o){return Mh(o)}create(o){return new DA(o)}}const yw=(s,o)=>o;class DA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||yw}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<J_(d,f,g)?c:d,C=J_(v,f,g),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const x=C-f,k=I-f;if(x!=k){for(let B=0;B<x;B++){const J=B<g.length?g[B]:g[B]=0,be=J+B;k<=be&&be<x&&(g[B]=J+1)}g[v.previousIndex]=k-x}}C!==I&&o(v,C,I)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Mh(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else f=0,function o_(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Tc()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,f){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,f)):o=this._addAfter(new KD(c,d),g,f),o}_verifyReinsertion(o,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,g=o._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new QD),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class KD{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class QD{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new YD,this.map.set(c,d)),d.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function J_(s,o,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+o+f}class vw{constructor(){}supports(o){return o instanceof Map||Av(o)}create(){return new ey}}class ey{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Av(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new IA(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class IA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XD(){return new bw([new X_])}let bw=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||XD()),deps:[[s,new Zn,new lt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Re(901,"")}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:XD}),s})();function ww(){return new wm([new vw])}let wm=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||ww()),deps:[[s,new Zn,new lt]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Re(901,"")}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:ww}),s})();const ty=$_(null,"core",[]);let Ew=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(M(hw))},s.\u0275mod=Vt({type:s}),s.\u0275inj=Kt({}),s})()},3942:(it,Ce,P)=>{P.d(Ce,{Z:()=>Re});var l=P(2090),ee=P(4859),N=P(9681),de=P(1877);class ae{constructor(pe,De){this._delegate=pe,this.firebase=De,(0,N._addComponent)(pe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(pe,De=N._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(pe);return!nt.isInitialized()&&"EXPLICIT"===(null===(Ke=nt.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:De})}_removeServiceInstance(pe,De=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(De)}_addComponent(pe){(0,N._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,N._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ge(){const He=function he(He){const pe={},De={__esModule:!0,initializeApp:function Ae(je,W={}){const Ee=N.initializeApp(je,W);if((0,l.r3)(pe,Ee.name))return pe[Ee.name];const Y=new He(Ee,De);return pe[Ee.name]=Y,Y},app:nt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie(je){const W=je.name,Ee=W.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const Y=(re=nt())=>{if("function"!=typeof re[Ee])throw ie.create("invalid-app-argument",{appName:W});return re[Ee]()};void 0!==je.serviceProps&&(0,l.ZB)(Y,je.serviceProps),De[Ee]=Y,He.prototype[Ee]=function(...re){return this._getService.bind(this,W).apply(this,je.multipleInstances?re:[])}}return"PUBLIC"===je.type?De[Ee]:null},removeApp:function Ke(je){delete pe[je]},useAsService:function Be(je,W){return"serverAuth"===W?null:W},modularAPIs:N}};function nt(je){if(!(0,l.r3)(pe,je=je||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:je});return pe[je]}return De.default=De,Object.defineProperty(De,"apps",{get:function ye(){return Object.keys(pe).map(je=>pe[je])}}),nt.App=He,De}(ae);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function pe(De){(0,l.ZB)(He,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),He}(),z=new de.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=G;!function Te(He){(0,N.registerVersion)("@firebase/app-compat","0.1.33",He)}()},9681:(it,Ce,P)=>{P.r(Ce),P.d(Ce,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>un,_addOrOverwriteComponent:()=>Jt,_apps:()=>tn,_clearComponents:()=>Ds,_components:()=>Mn,_getProvider:()=>Kt,_registerComponent:()=>Li,_removeServiceInstance:()=>Ut,deleteApp:()=>wt,getApp:()=>tr,getApps:()=>Kr,initializeApp:()=>qs,onLog:()=>Jn,registerVersion:()=>kn,setLogLevel:()=>Yr});var l=P(5861),ee=P(4859),N=P(1877),de=P(2090),ae=P(8766);class me{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function ie(H){const $=H.getComponent();return"VERSION"===(null==$?void 0:$.type)}(q)){const xe=q.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(q=>q).join(" ")}}const he="@firebase/app",G=new N.Yd("@firebase/app"),jt="[DEFAULT]",Je={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,Mn=new Map;function un(H,$){try{H.container.addComponent($)}catch(q){G.debug(`Component ${$.name} failed to register with FirebaseApp ${H.name}`,q)}}function Jt(H,$){H.container.addOrOverwriteComponent($)}function Li(H){const $=H.name;if(Mn.has($))return G.debug(`There were multiple attempts to register component ${$}.`),!1;Mn.set($,H);for(const q of tn.values())un(q,H);return!0}function Kt(H,$){const q=H.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),H.container.getProvider($)}function Ut(H,$,q=jt){Kt(H,$).clearInstance(q)}function Ds(){Mn.clear()}const Ei=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class er{constructor($,q,xe){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const Wr="9.9.4";function qs(H,$={}){"object"!=typeof $&&($={name:$});const q=Object.assign({name:jt,automaticDataCollectionEnabled:!1},$),xe=q.name;if("string"!=typeof xe||!xe)throw Ei.create("bad-app-name",{appName:String(xe)});const Ve=tn.get(xe);if(Ve){if((0,de.vZ)(H,Ve.options)&&(0,de.vZ)(q,Ve.config))return Ve;throw Ei.create("duplicate-app",{appName:xe})}const ht=new ee.H0(xe);for(const Wt of Mn.values())ht.addComponent(Wt);const sn=new er(H,q,ht);return tn.set(xe,sn),sn}function tr(H=jt){const $=tn.get(H);if(!$)throw Ei.create("no-app",{appName:H});return $}function Kr(){return Array.from(tn.values())}function wt(H){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(H){const $=H.name;tn.has($)&&(tn.delete($),yield Promise.all(H.container.getProviders().map(q=>q.delete())),H.isDeleted=!0)})).apply(this,arguments)}function kn(H,$,q){var xe;let Ve=null!==(xe=Je[H])&&void 0!==xe?xe:H;q&&(Ve+=`-${q}`);const ht=Ve.match(/\s|\//),sn=$.match(/\s|\//);if(ht||sn){const Wt=[`Unable to register library "${Ve}" with version "${$}":`];return ht&&Wt.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),ht&&sn&&Wt.push("and"),sn&&Wt.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void G.warn(Wt.join(" "))}Li(new ee.wA(`${Ve}-version`,()=>({library:Ve,version:$}),"VERSION"))}function Jn(H,$){if(null!==H&&"function"!=typeof H)throw Ei.create("invalid-log-argument");(0,N.Am)(H,$)}function Yr(H){(0,N.Ub)(H)}const Hn="firebase-heartbeat-store";let Or=null;function sa(){return Or||(Or=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(H,$)=>{0===$&&H.createObjectStore(Hn)}}).catch(H=>{throw Ei.create("idb-open",{originalErrorMessage:H.message})})),Or}function ct(){return(ct=(0,l.Z)(function*(H){var $;try{return(yield sa()).transaction(Hn).objectStore(Hn).get(gr(H))}catch(q){if(q instanceof de.ZR)G.warn(q.message);else{const xe=Ei.create("idb-get",{originalErrorMessage:null===($=q)||void 0===$?void 0:$.message});G.warn(xe.message)}}})).apply(this,arguments)}function It(H,$){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(H,$){var q;try{const Ve=(yield sa()).transaction(Hn,"readwrite");return yield Ve.objectStore(Hn).put($,gr(H)),Ve.done}catch(xe){if(xe instanceof de.ZR)G.warn(xe.message);else{const Ve=Ei.create("idb-set",{originalErrorMessage:null===(q=xe)||void 0===q?void 0:q.message});G.warn(Ve.message)}}})).apply(this,arguments)}function gr(H){return`${H.name}!${H.options.appId}`}class Ii{constructor($){this.container=$,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Ws(q),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var $=this;return(0,l.Z)(function*(){const xe=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=Vi();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!$._heartbeatsCache.heartbeats.some(ht=>ht.date===Ve))return $._heartbeatsCache.heartbeats.push({date:Ve,agent:xe}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(ht=>{const sn=new Date(ht.date).valueOf();return Date.now()-sn<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,l.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const q=Vi(),{heartbeatsToSend:xe,unsentEntries:Ve}=function mt(H,$=1024){const q=[];let xe=H.slice();for(const Ve of H){const ht=q.find(sn=>sn.agent===Ve.agent);if(ht){if(ht.dates.push(Ve.date),j(q)>$){ht.dates.pop();break}}else if(q.push({agent:Ve.agent,dates:[Ve.date]}),j(q)>$){q.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:q,unsentEntries:xe}}($._heartbeatsCache.heartbeats),ht=(0,de.L)(JSON.stringify({version:2,heartbeats:xe}));return $._heartbeatsCache.lastSentHeartbeatDate=q,Ve.length>0?($._heartbeatsCache.heartbeats=Ve,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),ht})()}}function Vi(){return(new Date).toISOString().substring(0,10)}class Ws{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,l.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function Zt(H){return ct.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var q=this;return(0,l.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ht=yield q.read();return It(q.app,{lastSentHeartbeatDate:null!==(xe=$.lastSentHeartbeatDate)&&void 0!==xe?xe:ht.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var q=this;return(0,l.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ht=yield q.read();return It(q.app,{lastSentHeartbeatDate:null!==(xe=$.lastSentHeartbeatDate)&&void 0!==xe?xe:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...$.heartbeats]})}})()}}function j(H){return(0,de.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Z(H){Li(new ee.wA("platform-logger",$=>new me($),"PRIVATE")),Li(new ee.wA("heartbeat",$=>new Ii($),"PRIVATE")),kn(he,"0.7.32",H),kn(he,"0.7.32","esm2017"),kn("fire-js","")}("")},4859:(it,Ce,P)=>{P.d(Ce,{H0:()=>he,wA:()=>N});var l=P(5861),ee=P(2090);class N{constructor(G,z,ne){this.name=G,this.instanceFactory=z,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const de="[DEFAULT]";class ae{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const ne=new ee.BH;if(this.instancesDeferred.set(z,ne),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:z});Ge&&ne.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const ne=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ge=null!==(z=null==G?void 0:G.optional)&&void 0!==z&&z;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Te){if(Ge)return null;throw Te}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ie(ge){return"EAGER"===ge.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:de})}catch(z){}for(const[z,ne]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(z);try{const Te=this.getOrInitializeService({instanceIdentifier:Ge});ne.resolve(Te)}catch(Te){}}}}clearInstance(G=de){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...z.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=de){return this.instances.has(G)}getOptions(G=de){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,ne=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ne,options:z});for(const[Te,Re]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Te)&&Re.resolve(Ge);return Ge}onInit(G,z){var ne;const Ge=this.normalizeInstanceIdentifier(z),Te=null!==(ne=this.onInitCallbacks.get(Ge))&&void 0!==ne?ne:new Set;Te.add(G),this.onInitCallbacks.set(Ge,Te);const Re=this.instances.get(Ge);return Re&&G(Re,Ge),()=>{Te.delete(G)}}invokeOnInitCallbacks(G,z){const ne=this.onInitCallbacks.get(z);if(ne)for(const Ge of ne)try{Ge(G,z)}catch(Te){}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let ne=this.instances.get(G);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=G,ge===de?void 0:ge),options:z}),this.instances.set(G,ne),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(ne,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ne)}catch(Ge){}var ge;return ne||null}normalizeInstanceIdentifier(G=de){return this.component?this.component.multipleInstances?G:de:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new ae(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(it,Ce,P)=>{P.d(Ce,{Am:()=>ge,Ub:()=>he,Yd:()=>ie,in:()=>ee});const l=[];var ee=(()=>{return(G=ee||(ee={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ee;var G})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},de=ee.INFO,ae={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},me=(G,z,...ne)=>{if(z<G.logLevel)return;const Ge=(new Date).toISOString(),Te=ae[z];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Te](`[${Ge}]  ${G.name}:`,...ne)};class ie{constructor(z){this.name=z,this._logLevel=de,this._logHandler=me,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in ee))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?N[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...z),this._logHandler(this,ee.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...z),this._logHandler(this,ee.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...z),this._logHandler(this,ee.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...z),this._logHandler(this,ee.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...z),this._logHandler(this,ee.ERROR,...z)}}function he(G){l.forEach(z=>{z.setLogLevel(G)})}function ge(G,z){for(const ne of l){let Ge=null;z&&z.level&&(Ge=N[z.level]),ne.userLogHandler=null===G?null:(Te,Re,...He)=>{const pe=He.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Ke){return null}}).filter(De=>De).join(" ");Re>=(null!=Ge?Ge:Te.logLevel)&&G({level:ee[Re].toLowerCase(),message:pe,args:He,type:Te.name})}}}},8766:(it,Ce,P)=>{P.d(Ce,{Lj:()=>Ae,X3:()=>nt});var l=P(5861);let N,de;const ie=new WeakMap,he=new WeakMap,ge=new WeakMap,G=new WeakMap,z=new WeakMap;let Te={get(W,Ee,Y){if(W instanceof IDBTransaction){if("done"===Ee)return he.get(W);if("objectStoreNames"===Ee)return W.objectStoreNames||ge.get(W);if("store"===Ee)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return De(W[Ee])},set:(W,Ee,Y)=>(W[Ee]=Y,!0),has:(W,Ee)=>W instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in W};function pe(W){return"function"==typeof W?function He(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(W)?function(...Ee){return W.apply(Ke(this),Ee),De(ie.get(this))}:function(...Ee){return De(W.apply(Ke(this),Ee))}:function(Ee,...Y){const re=W.call(Ke(this),Ee,...Y);return ge.set(re,Ee.sort?Ee.sort():[Ee]),De(re)}}(W):(W instanceof IDBTransaction&&function Ge(W){if(he.has(W))return;const Ee=new Promise((Y,re)=>{const te=()=>{W.removeEventListener("complete",_e),W.removeEventListener("error",ce),W.removeEventListener("abort",ce)},_e=()=>{Y(),te()},ce=()=>{re(W.error||new DOMException("AbortError","AbortError")),te()};W.addEventListener("complete",_e),W.addEventListener("error",ce),W.addEventListener("abort",ce)});he.set(W,Ee)}(W),((W,Ee)=>Ee.some(Y=>W instanceof Y))(W,function ae(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(W,Te):W)}function De(W){if(W instanceof IDBRequest)return function ne(W){const Ee=new Promise((Y,re)=>{const te=()=>{W.removeEventListener("success",_e),W.removeEventListener("error",ce)},_e=()=>{Y(De(W.result)),te()},ce=()=>{re(W.error),te()};W.addEventListener("success",_e),W.addEventListener("error",ce)});return Ee.then(Y=>{Y instanceof IDBCursor&&ie.set(Y,W)}).catch(()=>{}),z.set(Ee,W),Ee}(W);if(G.has(W))return G.get(W);const Ee=pe(W);return Ee!==W&&(G.set(W,Ee),z.set(Ee,W)),Ee}const Ke=W=>z.get(W);function nt(W,Ee,{blocked:Y,upgrade:re,blocking:te,terminated:_e}={}){const ce=indexedDB.open(W,Ee),Pe=De(ce);return re&&ce.addEventListener("upgradeneeded",pt=>{re(De(ce.result),pt.oldVersion,pt.newVersion,De(ce.transaction))}),Y&&ce.addEventListener("blocked",()=>Y()),Pe.then(pt=>{_e&&pt.addEventListener("close",()=>_e()),te&&pt.addEventListener("versionchange",()=>te())}).catch(()=>{}),Pe}function Ae(W,{blocked:Ee}={}){const Y=indexedDB.deleteDatabase(W);return Ee&&Y.addEventListener("blocked",()=>Ee()),De(Y).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Be=new Map;function je(W,Ee){if(!(W instanceof IDBDatabase)||Ee in W||"string"!=typeof Ee)return;if(Be.get(Ee))return Be.get(Ee);const Y=Ee.replace(/FromIndex$/,""),re=Ee!==Y,te=Ie.includes(Y);if(!(Y in(re?IDBIndex:IDBObjectStore).prototype)||!te&&!ye.includes(Y))return;const _e=function(){var ce=(0,l.Z)(function*(Pe,...pt){const qt=this.transaction(Pe,te?"readwrite":"readonly");let jt=qt.store;return re&&(jt=jt.index(pt.shift())),(yield Promise.all([jt[Y](...pt),te&&qt.done]))[0]});return function(pt){return ce.apply(this,arguments)}}();return Be.set(Ee,_e),_e}!function Re(W){Te=W(Te)}(W=>OF(RF({},W),{get:(Ee,Y,re)=>je(Ee,Y)||W.get(Ee,Y,re),has:(Ee,Y)=>!!je(Ee,Y)||W.has(Ee,Y)}))},5861:(it,Ce,P)=>{function l(N,de,ae,me,ie,he,ge){try{var G=N[he](ge),z=G.value}catch(ne){return void ae(ne)}G.done?de(z):Promise.resolve(z).then(me,ie)}function ee(N){return function(){var de=this,ae=arguments;return new Promise(function(me,ie){var he=N.apply(de,ae);function ge(z){l(he,me,ie,ge,G,"next",z)}function G(z){l(he,me,ie,ge,G,"throw",z)}ge(void 0)})}}P.d(Ce,{Z:()=>ee})}},it=>{it(it.s=8417)}]);